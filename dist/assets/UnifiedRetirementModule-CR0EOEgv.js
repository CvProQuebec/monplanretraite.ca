import{f as Gt,r as v,j as r,L as A,g as T,h as Se,i as Le,k as Ae,l as C,n as M,o as R,p as E,q as ye,s as be,t as je,v as Ne,w as ae,x as Rt,y as te,z as _,E as Qn,S as ue,G as Ve,H as Nr,J as wc,K as Ny,R as wy,C as mt,T as et,M as ir,N as Jt,O as Xt,P as re,Q as ee,B as ct,V as lr,D as it,W as Zn,X as Z,Y as wt,_ as ln,d as Pc,b as Ct,$ as Sc,c as Py,a0 as is,Z as _t,U as ls,F as ht,a1 as Ac,e as es,a2 as Cc,a3 as Ep,a4 as Sy,a5 as Ay,a6 as So,a7 as kp,a8 as nt,a9 as st,aa as Lr,ab as Cy,ac as Di,ad as os,ae as Oy,af as Mt,ag as Ey,ah as ky,m as tn,ai as Ao,aj as Ty,ak as Dy,al as My,A as Tp,am as Iy,an as Ry,ao as _y,ap as Fy,aq as Dp,ar as fd,as as Mp,at as Ip,au as Rp,av as cs,aw as Ly,ax as Mi,ay as _p,az as Ht,aA as De,aB as Sn,aC as Ft,aD as $y,aE as Lt,aF as $t,aG as Fp,aH as aa,aI as ia,aJ as _r,aK as la,aL as oa,aM as zy,aN as Fr,aO as Zt,aP as gr,aQ as ta,aR as $s,aS as By,aT as qy,aU as Vy,aV as pd,aW as Co,aX as kr,aY as xd,aZ as gd,a_ as vd,a$ as yd,b0 as bd,b1 as Uy,b2 as Wy,b3 as Ii,b4 as jd,b5 as Ky,b6 as Hy,b7 as Yy,b8 as Gy}from"./index-H1aOhknG.js";const Nd=Gt("Dices",[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]]),Jy=Gt("FileDown",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]),Xy=Gt("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]),Qy=Gt("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]),Ri=Gt("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),Zy=Gt("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),eb=Gt("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]),tb=Gt("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),wd=Gt("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]),Pd=Gt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),rb=Gt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),Sd=({id:e,label:t,value:n,onChange:s,className:a=""})=>{const[i,l]=v.useState(""),[o,c]=v.useState(!1),u=g=>{if(!g||g.length!==8)return"";const y=g.substring(0,4),b=g.substring(4,6),j=g.substring(6,8);return`${y}-${b}-${j}`},d=g=>g.replace(/-/g,"");v.useEffect(()=>{n&&n.length===8?l(u(n)):l("")},[n]);const m=g=>{const b=g.target.value.replace(/[^\d-]/g,"");if(b.length===8&&!b.includes("-")){const j=u(b);l(j),s(b),c(!1);return}if(b.length<=10&&(l(b),b.length===10&&b.includes("-"))){const j=d(b);j.length===8&&(s(j),c(!1))}},h=()=>{if(c(!1),i.length===10&&i.includes("-")){const g=d(i);g.length===8&&(s(g),l(u(g)))}else if(i.length===8&&!i.includes("-")){const g=u(i);l(g),s(i)}},f=()=>{c(!0)},x=()=>{if(!i||i.length!==10)return!1;const g=d(i);if(g.length!==8)return!1;const y=parseInt(g.substring(0,4)),b=parseInt(g.substring(4,6)),j=parseInt(g.substring(6,8));if(y<1900||y>new Date().getFullYear()||b<1||b>12||j<1||j>31||[4,6,9,11].includes(b)&&j>30)return!1;if(b===2){const N=y%4===0&&y%100!==0||y%400===0;if(N&&j>29||!N&&j>28)return!1}return!0},p=()=>i?x()?"border-green-500 bg-green-50 text-green-900":"border-red-500 bg-red-50 text-red-900":"border-gray-300 bg-white";return r.jsxs("div",{className:`space-y-3 ${a}`,children:[r.jsxs(A,{htmlFor:e,className:"text-lg font-semibold text-gray-800 flex items-center gap-2 mb-3",children:[r.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),t,r.jsx("span",{className:"text-sm text-gray-500 font-normal ml-2",children:"(Format: AAAA-MM-JJ ou AAAA)"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(T,{id:e,type:"text",placeholder:"1987-09-08 ou 19870908",value:i,onChange:m,onFocus:f,onBlur:h,className:`w-full text-center text-lg p-4 h-14 border-2 transition-all duration-200 font-mono ${p()} hover:border-blue-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-200`}),i&&r.jsx("div",{className:`absolute -top-2 -right-2 w-6 h-6 rounded-full flex items-center justify-center shadow-lg z-10 ${x()?"bg-green-500 animate-pulse":"bg-red-500"}`,children:r.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:x()?"M5 13l4 4L19 7":"M6 18L18 6M6 6l12 12"})})}),o&&r.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm text-blue-800 shadow-lg z-20",children:[r.jsx("div",{className:"font-semibold mb-1",children:"üí° Conseils de saisie :"}),r.jsxs("div",{children:["‚Ä¢ Tapez directement : ",r.jsx("span",{className:"font-mono bg-blue-100 px-1 rounded",children:"19870908"})]}),r.jsxs("div",{children:["‚Ä¢ Ou utilisez le format : ",r.jsx("span",{className:"font-mono bg-blue-100 px-1 rounded",children:"1987-09-08"})]}),r.jsx("div",{children:"‚Ä¢ La date sera automatiquement format√©e et valid√©e"})]})]}),i&&!x()&&r.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-2 rounded border border-red-200",children:"‚ö†Ô∏è Date invalide. V√©rifiez le format et la validit√© de la date."})]})},nb=1,sb=1e6;let _i=0;function ab(){return _i=(_i+1)%Number.MAX_SAFE_INTEGER,_i.toString()}const Fi=new Map,Ad=e=>{if(Fi.has(e))return;const t=setTimeout(()=>{Fi.delete(e),ts({type:"REMOVE_TOAST",toastId:e})},sb);Fi.set(e,t)},ib=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,nb)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Ad(n):e.toasts.forEach(s=>{Ad(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},ra=[];let na={toasts:[]};function ts(e){na=ib(na,e),ra.forEach(t=>{t(na)})}function lb({...e}){const t=ab(),n=a=>ts({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>ts({type:"DISMISS_TOAST",toastId:t});return ts({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:n}}function Ja(){const[e,t]=v.useState(na);return v.useEffect(()=>(ra.push(t),()=>{const n=ra.indexOf(t);n>-1&&ra.splice(n,1)}),[e]),{...e,toast:lb,dismiss:n=>ts({type:"DISMISS_TOAST",toastId:n})}}const ob=({data:e,onUpdate:t})=>{const[n,s]=v.useState(!1),{toast:a}=Ja(),i=window.location.pathname.includes("/fr/")||!window.location.pathname.includes("/en/");v.useEffect(()=>{if(e.personal?.depensesAnnuelles&&e.personal.depensesAnnuelles>0){const u=Math.round(e.personal.depensesAnnuelles/12);e.personal.depensesMensuelles!==u&&(l("depensesMensuelles",u),console.log(`üîÑ Calcul automatique: $${e.personal.depensesAnnuelles} annuel = $${u} mensuel`))}},[e.personal?.depensesAnnuelles]);const l=(u,d)=>{t("personal",{[u]:d})},o=(u,d)=>{const m=parseFloat(d.replace(/[^\d.]/g,""))||0;l(`salaire${u}`,m)},c=u=>u>0?Ve(u,{showCents:!1}):"";return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-indigo-900 text-white",children:[r.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-20 left-10 w-2 h-2 bg-yellow-400 rounded-full animate-pulse"}),r.jsx("div",{className:"absolute top-40 right-20 w-3 h-3 bg-blue-400 rounded-full animate-bounce"}),r.jsx("div",{className:"absolute top-60 left-1/4 w-2 h-2 bg-green-400 rounded-full animate-ping"}),r.jsx("div",{className:"absolute top-80 right-1/3 w-1 h-1 bg-red-400 rounded-full animate-pulse"}),r.jsx("div",{className:"absolute top-96 left-1/2 w-2 h-2 bg-purple-400 rounded-full animate-bounce"}),r.jsx("div",{className:"absolute top-32 right-1/4 w-2 h-2 bg-orange-400 rounded-full animate-pulse"}),r.jsx("div",{className:"absolute top-72 left-1/3 w-1 h-1 bg-pink-400 rounded-full animate-bounce"})]}),r.jsxs("div",{className:"container mx-auto px-6 py-8 relative z-10",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-yellow-400 via-orange-400 to-red-500 bg-clip-text text-transparent drop-shadow-2xl",children:i?"üöÄ Donn√©es personnelles avanc√©es":"üöÄ Advanced Personal Data"}),r.jsx("p",{className:"text-xl md:text-2xl text-gray-200 max-w-4xl mx-auto leading-relaxed",children:i?"Transformez vos informations en planification financi√®re spectaculaire":"Transform your information into spectacular financial planning"})]}),n&&r.jsxs(Se,{className:"border-yellow-400 bg-yellow-900/20 text-yellow-200 mb-8",children:[r.jsx(Le,{className:"h-5 w-5 text-yellow-400"}),r.jsxs(Ae,{className:"text-lg",children:[r.jsx("strong",{children:i?"Conseils :":"Tips:"})," ",i?"Remplissez les informations pour chaque personne. Si vous √™tes seul(e), laissez la section ¬´ Personne 2 ¬ª vide. Les montants en dollars n'incluent pas les centimes pour simplifier la saisie.":'Fill in the information for each person. If you are single, leave the "Person 2" section empty. Dollar amounts do not include cents to simplify entry.']})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[r.jsxs(C,{className:"bg-gradient-to-br from-slate-800/90 to-slate-700/90 border-0 shadow-2xl backdrop-blur-sm",children:[r.jsx(M,{className:"border-b border-slate-600 bg-gradient-to-r from-blue-600/20 to-purple-600/20",children:r.jsxs(R,{className:"text-2xl font-bold text-blue-300 flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold shadow-lg",children:"1"}),i?"Personne 1":"Person 1"]})}),r.jsx(E,{className:"p-6 space-y-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{className:"text-gray-200 font-semibold",children:i?"Pr√©nom":"First Name"}),r.jsx(T,{type:"text",value:e.personal?.prenom1||"",onChange:u=>l("prenom1",u.target.value),className:"bg-slate-700 border-slate-600 text-white placeholder-gray-400 focus:border-blue-400 focus:ring-blue-400",placeholder:i?"Pr√©nom":"First Name"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{className:"text-gray-200 font-semibold",children:i?"Date de naissance":"Date of Birth"}),r.jsx(Sd,{value:e.personal?.dateNaissance1,onChange:u=>l("dateNaissance1",u),className:"bg-slate-700 border-slate-600 text-white"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{className:"text-gray-200 font-semibold",children:i?"Sexe":"Gender"}),r.jsxs(ye,{value:e.personal?.sexe1||"homme",onValueChange:u=>l("sexe1",u),children:[r.jsx(be,{className:"bg-slate-700 border-slate-600 text-white",children:r.jsx(je,{})}),r.jsxs(Ne,{className:"bg-slate-700 border-slate-600",children:[r.jsx(ae,{value:"homme",children:i?"Homme":"Male"}),r.jsx(ae,{value:"femme",children:i?"Femme":"Female"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{className:"text-gray-200 font-semibold",children:i?"Statut professionnel":"Professional Status"}),r.jsxs(ye,{value:e.personal?.statutProfessionnel1||"actif",onValueChange:u=>l("statutProfessionnel1",u),children:[r.jsx(be,{className:"bg-slate-700 border-slate-600 text-white",children:r.jsx(je,{})}),r.jsxs(Ne,{className:"bg-slate-700 border-slate-600",children:[r.jsx(ae,{value:"actif",children:i?"Actif":"Active"}),r.jsx(ae,{value:"retraite",children:i?"Retrait√©":"Retired"}),r.jsx(ae,{value:"autre",children:i?"Autre":"Other"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{className:"text-gray-200 font-semibold",children:i?"$ Salaire actuel":"$ Current Salary"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:"$"}),r.jsx(T,{type:"text",value:c(e.personal?.salaire1||0),onChange:u=>o("1",u.target.value),className:"bg-slate-700 border-slate-600 text-white placeholder-gray-400 pl-8 focus:border-blue-400 focus:ring-blue-400",placeholder:"0"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{className:"text-gray-200 font-semibold",children:i?"√Çge de retraite souhait√©":"Desired Retirement Age"}),r.jsx(T,{type:"number",value:e.personal?.ageRetraite1||65,onChange:u=>l("ageRetraite1",Number(u.target.value)),className:"bg-slate-700 border-slate-600 text-white placeholder-gray-400 focus:border-blue-400 focus:ring-blue-400",min:"50",max:"100"})]})]})})]}),r.jsxs(C,{className:"bg-gradient-to-br from-indigo-800/90 to-purple-800/90 border-0 shadow-2xl backdrop-blur-sm",children:[r.jsx(M,{className:"border-b border-indigo-600 bg-gradient-to-r from-indigo-600/20 to-purple-600/20",children:r.jsxs(R,{className:"text-2xl font-bold text-indigo-300 flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold shadow-lg",children:"2"}),i?"Personne 2":"Person 2"]})}),r.jsx(E,{className:"p-6 space-y-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{className:"text-gray-200 font-semibold",children:i?"Pr√©nom (optionnel)":"First Name (optional)"}),r.jsx(T,{type:"text",value:e.personal?.prenom2||"",onChange:u=>l("prenom2",u.target.value),className:"bg-slate-700 border-slate-600 text-white placeholder-gray-400 focus:border-indigo-400 focus:ring-indigo-400",placeholder:i?"Pr√©nom (optionnel)":"First Name (optional)"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{className:"text-gray-200 font-semibold",children:i?"Date de naissance":"Date of Birth"}),r.jsx(Sd,{value:e.personal?.dateNaissance2,onChange:u=>l("dateNaissance2",u),className:"bg-slate-700 border-slate-600 text-white"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{className:"text-gray-200 font-semibold",children:i?"Sexe":"Gender"}),r.jsxs(ye,{value:e.personal?.sexe2||"femme",onValueChange:u=>l("sexe2",u),children:[r.jsx(be,{className:"bg-slate-700 border-slate-600 text-white",children:r.jsx(je,{})}),r.jsxs(Ne,{className:"bg-slate-700 border-slate-600",children:[r.jsx(ae,{value:"homme",children:i?"Homme":"Male"}),r.jsx(ae,{value:"femme",children:i?"Femme":"Female"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{className:"text-gray-200 font-semibold",children:i?"Statut professionnel":"Professional Status"}),r.jsxs(ye,{value:e.personal?.statutProfessionnel2||"actif",onValueChange:u=>l("statutProfessionnel2",u),children:[r.jsx(be,{className:"bg-slate-700 border-slate-600 text-white",children:r.jsx(je,{})}),r.jsxs(Ne,{className:"bg-slate-700 border-slate-600",children:[r.jsx(ae,{value:"actif",children:i?"Actif":"Active"}),r.jsx(ae,{value:"retraite",children:i?"Retrait√©":"Retired"}),r.jsx(ae,{value:"autre",children:i?"Autre":"Other"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{className:"text-gray-200 font-semibold",children:i?"$ Salaire actuel":"$ Current Salary"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:"$"}),r.jsx(T,{type:"text",value:c(e.personal?.salaire2||0),onChange:u=>o("2",u.target.value),className:"bg-slate-700 border-slate-600 text-white placeholder-gray-400 pl-8 focus:border-indigo-400 focus:ring-indigo-400",placeholder:"0"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{className:"text-gray-200 font-semibold",children:i?"√Çge de retraite souhait√©":"Desired Retirement Age"}),r.jsx(T,{type:"number",value:e.personal?.ageRetraite2||65,onChange:u=>l("ageRetraite2",Number(u.target.value)),className:"bg-slate-700 border-slate-600 text-white placeholder-gray-400 focus:border-indigo-400 focus:ring-indigo-400",min:"50",max:"100"})]})]})})]})]}),r.jsxs(C,{className:"bg-gradient-to-br from-yellow-800/90 to-orange-800/90 border-0 shadow-2xl backdrop-blur-sm mb-12",children:[r.jsxs(M,{className:"border-b border-yellow-600 bg-gradient-to-r from-yellow-600/20 to-orange-600/20",children:[r.jsxs(R,{className:"text-2xl font-bold text-yellow-300 flex items-center gap-3",children:[r.jsx(Rt,{className:"w-8 h-8"}),i?"$ D√©penses de retraite":"$ Retirement Expenses"]}),r.jsx(te,{className:"text-yellow-200",children:i?"D√©penses mensuelles de retraite (en dollars actuels) :":"Monthly retirement expenses (in current dollars):"})]}),r.jsxs(E,{className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{className:"text-gray-200 font-semibold",children:i?"D√©penses mensuelles":"Monthly Expenses"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:"$"}),r.jsx(T,{type:"number",value:e.personal?.depensesMensuelles||0,onChange:u=>l("depensesMensuelles",Number(u.target.value)),className:"bg-slate-700 border-slate-600 text-white placeholder-gray-400 pl-8 focus:border-yellow-400 focus:ring-yellow-400",placeholder:"0"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{className:"text-gray-200 font-semibold",children:i?"D√©penses annuelles":"Annual Expenses"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:"$"}),r.jsx(T,{type:"number",value:e.personal?.depensesAnnuelles||0,onChange:u=>l("depensesAnnuelles",Number(u.target.value)),className:"bg-slate-700 border-slate-600 text-white placeholder-gray-400 pl-8 focus:border-yellow-400 focus:ring-yellow-400",placeholder:"0"})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-slate-700/50 to-slate-600/50 p-4 rounded-lg border border-slate-500/30",children:[r.jsxs("h4",{className:"text-lg font-semibold text-gray-200 mb-3 flex items-center gap-2",children:[r.jsx(Rt,{className:"w-5 h-5 text-yellow-400"}),i?"R√©sum√© calcul√© automatiquement:":"Automatically calculated summary:",e.personal?.depensesAnnuelles&&e.personal.depensesAnnuelles>0&&r.jsx("span",{className:"text-xs bg-green-500 text-white px-2 py-1 rounded-full animate-pulse",children:"‚úÖ Auto"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-green-400",children:["$",(e.personal?.depensesMensuelles||0).toLocaleString()]}),r.jsx("div",{className:"text-sm text-gray-300",children:i?"Mensuel":"Monthly"}),e.personal?.depensesAnnuelles&&e.personal.depensesAnnuelles>0&&r.jsx("div",{className:"text-xs text-green-400 mt-1",children:"Calcul√© automatiquement"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:["$",(e.personal?.depensesAnnuelles||0).toLocaleString()]}),r.jsx("div",{className:"text-sm text-gray-300",children:i?"Annuel":"Annual"})]})]})]})]})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs(_,{size:"lg",className:"bg-gradient-to-r from-green-500 via-emerald-500 to-teal-600 hover:from-green-600 hover:via-emerald-600 hover:to-teal-700 text-white font-bold text-2xl py-6 px-12 shadow-2xl transform hover:scale-110 transition-all duration-300 border-4 border-white/20 backdrop-blur-sm",onClick:()=>{console.log("üíæ Sauvegarde des donn√©es...");try{if(e.personal?.depensesAnnuelles&&e.personal.depensesAnnuelles>0){const d=Math.round(e.personal.depensesAnnuelles/12);l("depensesMensuelles",d),a({title:"‚úÖ Donn√©es sauvegard√©es !",description:`Vos informations personnelles ont √©t√© sauvegard√©es avec succ√®s. D√©penses mensuelles calcul√©es automatiquement : $${d.toLocaleString()}`,variant:"default"}),console.log(`üîÑ D√©penses mensuelles calcul√©es et sauvegard√©es: $${d}`)}else a({title:"üíæ Donn√©es sauvegard√©es",description:"Vos donn√©es ont √©t√© sauvegard√©es. Compl√©tez les d√©penses annuelles pour un calcul automatique optimal.",variant:"default"});const u={...e.personal,depensesMensuelles:e.personal?.depensesMensuelles||(e.personal?.depensesAnnuelles?Math.round(e.personal.depensesAnnuelles/12):0)};t("personal",u),console.log("üíæ Donn√©es personnelles sauvegard√©es avec succ√®s:",u)}catch(u){console.error("‚ùå Erreur lors de la sauvegarde:",u),a({title:"‚ùå Erreur de sauvegarde",description:"Impossible de sauvegarder vos donn√©es. Veuillez r√©essayer.",variant:"destructive"})}},children:[r.jsx(Qn,{className:"w-8 h-8 mr-4 animate-pulse"}),i?"üíæ SAUVEGARDER":"üíæ SAVE",r.jsx(ue,{className:"w-8 h-8 ml-4 animate-bounce"})]}),r.jsx("p",{className:"text-gray-300 mt-4 text-lg",children:i?"‚ú® Prot√©gez vos donn√©es et continuez en toute s√©curit√© !":"‚ú® Protect your data and continue safely!"})]})]})]})};function Lp(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Lp(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function de(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Lp(e))&&(s&&(s+=" "),s+=t);return s}var Li={},$i={},Cd;function cb(){return Cd||(Cd=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})($i)),$i}var zi={},Od;function $p(){return Od||(Od=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(zi)),zi}var Bi={},Ed;function zp(){return Ed||(Ed=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(Bi)),Bi}var qi={},kd;function Oc(){return kd||(kd=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const s=[],a=n.length;if(a===0)return s;let i=0,l="",o="",c=!1;for(n.charCodeAt(0)===46&&(s.push(""),i++);i<a;){const u=n[i];o?u==="\\"&&i+1<a?(i++,l+=n[i]):u===o?o="":l+=u:c?u==='"'||u==="'"?o=u:u==="]"?(c=!1,s.push(l),l=""):l+=u:u==="["?(c=!0,l&&(s.push(l),l="")):u==="."?l&&(s.push(l),l=""):l+=u,i++}return l&&s.push(l),s}e.toPath=t})(qi)),qi}var Td;function Ec(){return Td||(Td=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cb(),n=$p(),s=zp(),a=Oc();function i(o,c,u){if(o==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?n.isDeepKey(c)?i(o,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=s.toKey(c));const d=o[c];return d===void 0?u:d}default:{if(Array.isArray(c))return l(o,c,u);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?u:d}}}function l(o,c,u){if(c.length===0)return u;let d=o;for(let m=0;m<c.length;m++){if(d==null||t.isUnsafeProperty(c[m]))return u;d=d[c[m]]}return d===void 0?u:d}e.get=i})(Li)),Li}var Vi,Dd;function ub(){return Dd||(Dd=1,Vi=Ec().get),Vi}var db=ub();const on=Nr(db);var Ui={exports:{}},he={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Md;function mb(){if(Md)return he;Md=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.for("react.view_transition"),f=Symbol.for("react.client.reference");function x(p){if(typeof p=="object"&&p!==null){var g=p.$$typeof;switch(g){case e:switch(p=p.type,p){case n:case a:case s:case c:case u:case h:return p;default:switch(p=p&&p.$$typeof,p){case l:case o:case m:case d:return p;case i:return p;default:return g}}case t:return g}}}return he.ContextConsumer=i,he.ContextProvider=l,he.Element=e,he.ForwardRef=o,he.Fragment=n,he.Lazy=m,he.Memo=d,he.Portal=t,he.Profiler=a,he.StrictMode=s,he.Suspense=c,he.SuspenseList=u,he.isContextConsumer=function(p){return x(p)===i},he.isContextProvider=function(p){return x(p)===l},he.isElement=function(p){return typeof p=="object"&&p!==null&&p.$$typeof===e},he.isForwardRef=function(p){return x(p)===o},he.isFragment=function(p){return x(p)===n},he.isLazy=function(p){return x(p)===m},he.isMemo=function(p){return x(p)===d},he.isPortal=function(p){return x(p)===t},he.isProfiler=function(p){return x(p)===a},he.isStrictMode=function(p){return x(p)===s},he.isSuspense=function(p){return x(p)===c},he.isSuspenseList=function(p){return x(p)===u},he.isValidElementType=function(p){return typeof p=="string"||typeof p=="function"||p===n||p===a||p===s||p===c||p===u||typeof p=="object"&&p!==null&&(p.$$typeof===m||p.$$typeof===d||p.$$typeof===l||p.$$typeof===i||p.$$typeof===o||p.$$typeof===f||p.getModuleId!==void 0)},he.typeOf=x,he}var Id;function hb(){return Id||(Id=1,Ui.exports=mb()),Ui.exports}var fb=hb(),ut=e=>e===0?0:e>0?1:-1,ft=e=>typeof e=="number"&&e!=+e,Gr=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,U=e=>(typeof e=="number"||e instanceof Number)&&!ft(e),rr=e=>U(e)||typeof e=="string",pb=0,us=e=>{var t=++pb;return"".concat(e||"").concat(t)},Yt=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!U(t)&&typeof t!="string")return s;var i;if(Gr(t)){if(n==null)return s;var l=t.indexOf("%");i=n*parseFloat(t.slice(0,l))/100}else i=+t;return ft(i)&&(i=s),a&&n!=null&&i>n&&(i=n),i},Bp=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},s=0;s<t;s++)if(!n[e[s]])n[e[s]]=!0;else return!0;return!1};function Ke(e,t,n){return U(e)&&U(t)?e+n*(t-e):t}function qp(e,t,n){if(!(!e||!e.length))return e.find(s=>s&&(typeof t=="function"?t(s):on(s,t))===n)}var ge=e=>e===null||typeof e>"u",ws=e=>ge(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),xb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function kc(e){if(typeof e!="string")return!1;var t=xb;return t.includes(e)}var gb=["viewBox","children"],Rd=["points","pathLength"],Wi={svg:gb,polygon:Rd,polyline:Rd},Tc=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var s={};return Object.keys(n).forEach(a=>{kc(a)&&(s[a]=(i=>n[a](n,i)))}),s},vb=(e,t,n)=>s=>(e(t,n,s),null),Dc=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var s=null;return Object.keys(e).forEach(a=>{var i=e[a];kc(a)&&typeof i=="function"&&(s||(s={}),s[a]=vb(i,t,n))}),s},yb=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function Vp(e){if(typeof e!="string")return!1;var t=yb;return t.includes(e)}function wr(e){var t=Object.entries(e).filter(n=>{var[s]=n;return Vp(s)});return Object.fromEntries(t)}var _d=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Fd=null,Ki=null,Up=e=>{if(e===Fd&&Array.isArray(Ki))return Ki;var t=[];return v.Children.forEach(e,n=>{ge(n)||(fb.isFragment(n)?t=t.concat(Up(n.props.children)):t.push(n))}),Ki=t,Fd=e,t};function Mc(e,t){var n=[],s=[];return Array.isArray(t)?s=t.map(a=>_d(a)):s=[_d(t)],Up(e).forEach(a=>{var i=on(a,"type.displayName")||on(a,"type.name");s.indexOf(i)!==-1&&n.push(a)}),n}var Xa=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,bb=(e,t,n,s)=>{var a;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(a=s&&Wi?.[s])!==null&&a!==void 0?a:[],l=t.startsWith("data-"),o=typeof e!="function"&&(!!s&&i.includes(t)||Vp(t)),c=!!n&&kc(t);return l||o||c},we=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(v.isValidElement(e)&&(s=e.props),typeof s!="object"&&typeof s!="function")return null;var a={};return Object.keys(s).forEach(i=>{var l;bb((l=s)===null||l===void 0?void 0:l[i],i,t,n)&&(a[i]=s[i])}),a},jb=["children","width","height","viewBox","className","style","title","desc"];function Oo(){return Oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Oo.apply(null,arguments)}function Nb(e,t){if(e==null)return{};var n,s,a=wb(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function wb(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var Wp=v.forwardRef((e,t)=>{var{children:n,width:s,height:a,viewBox:i,className:l,style:o,title:c,desc:u}=e,d=Nb(e,jb),m=i||{width:s,height:a,x:0,y:0},h=de("recharts-surface",l);return v.createElement("svg",Oo({},we(d,!0,"svg"),{className:h,width:s,height:a,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),v.createElement("title",null,c),v.createElement("desc",null,u),n)}),Pb=["children","className"];function Eo(){return Eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Eo.apply(null,arguments)}function Sb(e,t){if(e==null)return{};var n,s,a=Ab(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ab(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var tt=v.forwardRef((e,t)=>{var{children:n,className:s}=e,a=Sb(e,Pb),i=de("recharts-layer",s);return v.createElement("g",Eo({className:i},we(a,!0),{ref:t}),n)}),Cb=v.createContext(null);function xe(e){return function(){return e}}const Kp=Math.cos,ca=Math.sin,Qt=Math.sqrt,ua=Math.PI,Qa=2*ua,ko=Math.PI,To=2*ko,Kr=1e-6,Ob=To-Kr;function Hp(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Eb(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Hp;const n=10**t;return function(s){this._+=s[0];for(let a=1,i=s.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+s[a]}}class kb{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Hp:Eb(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,s,a){this._append`Q${+t},${+n},${this._x1=+s},${this._y1=+a}`}bezierCurveTo(t,n,s,a,i,l){this._append`C${+t},${+n},${+s},${+a},${this._x1=+i},${this._y1=+l}`}arcTo(t,n,s,a,i){if(t=+t,n=+n,s=+s,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,o=this._y1,c=s-t,u=a-n,d=l-t,m=o-n,h=d*d+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>Kr)if(!(Math.abs(m*c-u*d)>Kr)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let f=s-l,x=a-o,p=c*c+u*u,g=f*f+x*x,y=Math.sqrt(p),b=Math.sqrt(h),j=i*Math.tan((ko-Math.acos((p+h-g)/(2*y*b)))/2),N=j/b,w=j/y;Math.abs(N-1)>Kr&&this._append`L${t+N*d},${n+N*m}`,this._append`A${i},${i},0,0,${+(m*f>d*x)},${this._x1=t+w*c},${this._y1=n+w*u}`}}arc(t,n,s,a,i,l){if(t=+t,n=+n,s=+s,l=!!l,s<0)throw new Error(`negative radius: ${s}`);let o=s*Math.cos(a),c=s*Math.sin(a),u=t+o,d=n+c,m=1^l,h=l?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Kr||Math.abs(this._y1-d)>Kr)&&this._append`L${u},${d}`,s&&(h<0&&(h=h%To+To),h>Ob?this._append`A${s},${s},0,1,${m},${t-o},${n-c}A${s},${s},0,1,${m},${this._x1=u},${this._y1=d}`:h>Kr&&this._append`A${s},${s},0,${+(h>=ko)},${m},${this._x1=t+s*Math.cos(i)},${this._y1=n+s*Math.sin(i)}`)}rect(t,n,s,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${s=+s}v${+a}h${-s}Z`}toString(){return this._}}function Ic(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const s=Math.floor(n);if(!(s>=0))throw new RangeError(`invalid digits: ${n}`);t=s}return e},()=>new kb(t)}function Rc(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Yp(e){this._context=e}Yp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Za(e){return new Yp(e)}function Gp(e){return e[0]}function Jp(e){return e[1]}function Xp(e,t){var n=xe(!0),s=null,a=Za,i=null,l=Ic(o);e=typeof e=="function"?e:e===void 0?Gp:xe(e),t=typeof t=="function"?t:t===void 0?Jp:xe(t);function o(c){var u,d=(c=Rc(c)).length,m,h=!1,f;for(s==null&&(i=a(f=l())),u=0;u<=d;++u)!(u<d&&n(m=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(m,u,c),+t(m,u,c));if(f)return i=null,f+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:xe(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:xe(+c),o):t},o.defined=function(c){return arguments.length?(n=typeof c=="function"?c:xe(!!c),o):n},o.curve=function(c){return arguments.length?(a=c,s!=null&&(i=a(s)),o):a},o.context=function(c){return arguments.length?(c==null?s=i=null:i=a(s=c),o):s},o}function zs(e,t,n){var s=null,a=xe(!0),i=null,l=Za,o=null,c=Ic(u);e=typeof e=="function"?e:e===void 0?Gp:xe(+e),t=typeof t=="function"?t:xe(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Jp:xe(+n);function u(m){var h,f,x,p=(m=Rc(m)).length,g,y=!1,b,j=new Array(p),N=new Array(p);for(i==null&&(o=l(b=c())),h=0;h<=p;++h){if(!(h<p&&a(g=m[h],h,m))===y)if(y=!y)f=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),x=h-1;x>=f;--x)o.point(j[x],N[x]);o.lineEnd(),o.areaEnd()}y&&(j[h]=+e(g,h,m),N[h]=+t(g,h,m),o.point(s?+s(g,h,m):j[h],n?+n(g,h,m):N[h]))}if(b)return o=null,b+""||null}function d(){return Xp().defined(a).curve(l).context(i)}return u.x=function(m){return arguments.length?(e=typeof m=="function"?m:xe(+m),s=null,u):e},u.x0=function(m){return arguments.length?(e=typeof m=="function"?m:xe(+m),u):e},u.x1=function(m){return arguments.length?(s=m==null?null:typeof m=="function"?m:xe(+m),u):s},u.y=function(m){return arguments.length?(t=typeof m=="function"?m:xe(+m),n=null,u):t},u.y0=function(m){return arguments.length?(t=typeof m=="function"?m:xe(+m),u):t},u.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:xe(+m),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(s).y(t)},u.defined=function(m){return arguments.length?(a=typeof m=="function"?m:xe(!!m),u):a},u.curve=function(m){return arguments.length?(l=m,i!=null&&(o=l(i)),u):l},u.context=function(m){return arguments.length?(m==null?i=o=null:o=l(i=m),u):i},u}class Qp{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Tb(e){return new Qp(e,!0)}function Db(e){return new Qp(e,!1)}const _c={draw(e,t){const n=Qt(t/ua);e.moveTo(n,0),e.arc(0,0,n,0,Qa)}},Mb={draw(e,t){const n=Qt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Zp=Qt(1/3),Ib=Zp*2,Rb={draw(e,t){const n=Qt(t/Ib),s=n*Zp;e.moveTo(0,-n),e.lineTo(s,0),e.lineTo(0,n),e.lineTo(-s,0),e.closePath()}},_b={draw(e,t){const n=Qt(t),s=-n/2;e.rect(s,s,n,n)}},Fb=.8908130915292852,ex=ca(ua/10)/ca(7*ua/10),Lb=ca(Qa/10)*ex,$b=-Kp(Qa/10)*ex,zb={draw(e,t){const n=Qt(t*Fb),s=Lb*n,a=$b*n;e.moveTo(0,-n),e.lineTo(s,a);for(let i=1;i<5;++i){const l=Qa*i/5,o=Kp(l),c=ca(l);e.lineTo(c*n,-o*n),e.lineTo(o*s-c*a,c*s+o*a)}e.closePath()}},Hi=Qt(3),Bb={draw(e,t){const n=-Qt(t/(Hi*3));e.moveTo(0,n*2),e.lineTo(-Hi*n,-n),e.lineTo(Hi*n,-n),e.closePath()}},Et=-.5,kt=Qt(3)/2,Do=1/Qt(12),qb=(Do/2+1)*3,Vb={draw(e,t){const n=Qt(t/qb),s=n/2,a=n*Do,i=s,l=n*Do+n,o=-i,c=l;e.moveTo(s,a),e.lineTo(i,l),e.lineTo(o,c),e.lineTo(Et*s-kt*a,kt*s+Et*a),e.lineTo(Et*i-kt*l,kt*i+Et*l),e.lineTo(Et*o-kt*c,kt*o+Et*c),e.lineTo(Et*s+kt*a,Et*a-kt*s),e.lineTo(Et*i+kt*l,Et*l-kt*i),e.lineTo(Et*o+kt*c,Et*c-kt*o),e.closePath()}};function Ub(e,t){let n=null,s=Ic(a);e=typeof e=="function"?e:xe(e||_c),t=typeof t=="function"?t:xe(t===void 0?64:+t);function a(){let i;if(n||(n=i=s()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:xe(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:xe(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function da(){}function ma(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function tx(e){this._context=e}tx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ma(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ma(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Wb(e){return new tx(e)}function rx(e){this._context=e}rx.prototype={areaStart:da,areaEnd:da,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ma(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Kb(e){return new rx(e)}function nx(e){this._context=e}nx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,s):this._context.moveTo(n,s);break;case 3:this._point=4;default:ma(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Hb(e){return new nx(e)}function sx(e){this._context=e}sx.prototype={areaStart:da,areaEnd:da,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Yb(e){return new sx(e)}function Ld(e){return e<0?-1:1}function $d(e,t,n){var s=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(s||a<0&&-0),l=(n-e._y1)/(a||s<0&&-0),o=(i*a+l*s)/(s+a);return(Ld(i)+Ld(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(o))||0}function zd(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Yi(e,t,n){var s=e._x0,a=e._y0,i=e._x1,l=e._y1,o=(i-s)/3;e._context.bezierCurveTo(s+o,a+o*t,i-o,l-o*n,i,l)}function ha(e){this._context=e}ha.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Yi(this,this._t0,zd(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Yi(this,zd(this,n=$d(this,e,t)),n);break;default:Yi(this,this._t0,n=$d(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function ax(e){this._context=new ix(e)}(ax.prototype=Object.create(ha.prototype)).point=function(e,t){ha.prototype.point.call(this,t,e)};function ix(e){this._context=e}ix.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,s,a,i){this._context.bezierCurveTo(t,e,s,n,i,a)}};function Gb(e){return new ha(e)}function Jb(e){return new ax(e)}function lx(e){this._context=e}lx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var s=Bd(e),a=Bd(t),i=0,l=1;l<n;++i,++l)this._context.bezierCurveTo(s[0][i],a[0][i],s[1][i],a[1][i],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Bd(e){var t,n=e.length-1,s,a=new Array(n),i=new Array(n),l=new Array(n);for(a[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)s=a[t]/i[t-1],i[t]-=s,l[t]-=s*l[t-1];for(a[n-1]=l[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(l[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Xb(e){return new lx(e)}function ei(e,t){this._context=e,this._t=t}ei.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Qb(e){return new ei(e,.5)}function Zb(e){return new ei(e,0)}function ej(e){return new ei(e,1)}function An(e,t){if((l=e.length)>1)for(var n=1,s,a,i=e[t[0]],l,o=i.length;n<l;++n)for(a=i,i=e[t[n]],s=0;s<o;++s)i[s][1]+=i[s][0]=isNaN(a[s][1])?a[s][0]:a[s][1]}function Mo(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function tj(e,t){return e[t]}function rj(e){const t=[];return t.key=e,t}function nj(){var e=xe([]),t=Mo,n=An,s=tj;function a(i){var l=Array.from(e.apply(this,arguments),rj),o,c=l.length,u=-1,d;for(const m of i)for(o=0,++u;o<c;++o)(l[o][u]=[0,+s(m,l[o].key,u,i)]).data=m;for(o=0,d=Rc(t(l));o<c;++o)l[d[o]].index=o;return n(l,d),l}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:xe(Array.from(i)),a):e},a.value=function(i){return arguments.length?(s=typeof i=="function"?i:xe(+i),a):s},a.order=function(i){return arguments.length?(t=i==null?Mo:typeof i=="function"?i:xe(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??An,a):n},a}function sj(e,t){if((s=e.length)>0){for(var n,s,a=0,i=e[0].length,l;a<i;++a){for(l=n=0;n<s;++n)l+=e[n][a][1]||0;if(l)for(n=0;n<s;++n)e[n][a][1]/=l}An(e,t)}}function aj(e,t){if((a=e.length)>0){for(var n=0,s=e[t[0]],a,i=s.length;n<i;++n){for(var l=0,o=0;l<a;++l)o+=e[l][n][1]||0;s[n][1]+=s[n][0]=-o/2}An(e,t)}}function ij(e,t){if(!(!((l=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,s=1,a,i,l;s<i;++s){for(var o=0,c=0,u=0;o<l;++o){for(var d=e[t[o]],m=d[s][1]||0,h=d[s-1][1]||0,f=(m-h)/2,x=0;x<o;++x){var p=e[t[x]],g=p[s][1]||0,y=p[s-1][1]||0;f+=g-y}c+=m,u+=f*m}a[s-1][1]+=a[s-1][0]=n,c&&(n-=u/c)}a[s-1][1]+=a[s-1][0]=n,An(e,t)}}var lj=["type","size","sizeType"];function Io(){return Io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Io.apply(null,arguments)}function qd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Vd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qd(Object(n),!0).forEach(function(s){oj(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qd(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function oj(e,t,n){return(t=cj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cj(e){var t=uj(e,"string");return typeof t=="symbol"?t:t+""}function uj(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dj(e,t){if(e==null)return{};var n,s,a=mj(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function mj(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var ox={symbolCircle:_c,symbolCross:Mb,symbolDiamond:Rb,symbolSquare:_b,symbolStar:zb,symbolTriangle:Bb,symbolWye:Vb},hj=Math.PI/180,fj=e=>{var t="symbol".concat(ws(e));return ox[t]||_c},pj=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var s=18*hj;return 1.25*e*e*(Math.tan(s)-Math.tan(s*2)*Math.tan(s)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},xj=(e,t)=>{ox["symbol".concat(ws(e))]=t},cx=e=>{var{type:t="circle",size:n=64,sizeType:s="area"}=e,a=dj(e,lj),i=Vd(Vd({},a),{},{type:t,size:n,sizeType:s}),l=()=>{var m=fj(t),h=Ub().type(m).size(pj(n,s,t));return h()},{className:o,cx:c,cy:u}=i,d=we(i,!0);return c===+c&&u===+u&&n===+n?v.createElement("path",Io({},d,{className:de("recharts-symbols",o),transform:"translate(".concat(c,", ").concat(u,")"),d:l()})):null};cx.registerSymbol=xj;var Gi={},Ji={},Ud;function gj(){return Ud||(Ud=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,s){const a=new Map;for(let i=0;i<n.length;i++){const l=n[i],o=s(l);a.has(o)||a.set(o,l)}return Array.from(a.values())}e.uniqBy=t})(Ji)),Ji}var Xi={},Wd;function ux(){return Wd||(Wd=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Xi)),Xi}var Qi={},Zi={},el={},Kd;function vj(){return Kd||(Kd=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(el)),el}var Hd;function Fc(){return Hd||(Hd=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vj();function n(s){return s!=null&&typeof s!="function"&&t.isLength(s.length)}e.isArrayLike=n})(Zi)),Zi}var tl={},Yd;function yj(){return Yd||(Yd=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(tl)),tl}var Gd;function bj(){return Gd||(Gd=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fc(),n=yj();function s(a){return n.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=s})(Qi)),Qi}var rl={},nl={},Jd;function jj(){return Jd||(Jd=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ec();function n(s){return function(a){return t.get(a,s)}}e.property=n})(nl)),nl}var sl={},al={},il={},ll={},Xd;function dx(){return Xd||(Xd=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(ll)),ll}var ol={},Qd;function mx(){return Qd||(Qd=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(ol)),ol}var cl={},Zd;function Lc(){return Zd||(Zd=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,s){return n===s||Number.isNaN(n)&&Number.isNaN(s)}e.eq=t})(cl)),cl}var em;function Nj(){return em||(em=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$c(),n=dx(),s=mx(),a=Lc();function i(m,h,f){return typeof f!="function"?t.isMatch(m,h):l(m,h,function x(p,g,y,b,j,N){const w=f(p,g,y,b,j,N);return w!==void 0?!!w:l(p,g,x,N)},new Map)}function l(m,h,f,x){if(h===m)return!0;switch(typeof h){case"object":return o(m,h,f,x);case"function":return Object.keys(h).length>0?l(m,{...h},f,x):a.eq(m,h);default:return n.isObject(m)?typeof h=="string"?h==="":!0:a.eq(m,h)}}function o(m,h,f,x){if(h==null)return!0;if(Array.isArray(h))return u(m,h,f,x);if(h instanceof Map)return c(m,h,f,x);if(h instanceof Set)return d(m,h,f,x);const p=Object.keys(h);if(m==null)return p.length===0;if(p.length===0)return!0;if(x&&x.has(h))return x.get(h)===m;x&&x.set(h,m);try{for(let g=0;g<p.length;g++){const y=p[g];if(!s.isPrimitive(m)&&!(y in m)||h[y]===void 0&&m[y]!==void 0||h[y]===null&&m[y]!==null||!f(m[y],h[y],y,m,h,x))return!1}return!0}finally{x&&x.delete(h)}}function c(m,h,f,x){if(h.size===0)return!0;if(!(m instanceof Map))return!1;for(const[p,g]of h.entries()){const y=m.get(p);if(f(y,g,p,m,h,x)===!1)return!1}return!0}function u(m,h,f,x){if(h.length===0)return!0;if(!Array.isArray(m))return!1;const p=new Set;for(let g=0;g<h.length;g++){const y=h[g];let b=!1;for(let j=0;j<m.length;j++){if(p.has(j))continue;const N=m[j];let w=!1;if(f(N,y,g,m,h,x)&&(w=!0),w){p.add(j),b=!0;break}}if(!b)return!1}return!0}function d(m,h,f,x){return h.size===0?!0:m instanceof Set?u([...m],[...h],f,x):!1}e.isMatchWith=i,e.isSetMatch=d})(il)),il}var tm;function $c(){return tm||(tm=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nj();function n(s,a){return t.isMatchWith(s,a,()=>{})}e.isMatch=n})(al)),al}var ul={},dl={},ml={},rm;function hx(){return rm||(rm=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(s=>Object.prototype.propertyIsEnumerable.call(n,s))}e.getSymbols=t})(ml)),ml}var hl={},nm;function zc(){return nm||(nm=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(hl)),hl}var fl={},sm;function Bc(){return sm||(sm=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",s="[object Number]",a="[object Boolean]",i="[object Arguments]",l="[object Symbol]",o="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",m="[object Function]",h="[object ArrayBuffer]",f="[object Object]",x="[object Error]",p="[object DataView]",g="[object Uint8Array]",y="[object Uint8ClampedArray]",b="[object Uint16Array]",j="[object Uint32Array]",N="[object BigUint64Array]",w="[object Int8Array]",S="[object Int16Array]",O="[object Int32Array]",k="[object BigInt64Array]",F="[object Float32Array]",H="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=k,e.bigUint64ArrayTag=N,e.booleanTag=a,e.dataViewTag=p,e.dateTag=o,e.errorTag=x,e.float32ArrayTag=F,e.float64ArrayTag=H,e.functionTag=m,e.int16ArrayTag=S,e.int32ArrayTag=O,e.int8ArrayTag=w,e.mapTag=c,e.numberTag=s,e.objectTag=f,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=b,e.uint32ArrayTag=j,e.uint8ArrayTag=g,e.uint8ClampedArrayTag=y})(fl)),fl}var pl={},am;function wj(){return am||(am=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(pl)),pl}var im;function fx(){return im||(im=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hx(),n=zc(),s=Bc(),a=mx(),i=wj();function l(d,m){return o(d,void 0,d,new Map,m)}function o(d,m,h,f=new Map,x=void 0){const p=x?.(d,m,h,f);if(p!==void 0)return p;if(a.isPrimitive(d))return d;if(f.has(d))return f.get(d);if(Array.isArray(d)){const g=new Array(d.length);f.set(d,g);for(let y=0;y<d.length;y++)g[y]=o(d[y],y,h,f,x);return Object.hasOwn(d,"index")&&(g.index=d.index),Object.hasOwn(d,"input")&&(g.input=d.input),g}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const g=new RegExp(d.source,d.flags);return g.lastIndex=d.lastIndex,g}if(d instanceof Map){const g=new Map;f.set(d,g);for(const[y,b]of d)g.set(y,o(b,y,h,f,x));return g}if(d instanceof Set){const g=new Set;f.set(d,g);for(const y of d)g.add(o(y,void 0,h,f,x));return g}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const g=new(Object.getPrototypeOf(d)).constructor(d.length);f.set(d,g);for(let y=0;y<d.length;y++)g[y]=o(d[y],y,h,f,x);return g}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const g=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return f.set(d,g),c(g,d,h,f,x),g}if(typeof File<"u"&&d instanceof File){const g=new File([d],d.name,{type:d.type});return f.set(d,g),c(g,d,h,f,x),g}if(d instanceof Blob){const g=new Blob([d],{type:d.type});return f.set(d,g),c(g,d,h,f,x),g}if(d instanceof Error){const g=new d.constructor;return f.set(d,g),g.message=d.message,g.name=d.name,g.stack=d.stack,g.cause=d.cause,c(g,d,h,f,x),g}if(typeof d=="object"&&u(d)){const g=Object.create(Object.getPrototypeOf(d));return f.set(d,g),c(g,d,h,f,x),g}return d}function c(d,m,h=d,f,x){const p=[...Object.keys(m),...t.getSymbols(m)];for(let g=0;g<p.length;g++){const y=p[g],b=Object.getOwnPropertyDescriptor(d,y);(b==null||b.writable)&&(d[y]=o(m[y],y,h,f,x))}}function u(d){switch(n.getTag(d)){case s.argumentsTag:case s.arrayTag:case s.arrayBufferTag:case s.dataViewTag:case s.booleanTag:case s.dateTag:case s.float32ArrayTag:case s.float64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.mapTag:case s.numberTag:case s.objectTag:case s.regexpTag:case s.setTag:case s.stringTag:case s.symbolTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=o,e.copyProperties=c})(dl)),dl}var lm;function Pj(){return lm||(lm=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fx();function n(s){return t.cloneDeepWithImpl(s,void 0,s,new Map,void 0)}e.cloneDeep=n})(ul)),ul}var om;function Sj(){return om||(om=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$c(),n=Pj();function s(a){return a=n.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=s})(sl)),sl}var xl={},gl={},vl={},cm;function Aj(){return cm||(cm=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fx(),n=Bc();function s(a,i){return t.cloneDeepWith(a,(l,o,c,u)=>{const d=i?.(l,o,c,u);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new a.constructor(a?.valueOf());return t.copyProperties(m,a),m}case n.argumentsTag:{const m={};return t.copyProperties(m,a),m.length=a.length,m[Symbol.iterator]=a[Symbol.iterator],m}default:return}})}e.cloneDeepWith=s})(vl)),vl}var um;function Cj(){return um||(um=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Aj();function n(s){return t.cloneDeepWith(s)}e.cloneDeep=n})(gl)),gl}var yl={},bl={},dm;function px(){return dm||(dm=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(s,a=Number.MAX_SAFE_INTEGER){switch(typeof s){case"number":return Number.isInteger(s)&&s>=0&&s<a;case"symbol":return!1;case"string":return t.test(s)}}e.isIndex=n})(bl)),bl}var jl={},mm;function Oj(){return mm||(mm=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zc();function n(s){return s!==null&&typeof s=="object"&&t.getTag(s)==="[object Arguments]"}e.isArguments=n})(jl)),jl}var hm;function Ej(){return hm||(hm=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$p(),n=px(),s=Oj(),a=Oc();function i(l,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&l?.[o]==null?c=a.toPath(o):c=[o],c.length===0)return!1;let u=l;for(let d=0;d<c.length;d++){const m=c[d];if((u==null||!Object.hasOwn(u,m))&&!((Array.isArray(u)||s.isArguments(u))&&n.isIndex(m)&&m<u.length))return!1;u=u[m]}return!0}e.has=i})(yl)),yl}var fm;function kj(){return fm||(fm=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$c(),n=zp(),s=Cj(),a=Ec(),i=Ej();function l(o,c){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return c=s.cloneDeep(c),function(u){const d=a.get(u,o);return d===void 0?i.has(u,o):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=l})(xl)),xl}var pm;function Tj(){return pm||(pm=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ux(),n=jj(),s=Sj(),a=kj();function i(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):s.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=i})(rl)),rl}var xm;function Dj(){return xm||(xm=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gj(),n=ux(),s=bj(),a=Tj();function i(l,o=n.identity){return s.isArrayLikeObject(l)?t.uniqBy(Array.from(l),a.iteratee(o)):[]}e.uniqBy=i})(Gi)),Gi}var Nl,gm;function Mj(){return gm||(gm=1,Nl=Dj().uniqBy),Nl}var Ij=Mj();const vm=Nr(Ij);function Rj(e,t,n){return t===!0?vm(e,n):typeof t=="function"?vm(e,t):e}var wl={exports:{}},Pl={},Sl={exports:{}},Al={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym;function _j(){if(ym)return Al;ym=1;var e=wc();function t(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var n=typeof Object.is=="function"?Object.is:t,s=e.useState,a=e.useEffect,i=e.useLayoutEffect,l=e.useDebugValue;function o(m,h){var f=h(),x=s({inst:{value:f,getSnapshot:h}}),p=x[0].inst,g=x[1];return i(function(){p.value=f,p.getSnapshot=h,c(p)&&g({inst:p})},[m,f,h]),a(function(){return c(p)&&g({inst:p}),m(function(){c(p)&&g({inst:p})})},[m]),l(f),f}function c(m){var h=m.getSnapshot;m=m.value;try{var f=h();return!n(m,f)}catch{return!0}}function u(m,h){return h()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return Al.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,Al}var bm;function Fj(){return bm||(bm=1,Sl.exports=_j()),Sl.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jm;function Lj(){if(jm)return Pl;jm=1;var e=wc(),t=Fj();function n(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var s=typeof Object.is=="function"?Object.is:n,a=t.useSyncExternalStore,i=e.useRef,l=e.useEffect,o=e.useMemo,c=e.useDebugValue;return Pl.useSyncExternalStoreWithSelector=function(u,d,m,h,f){var x=i(null);if(x.current===null){var p={hasValue:!1,value:null};x.current=p}else p=x.current;x=o(function(){function y(S){if(!b){if(b=!0,j=S,S=h(S),f!==void 0&&p.hasValue){var O=p.value;if(f(O,S))return N=O}return N=S}if(O=N,s(j,S))return O;var k=h(S);return f!==void 0&&f(O,k)?(j=S,O):(j=S,N=k)}var b=!1,j,N,w=m===void 0?null:m;return[function(){return y(d())},w===null?void 0:function(){return y(w())}]},[d,m,h,f]);var g=a(u,x[0],x[1]);return l(function(){p.hasValue=!0,p.value=g},[g]),c(g),g},Pl}var Nm;function $j(){return Nm||(Nm=1,wl.exports=Lj()),wl.exports}var zj=$j(),qc=v.createContext(null),Bj=e=>e,$e=()=>{var e=v.useContext(qc);return e?e.store.dispatch:Bj},sa=()=>{},qj=()=>sa,Vj=(e,t)=>e===t;function Y(e){var t=v.useContext(qc);return zj.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:qj,t?t.store.getState:sa,t?t.store.getState:sa,t?e:sa,Vj)}function Uj(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Wj(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Kj(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(s=>typeof s=="function"?`function ${s.name||"unnamed"}()`:typeof s).join(", ");throw new TypeError(`${t}[${n}]`)}}var wm=e=>Array.isArray(e)?e:[e];function Hj(e){const t=Array.isArray(e[0])?e[0]:e;return Kj(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Yj(e,t){const n=[],{length:s}=e;for(let a=0;a<s;a++)n.push(e[a].apply(null,t));return n}var Gj=class{constructor(e){this.value=e}deref(){return this.value}},Jj=typeof WeakRef<"u"?WeakRef:Gj,Xj=0,Pm=1;function Bs(){return{s:Xj,v:void 0,o:null,p:null}}function xx(e,t={}){let n=Bs();const{resultEqualityCheck:s}=t;let a,i=0;function l(){let o=n;const{length:c}=arguments;for(let m=0,h=c;m<h;m++){const f=arguments[m];if(typeof f=="function"||typeof f=="object"&&f!==null){let x=o.o;x===null&&(o.o=x=new WeakMap);const p=x.get(f);p===void 0?(o=Bs(),x.set(f,o)):o=p}else{let x=o.p;x===null&&(o.p=x=new Map);const p=x.get(f);p===void 0?(o=Bs(),x.set(f,o)):o=p}}const u=o;let d;if(o.s===Pm)d=o.v;else if(d=e.apply(null,arguments),i++,s){const m=a?.deref?.()??a;m!=null&&s(m,d)&&(d=m,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new Jj(d):d}return u.s=Pm,u.v=d,d}return l.clearCache=()=>{n=Bs(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function Qj(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,s=(...a)=>{let i=0,l=0,o,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),Uj(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...c},{memoize:m,memoizeOptions:h=[],argsMemoize:f=xx,argsMemoizeOptions:x=[]}=d,p=wm(h),g=wm(x),y=Hj(a),b=m(function(){return i++,u.apply(null,arguments)},...p),j=f(function(){l++;const w=Yj(y,arguments);return o=b.apply(null,w),o},...g);return Object.assign(j,{resultFunc:u,memoizedResultFunc:b,dependencies:y,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:f})};return Object.assign(s,{withTypes:()=>s}),s}var D=Qj(xx),Zj=Object.assign((e,t=D)=>{Wj(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),s=n.map(i=>e[i]);return t(s,(...i)=>i.reduce((l,o,c)=>(l[n[c]]=o,l),{}))},{withTypes:()=>Zj}),Cl={},Ol={},El={},Sm;function eN(){return Sm||(Sm=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return typeof s=="symbol"?1:s===null?2:s===void 0?3:s!==s?4:0}const n=(s,a,i)=>{if(s!==a){const l=t(s),o=t(a);if(l===o&&l===0){if(s<a)return i==="desc"?1:-1;if(s>a)return i==="desc"?-1:1}return i==="desc"?o-l:l-o}return 0};e.compareValues=n})(El)),El}var kl={},Tl={},Am;function gx(){return Am||(Am=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Tl)),Tl}var Cm;function tN(){return Cm||(Cm=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gx(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function a(i,l){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(s.test(i)||!n.test(i))||l!=null&&Object.hasOwn(l,i)}e.isKey=a})(kl)),kl}var Om;function rN(){return Om||(Om=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eN(),n=tN(),s=Oc();function a(i,l,o,c){if(i==null)return[];o=c?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(f=>String(f));const u=(f,x)=>{let p=f;for(let g=0;g<x.length&&p!=null;++g)p=p[x[g]];return p},d=(f,x)=>x==null||f==null?x:typeof f=="object"&&"key"in f?Object.hasOwn(x,f.key)?x[f.key]:u(x,f.path):typeof f=="function"?f(x):Array.isArray(f)?u(x,f):typeof x=="object"?x[f]:x,m=l.map(f=>(Array.isArray(f)&&f.length===1&&(f=f[0]),f==null||typeof f=="function"||Array.isArray(f)||n.isKey(f)?f:{key:f,path:s.toPath(f)}));return i.map(f=>({original:f,criteria:m.map(x=>d(x,f))})).slice().sort((f,x)=>{for(let p=0;p<m.length;p++){const g=t.compareValues(f.criteria[p],x.criteria[p],o[p]);if(g!==0)return g}return 0}).map(f=>f.original)}e.orderBy=a})(Ol)),Ol}var Dl={},Em;function nN(){return Em||(Em=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,s=1){const a=[],i=Math.floor(s),l=(o,c)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&c<i?l(d,c+1):a.push(d)}};return l(n,0),a}e.flatten=t})(Dl)),Dl}var Ml={},km;function vx(){return km||(km=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=px(),n=Fc(),s=dx(),a=Lc();function i(l,o,c){return s.isObject(c)&&(typeof o=="number"&&n.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?a.eq(c[o],l):!1}e.isIterateeCall=i})(Ml)),Ml}var Tm;function sN(){return Tm||(Tm=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rN(),n=nN(),s=vx();function a(i,...l){const o=l.length;return o>1&&s.isIterateeCall(i,l[0],l[1])?l=[]:o>2&&s.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(i,n.flatten(l),["asc"])}e.sortBy=a})(Cl)),Cl}var Il,Dm;function aN(){return Dm||(Dm=1,Il=sN().sortBy),Il}var iN=aN();const ti=Nr(iN);var yx=e=>e.legend.settings,lN=e=>e.legend.size,oN=e=>e.legend.payload;D([oN,yx],(e,t)=>{var{itemSorter:n}=t,s=e.flat(1);return n?ti(s,n):s});var qs=1;function cN(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=v.useState({height:0,left:0,top:0,width:0}),s=v.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),l={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(l.height-t.height)>qs||Math.abs(l.left-t.left)>qs||Math.abs(l.top-t.top)>qs||Math.abs(l.width-t.width)>qs)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,s]}function Ue(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var uN=typeof Symbol=="function"&&Symbol.observable||"@@observable",Mm=uN,Rl=()=>Math.random().toString(36).substring(7).split("").join("."),dN={INIT:`@@redux/INIT${Rl()}`,REPLACE:`@@redux/REPLACE${Rl()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Rl()}`},fa=dN;function Vc(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function bx(e,t,n){if(typeof e!="function")throw new Error(Ue(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ue(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ue(1));return n(bx)(e,t)}let s=e,a=t,i=new Map,l=i,o=0,c=!1;function u(){l===i&&(l=new Map,i.forEach((g,y)=>{l.set(y,g)}))}function d(){if(c)throw new Error(Ue(3));return a}function m(g){if(typeof g!="function")throw new Error(Ue(4));if(c)throw new Error(Ue(5));let y=!0;u();const b=o++;return l.set(b,g),function(){if(y){if(c)throw new Error(Ue(6));y=!1,u(),l.delete(b),i=null}}}function h(g){if(!Vc(g))throw new Error(Ue(7));if(typeof g.type>"u")throw new Error(Ue(8));if(typeof g.type!="string")throw new Error(Ue(17));if(c)throw new Error(Ue(9));try{c=!0,a=s(a,g)}finally{c=!1}return(i=l).forEach(b=>{b()}),g}function f(g){if(typeof g!="function")throw new Error(Ue(10));s=g,h({type:fa.REPLACE})}function x(){const g=m;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Ue(11));function b(){const N=y;N.next&&N.next(d())}return b(),{unsubscribe:g(b)}},[Mm](){return this}}}return h({type:fa.INIT}),{dispatch:h,subscribe:m,getState:d,replaceReducer:f,[Mm]:x}}function mN(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:fa.INIT})>"u")throw new Error(Ue(12));if(typeof n(void 0,{type:fa.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ue(13))})}function jx(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const l=t[i];typeof e[l]=="function"&&(n[l]=e[l])}const s=Object.keys(n);let a;try{mN(n)}catch(i){a=i}return function(l={},o){if(a)throw a;let c=!1;const u={};for(let d=0;d<s.length;d++){const m=s[d],h=n[m],f=l[m],x=h(f,o);if(typeof x>"u")throw o&&o.type,new Error(Ue(14));u[m]=x,c=c||x!==f}return c=c||s.length!==Object.keys(l).length,c?u:l}}function pa(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...s)=>t(n(...s)))}function hN(...e){return t=>(n,s)=>{const a=t(n,s);let i=()=>{throw new Error(Ue(15))};const l={getState:a.getState,dispatch:(c,...u)=>i(c,...u)},o=e.map(c=>c(l));return i=pa(...o)(a.dispatch),{...a,dispatch:i}}}function Nx(e){return Vc(e)&&"type"in e&&typeof e.type=="string"}var wx=Symbol.for("immer-nothing"),Im=Symbol.for("immer-draftable"),St=Symbol.for("immer-state");function Wt(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Cn=Object.getPrototypeOf;function cn(e){return!!e&&!!e[St]}function vr(e){return e?Px(e)||Array.isArray(e)||!!e[Im]||!!e.constructor?.[Im]||ni(e)||si(e):!1}var fN=Object.prototype.constructor.toString();function Px(e){if(!e||typeof e!="object")return!1;const t=Cn(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===fN}function xa(e,t){ri(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,s)=>t(s,n,e))}function ri(e){const t=e[St];return t?t.type_:Array.isArray(e)?1:ni(e)?2:si(e)?3:0}function Ro(e,t){return ri(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Sx(e,t,n){const s=ri(e);s===2?e.set(t,n):s===3?e.add(n):e[t]=n}function pN(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ni(e){return e instanceof Map}function si(e){return e instanceof Set}function Hr(e){return e.copy_||e.base_}function _o(e,t){if(ni(e))return new Map(e);if(si(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Px(e);if(t===!0||t==="class_only"&&!n){const s=Object.getOwnPropertyDescriptors(e);delete s[St];let a=Reflect.ownKeys(s);for(let i=0;i<a.length;i++){const l=a[i],o=s[l];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(s[l]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[l]})}return Object.create(Cn(e),s)}else{const s=Cn(e);if(s!==null&&n)return{...e};const a=Object.create(s);return Object.assign(a,e)}}function Uc(e,t=!1){return ai(e)||cn(e)||!vr(e)||(ri(e)>1&&(e.set=e.add=e.clear=e.delete=xN),Object.freeze(e),t&&Object.entries(e).forEach(([n,s])=>Uc(s,!0))),e}function xN(){Wt(2)}function ai(e){return Object.isFrozen(e)}var gN={};function un(e){const t=gN[e];return t||Wt(0,e),t}var ds;function Ax(){return ds}function vN(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Rm(e,t){t&&(un("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Fo(e){Lo(e),e.drafts_.forEach(yN),e.drafts_=null}function Lo(e){e===ds&&(ds=e.parent_)}function _m(e){return ds=vN(ds,e)}function yN(e){const t=e[St];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Fm(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[St].modified_&&(Fo(t),Wt(4)),vr(e)&&(e=ga(t,e),t.parent_||va(t,e)),t.patches_&&un("Patches").generateReplacementPatches_(n[St].base_,e,t.patches_,t.inversePatches_)):e=ga(t,n,[]),Fo(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==wx?e:void 0}function ga(e,t,n){if(ai(t))return t;const s=t[St];if(!s)return xa(t,(a,i)=>Lm(e,s,t,a,i,n)),t;if(s.scope_!==e)return t;if(!s.modified_)return va(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const a=s.copy_;let i=a,l=!1;s.type_===3&&(i=new Set(a),a.clear(),l=!0),xa(i,(o,c)=>Lm(e,s,a,o,c,n,l)),va(e,a,!1),n&&e.patches_&&un("Patches").generatePatches_(s,n,e.patches_,e.inversePatches_)}return s.copy_}function Lm(e,t,n,s,a,i,l){if(cn(a)){const o=i&&t&&t.type_!==3&&!Ro(t.assigned_,s)?i.concat(s):void 0,c=ga(e,a,o);if(Sx(n,s,c),cn(c))e.canAutoFreeze_=!1;else return}else l&&n.add(a);if(vr(a)&&!ai(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;ga(e,a),(!t||!t.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,s)&&va(e,a)}}function va(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Uc(t,n)}function bN(e,t){const n=Array.isArray(e),s={type_:n?1:0,scope_:t?t.scope_:Ax(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=s,i=Wc;n&&(a=[s],i=ms);const{revoke:l,proxy:o}=Proxy.revocable(a,i);return s.draft_=o,s.revoke_=l,o}var Wc={get(e,t){if(t===St)return e;const n=Hr(e);if(!Ro(n,t))return jN(e,n,t);const s=n[t];return e.finalized_||!vr(s)?s:s===_l(e.base_,t)?(Fl(e),e.copy_[t]=zo(s,e)):s},has(e,t){return t in Hr(e)},ownKeys(e){return Reflect.ownKeys(Hr(e))},set(e,t,n){const s=Cx(Hr(e),t);if(s?.set)return s.set.call(e.draft_,n),!0;if(!e.modified_){const a=_l(Hr(e),t),i=a?.[St];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(pN(n,a)&&(n!==void 0||Ro(e.base_,t)))return!0;Fl(e),$o(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return _l(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Fl(e),$o(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Hr(e),s=Reflect.getOwnPropertyDescriptor(n,t);return s&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:s.enumerable,value:n[t]}},defineProperty(){Wt(11)},getPrototypeOf(e){return Cn(e.base_)},setPrototypeOf(){Wt(12)}},ms={};xa(Wc,(e,t)=>{ms[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ms.deleteProperty=function(e,t){return ms.set.call(this,e,t,void 0)};ms.set=function(e,t,n){return Wc.set.call(this,e[0],t,n,e[0])};function _l(e,t){const n=e[St];return(n?Hr(n):e)[t]}function jN(e,t,n){const s=Cx(t,n);return s?"value"in s?s.value:s.get?.call(e.draft_):void 0}function Cx(e,t){if(!(t in e))return;let n=Cn(e);for(;n;){const s=Object.getOwnPropertyDescriptor(n,t);if(s)return s;n=Cn(n)}}function $o(e){e.modified_||(e.modified_=!0,e.parent_&&$o(e.parent_))}function Fl(e){e.copy_||(e.copy_=_o(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var NN=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,s)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const l=this;return function(c=i,...u){return l.produce(c,d=>n.call(this,d,...u))}}typeof n!="function"&&Wt(6),s!==void 0&&typeof s!="function"&&Wt(7);let a;if(vr(t)){const i=_m(this),l=zo(t,void 0);let o=!0;try{a=n(l),o=!1}finally{o?Fo(i):Lo(i)}return Rm(i,s),Fm(a,i)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===wx&&(a=void 0),this.autoFreeze_&&Uc(a,!0),s){const i=[],l=[];un("Patches").generateReplacementPatches_(t,a,i,l),s(i,l)}return a}else Wt(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...o)=>this.produceWithPatches(l,c=>t(c,...o));let s,a;return[this.produce(t,n,(l,o)=>{s=l,a=o}),s,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){vr(e)||Wt(8),cn(e)&&(e=hr(e));const t=_m(this),n=zo(e,void 0);return n[St].isManual_=!0,Lo(t),n}finishDraft(e,t){const n=e&&e[St];(!n||!n.isManual_)&&Wt(9);const{scope_:s}=n;return Rm(s,t),Fm(void 0,s)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const s=un("Patches").applyPatches_;return cn(e)?s(e,t):this.produce(e,a=>s(a,t))}};function zo(e,t){const n=ni(e)?un("MapSet").proxyMap_(e,t):si(e)?un("MapSet").proxySet_(e,t):bN(e,t);return(t?t.scope_:Ax()).drafts_.push(n),n}function hr(e){return cn(e)||Wt(10,e),Ox(e)}function Ox(e){if(!vr(e)||ai(e))return e;const t=e[St];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=_o(e,t.scope_.immer_.useStrictShallowCopy_)}else n=_o(e,!0);return xa(n,(s,a)=>{Sx(n,s,Ox(a))}),t&&(t.finalized_=!1),n}var At=new NN,Ex=At.produce;At.produceWithPatches.bind(At);At.setAutoFreeze.bind(At);At.setUseStrictShallowCopy.bind(At);At.applyPatches.bind(At);At.createDraft.bind(At);At.finishDraft.bind(At);function kx(e){return({dispatch:n,getState:s})=>a=>i=>typeof i=="function"?i(n,s,e):a(i)}var wN=kx(),PN=kx,SN=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?pa:pa.apply(null,arguments)};function zt(e,t){function n(...s){if(t){let a=t(...s);if(!a)throw new Error(Pt(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:s[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=s=>Nx(s)&&s.type===e,n}var Tx=class Jn extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Jn.prototype)}static get[Symbol.species](){return Jn}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Jn(...t[0].concat(this)):new Jn(...t.concat(this))}};function $m(e){return vr(e)?Ex(e,()=>{}):e}function Vs(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function AN(e){return typeof e=="boolean"}var CN=()=>function(t){const{thunk:n=!0,immutableCheck:s=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let l=new Tx;return n&&(AN(n)?l.push(wN):l.push(PN(n.extraArgument))),l},ON="RTK_autoBatch",zm=e=>t=>{setTimeout(t,e)},EN=(e={type:"raf"})=>t=>(...n)=>{const s=t(...n);let a=!0,i=!1,l=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:zm(10):e.type==="callback"?e.queueNotification:zm(e.timeout),u=()=>{l=!1,i&&(i=!1,o.forEach(d=>d()))};return Object.assign({},s,{subscribe(d){const m=()=>a&&d(),h=s.subscribe(m);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){try{return a=!d?.meta?.[ON],i=!a,i&&(l||(l=!0,c(u))),s.dispatch(d)}finally{a=!0}}})},kN=e=>function(n){const{autoBatch:s=!0}=n??{};let a=new Tx(e);return s&&a.push(EN(typeof s=="object"?s:void 0)),a};function TN(e){const t=CN(),{reducer:n=void 0,middleware:s,devTools:a=!0,preloadedState:i=void 0,enhancers:l=void 0}=e||{};let o;if(typeof n=="function")o=n;else if(Vc(n))o=jx(n);else throw new Error(Pt(1));let c;typeof s=="function"?c=s(t):c=t();let u=pa;a&&(u=SN({trace:!1,...typeof a=="object"&&a}));const d=hN(...c),m=kN(d);let h=typeof l=="function"?l(m):m();const f=u(...h);return bx(o,i,f)}function Dx(e){const t={},n=[];let s;const a={addCase(i,l){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(Pt(28));if(o in t)throw new Error(Pt(29));return t[o]=l,a},addMatcher(i,l){return n.push({matcher:i,reducer:l}),a},addDefaultCase(i){return s=i,a}};return e(a),[t,n,s]}function DN(e){return typeof e=="function"}function MN(e,t){let[n,s,a]=Dx(t),i;if(DN(e))i=()=>$m(e());else{const o=$m(e);i=()=>o}function l(o=i(),c){let u=[n[c.type],...s.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,m)=>{if(m)if(cn(d)){const f=m(d,c);return f===void 0?d:f}else{if(vr(d))return Ex(d,h=>m(h,c));{const h=m(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return l.getInitialState=i,l}var IN="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",RN=(e=21)=>{let t="",n=e;for(;n--;)t+=IN[Math.random()*64|0];return t},_N=Symbol.for("rtk-slice-createasyncthunk");function FN(e,t){return`${e}/${t}`}function LN({creators:e}={}){const t=e?.asyncThunk?.[_N];return function(s){const{name:a,reducerPath:i=a}=s;if(!a)throw new Error(Pt(11));const l=(typeof s.reducers=="function"?s.reducers(zN()):s.reducers)||{},o=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(j,N){const w=typeof j=="string"?j:j.type;if(!w)throw new Error(Pt(12));if(w in c.sliceCaseReducersByType)throw new Error(Pt(13));return c.sliceCaseReducersByType[w]=N,u},addMatcher(j,N){return c.sliceMatchers.push({matcher:j,reducer:N}),u},exposeAction(j,N){return c.actionCreators[j]=N,u},exposeCaseReducer(j,N){return c.sliceCaseReducersByName[j]=N,u}};o.forEach(j=>{const N=l[j],w={reducerName:j,type:FN(a,j),createNotation:typeof s.reducers=="function"};qN(N)?UN(w,N,u,t):BN(w,N,u)});function d(){const[j={},N=[],w=void 0]=typeof s.extraReducers=="function"?Dx(s.extraReducers):[s.extraReducers],S={...j,...c.sliceCaseReducersByType};return MN(s.initialState,O=>{for(let k in S)O.addCase(k,S[k]);for(let k of c.sliceMatchers)O.addMatcher(k.matcher,k.reducer);for(let k of N)O.addMatcher(k.matcher,k.reducer);w&&O.addDefaultCase(w)})}const m=j=>j,h=new Map,f=new WeakMap;let x;function p(j,N){return x||(x=d()),x(j,N)}function g(){return x||(x=d()),x.getInitialState()}function y(j,N=!1){function w(O){let k=O[j];return typeof k>"u"&&N&&(k=Vs(f,w,g)),k}function S(O=m){const k=Vs(h,N,()=>new WeakMap);return Vs(k,O,()=>{const F={};for(const[H,z]of Object.entries(s.selectors??{}))F[H]=$N(z,O,()=>Vs(f,O,g),N);return F})}return{reducerPath:j,getSelectors:S,get selectors(){return S(w)},selectSlice:w}}const b={name:a,reducer:p,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:g,...y(i),injectInto(j,{reducerPath:N,...w}={}){const S=N??i;return j.inject({reducerPath:S,reducer:p},w),{...b,...y(S,!0)}}};return b}}function $N(e,t,n,s){function a(i,...l){let o=t(i);return typeof o>"u"&&s&&(o=n()),e(o,...l)}return a.unwrapped=e,a}var Ot=LN();function zN(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function BN({type:e,reducerName:t,createNotation:n},s,a){let i,l;if("reducer"in s){if(n&&!VN(s))throw new Error(Pt(17));i=s.reducer,l=s.prepare}else i=s;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,l?zt(e,l):zt(e))}function qN(e){return e._reducerDefinitionType==="asyncThunk"}function VN(e){return e._reducerDefinitionType==="reducerWithPrepare"}function UN({type:e,reducerName:t},n,s,a){if(!a)throw new Error(Pt(18));const{payloadCreator:i,fulfilled:l,pending:o,rejected:c,settled:u,options:d}=n,m=a(e,i,d);s.exposeAction(t,m),l&&s.addCase(m.fulfilled,l),o&&s.addCase(m.pending,o),c&&s.addCase(m.rejected,c),u&&s.addMatcher(m.settled,u),s.exposeCaseReducer(t,{fulfilled:l||Us,pending:o||Us,rejected:c||Us,settled:u||Us})}function Us(){}var WN="task",Mx="listener",Ix="completed",Kc="cancelled",KN=`task-${Kc}`,HN=`task-${Ix}`,Bo=`${Mx}-${Kc}`,YN=`${Mx}-${Ix}`,ii=class{constructor(e){this.code=e,this.message=`${WN} ${Kc} (reason: ${e})`}name="TaskAbortError";message},Hc=(e,t)=>{if(typeof e!="function")throw new TypeError(Pt(32))},ya=()=>{},Rx=(e,t=ya)=>(e.catch(t),e),_x=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),rn=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},nn=e=>{if(e.aborted){const{reason:t}=e;throw new ii(t)}};function Fx(e,t){let n=ya;return new Promise((s,a)=>{const i=()=>a(new ii(e.reason));if(e.aborted){i();return}n=_x(e,i),t.finally(()=>n()).then(s,a)}).finally(()=>{n=ya})}var GN=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof ii?"cancelled":"rejected",error:n}}finally{t?.()}},ba=e=>t=>Rx(Fx(e,t).then(n=>(nn(e),n))),Lx=e=>{const t=ba(e);return n=>t(new Promise(s=>setTimeout(s,n)))},{assign:wn}=Object,Bm={},li="listenerMiddleware",JN=(e,t)=>{const n=s=>_x(e,()=>rn(s,e.reason));return(s,a)=>{Hc(s);const i=new AbortController;n(i);const l=GN(async()=>{nn(e),nn(i.signal);const o=await s({pause:ba(i.signal),delay:Lx(i.signal),signal:i.signal});return nn(i.signal),o},()=>rn(i,HN));return a?.autoJoin&&t.push(l.catch(ya)),{result:ba(e)(l),cancel(){rn(i,KN)}}}},XN=(e,t)=>{const n=async(s,a)=>{nn(t);let i=()=>{};const o=[new Promise((c,u)=>{let d=e({predicate:s,effect:(m,h)=>{h.unsubscribe(),c([m,h.getState(),h.getOriginalState()])}});i=()=>{d(),u()}})];a!=null&&o.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await Fx(t,Promise.race(o));return nn(t),c}finally{i()}};return(s,a)=>Rx(n(s,a))},$x=e=>{let{type:t,actionCreator:n,matcher:s,predicate:a,effect:i}=e;if(t)a=zt(t).match;else if(n)t=n.type,a=n.match;else if(s)a=s;else if(!a)throw new Error(Pt(21));return Hc(i),{predicate:a,type:t,effect:i}},zx=wn(e=>{const{type:t,predicate:n,effect:s}=$x(e);return{id:RN(),effect:s,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Pt(22))}}},{withTypes:()=>zx}),qm=(e,t)=>{const{type:n,effect:s,predicate:a}=$x(t);return Array.from(e.values()).find(i=>(typeof n=="string"?i.type===n:i.predicate===a)&&i.effect===s)},qo=e=>{e.pending.forEach(t=>{rn(t,Bo)})},QN=e=>()=>{e.forEach(qo),e.clear()},Vm=(e,t,n)=>{try{e(t,n)}catch(s){setTimeout(()=>{throw s},0)}},Bx=wn(zt(`${li}/add`),{withTypes:()=>Bx}),ZN=zt(`${li}/removeAll`),qx=wn(zt(`${li}/remove`),{withTypes:()=>qx}),ew=(...e)=>{console.error(`${li}/error`,...e)},Ps=(e={})=>{const t=new Map,{extra:n,onError:s=ew}=e;Hc(s);const a=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),m=>{d.unsubscribe(),m?.cancelActive&&qo(d)}),i=d=>{const m=qm(t,d)??zx(d);return a(m)};wn(i,{withTypes:()=>i});const l=d=>{const m=qm(t,d);return m&&(m.unsubscribe(),d.cancelActive&&qo(m)),!!m};wn(l,{withTypes:()=>l});const o=async(d,m,h,f)=>{const x=new AbortController,p=XN(i,x.signal),g=[];try{d.pending.add(x),await Promise.resolve(d.effect(m,wn({},h,{getOriginalState:f,condition:(y,b)=>p(y,b).then(Boolean),take:p,delay:Lx(x.signal),pause:ba(x.signal),extra:n,signal:x.signal,fork:JN(x.signal,g),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((y,b,j)=>{y!==x&&(rn(y,Bo),j.delete(y))})},cancel:()=>{rn(x,Bo),d.pending.delete(x)},throwIfCancelled:()=>{nn(x.signal)}})))}catch(y){y instanceof ii||Vm(s,y,{raisedBy:"effect"})}finally{await Promise.all(g),rn(x,YN),d.pending.delete(x)}},c=QN(t);return{middleware:d=>m=>h=>{if(!Nx(h))return m(h);if(Bx.match(h))return i(h.payload);if(ZN.match(h)){c();return}if(qx.match(h))return l(h.payload);let f=d.getState();const x=()=>{if(f===Bm)throw new Error(Pt(23));return f};let p;try{if(p=m(h),t.size>0){const g=d.getState(),y=Array.from(t.values());for(const b of y){let j=!1;try{j=b.predicate(h,g,f)}catch(N){j=!1,Vm(s,N,{raisedBy:"predicate"})}j&&o(b,h,d,x)}}}finally{f=Bm}return p},startListening:i,stopListening:l,clearListeners:c}};function Pt(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var tw={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Vx=Ot({name:"chartLayout",initialState:tw,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:rw,setLayout:nw,setChartSize:sw,setScale:aw}=Vx.actions,iw=Vx.reducer;function Um(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Wm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Um(Object(n),!0).forEach(function(s){lw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Um(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function lw(e,t,n){return(t=ow(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ow(e){var t=cw(e,"string");return typeof t=="symbol"?t:t+""}function cw(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ja=Math.PI/180,uw=e=>e*180/Math.PI,He=(e,t,n,s)=>({x:e+Math.cos(-ja*s)*n,y:t+Math.sin(-ja*s)*n}),dw=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(s.left||0)-(s.right||0)),Math.abs(n-(s.top||0)-(s.bottom||0)))/2},mw=(e,t)=>{var{x:n,y:s}=e,{x:a,y:i}=t;return Math.sqrt((n-a)**2+(s-i)**2)},hw=(e,t)=>{var{x:n,y:s}=e,{cx:a,cy:i}=t,l=mw({x:n,y:s},{x:a,y:i});if(l<=0)return{radius:l,angle:0};var o=(n-a)/l,c=Math.acos(o);return s>i&&(c=2*Math.PI-c),{radius:l,angle:uw(c),angleInRadian:c}},fw=e=>{var{startAngle:t,endAngle:n}=e,s=Math.floor(t/360),a=Math.floor(n/360),i=Math.min(s,a);return{startAngle:t-i*360,endAngle:n-i*360}},pw=(e,t)=>{var{startAngle:n,endAngle:s}=t,a=Math.floor(n/360),i=Math.floor(s/360),l=Math.min(a,i);return e+l*360},xw=(e,t)=>{var{x:n,y:s}=e,{radius:a,angle:i}=hw({x:n,y:s},t),{innerRadius:l,outerRadius:o}=t;if(a<l||a>o||a===0)return null;var{startAngle:c,endAngle:u}=fw(t),d=i,m;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;m=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;m=d>=u&&d<=c}return m?Wm(Wm({},t),{},{radius:a,angle:pw(d,t)}):null};function Ux(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Km(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Km(Object(n),!0).forEach(function(s){gw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Km(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function gw(e,t,n){return(t=vw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vw(e){var t=yw(e,"string");return typeof t=="symbol"?t:t+""}function yw(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oe(e,t,n){return ge(e)||ge(t)?n:rr(t)?on(e,t,n):typeof t=="function"?t(e):n}var bw=(e,t,n,s,a)=>{var i,l=-1,o=(i=t?.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(s==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<o;c++){var u=c>0?n[c-1].coordinate:n[o-1].coordinate,d=n[c].coordinate,m=c>=o-1?n[0].coordinate:n[c+1].coordinate,h=void 0;if(ut(d-u)!==ut(m-d)){var f=[];if(ut(m-d)===ut(a[1]-a[0])){h=m;var x=d+a[1]-a[0];f[0]=Math.min(x,(x+u)/2),f[1]=Math.max(x,(x+u)/2)}else{h=u;var p=m+a[1]-a[0];f[0]=Math.min(d,(p+d)/2),f[1]=Math.max(d,(p+d)/2)}var g=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){({index:l}=n[c]);break}}else{var y=Math.min(u,m),b=Math.max(u,m);if(e>(y+d)/2&&e<=(b+d)/2){({index:l}=n[c]);break}}}else if(t){for(var j=0;j<o;j++)if(j===0&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j>0&&j<o-1&&e>(t[j].coordinate+t[j-1].coordinate)/2&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j===o-1&&e>(t[j].coordinate+t[j-1].coordinate)/2){({index:l}=t[j]);break}}return l},jw=(e,t,n)=>{if(t&&n){var{width:s,height:a}=n,{align:i,verticalAlign:l,layout:o}=t;if((o==="vertical"||o==="horizontal"&&l==="middle")&&i!=="center"&&U(e[i]))return Dt(Dt({},e),{},{[i]:e[i]+(s||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&l!=="middle"&&U(e[l]))return Dt(Dt({},e),{},{[l]:e[l]+(a||0)})}return e},or=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",Wx=(e,t,n,s)=>{if(s)return e.map(o=>o.coordinate);var a,i,l=e.map(o=>(o.coordinate===t&&(a=!0),o.coordinate===n&&(i=!0),o.coordinate));return a||l.push(t),i||l.push(n),l},Kx=(e,t,n)=>{if(!e)return null;var{duplicateDomain:s,type:a,range:i,scale:l,realScaleType:o,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:m,niceTicks:h,axisType:f}=e;if(!l)return null;var x=o==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,p=a==="category"&&l.bandwidth?l.bandwidth()/x:0;if(p=f==="angleAxis"&&i&&i.length>=2?ut(i[0]-i[1])*2*p:p,m||h){var g=(m||h||[]).map((y,b)=>{var j=s?s.indexOf(y):y;return{coordinate:l(j)+p,value:y,offset:p,index:b}});return g.filter(y=>!ft(y.coordinate))}return c&&u?u.map((y,b)=>({coordinate:l(y)+p,value:y,index:b,offset:p})):l.ticks&&d!=null?l.ticks(d).map((y,b)=>({coordinate:l(y)+p,value:y,offset:p,index:b})):l.domain().map((y,b)=>({coordinate:l(y)+p,value:s?s[y]:y,index:b,offset:p}))},Hm=1e-4,Nw=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,s=e.range(),a=Math.min(s[0],s[1])-Hm,i=Math.max(s[0],s[1])+Hm,l=e(t[0]),o=e(t[n-1]);(l<a||l>i||o<a||o>i)&&e.domain([t[0],t[n-1]])}},ww=(e,t)=>{if(!t||t.length!==2||!U(t[0])||!U(t[1]))return e;var n=Math.min(t[0],t[1]),s=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!U(e[0])||e[0]<n)&&(a[0]=n),(!U(e[1])||e[1]>s)&&(a[1]=s),a[0]>s&&(a[0]=s),a[1]<n&&(a[1]=n),a},Pw=e=>{var t=e.length;if(!(t<=0))for(var n=0,s=e[0].length;n<s;++n)for(var a=0,i=0,l=0;l<t;++l){var o=ft(e[l][n][1])?e[l][n][0]:e[l][n][1];o>=0?(e[l][n][0]=a,e[l][n][1]=a+o,a=e[l][n][1]):(e[l][n][0]=i,e[l][n][1]=i+o,i=e[l][n][1])}},Sw=e=>{var t=e.length;if(!(t<=0))for(var n=0,s=e[0].length;n<s;++n)for(var a=0,i=0;i<t;++i){var l=ft(e[i][n][1])?e[i][n][0]:e[i][n][1];l>=0?(e[i][n][0]=a,e[i][n][1]=a+l,a=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}},Aw={sign:Pw,expand:sj,none:An,silhouette:aj,wiggle:ij,positive:Sw},Cw=(e,t,n)=>{var s=Aw[n],a=nj().keys(t).value((i,l)=>+Oe(i,l,0)).order(Mo).offset(s);return a(e)};function Hx(e){return e==null?void 0:String(e)}function Na(e){var{axis:t,ticks:n,bandSize:s,entry:a,index:i,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ge(a[t.dataKey])){var o=qp(n,"value",a[t.dataKey]);if(o)return o.coordinate+s/2}return n[i]?n[i].coordinate+s/2:null}var c=Oe(a,ge(l)?t.dataKey:l);return ge(c)?null:t.scale(c)}var Ym=e=>{var{axis:t,ticks:n,offset:s,bandSize:a,entry:i,index:l}=e;if(t.type==="category")return n[l]?n[l].coordinate+s:null;var o=Oe(i,t.dataKey,t.scale.domain()[l]);return ge(o)?null:t.scale(o)-a/2+s},Ow=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var s=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return s<=0&&a>=0?0:a<0?a:s}return n[0]},Ew=e=>{var t=e.flat(2).filter(U);return[Math.min(...t),Math.max(...t)]},kw=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Tw=(e,t,n)=>{if(e!=null)return kw(Object.keys(e).reduce((s,a)=>{var i=e[a],{stackedData:l}=i,o=l.reduce((c,u)=>{var d=Ux(u,t,n),m=Ew(d);return[Math.min(c[0],m[0]),Math.max(c[1],m[1])]},[1/0,-1/0]);return[Math.min(o[0],s[0]),Math.max(o[1],s[1])]},[1/0,-1/0]))},Gm=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Jm=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dn=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var s=e.scale.bandwidth();if(!n||s>0)return s}if(e&&t&&t.length>=2){for(var a=ti(t,d=>d.coordinate),i=1/0,l=1,o=a.length;l<o;l++){var c=a[l],u=a[l-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0};function Xm(e){var{tooltipEntrySettings:t,dataKey:n,payload:s,value:a,name:i}=e;return Dt(Dt({},t),{},{dataKey:n,payload:s,value:a,name:i})}function Mn(e,t){if(e)return String(e);if(typeof t=="string")return t}function Dw(e,t,n,s,a){if(n==="horizontal"||n==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return s?xw({x:e,y:t},s):null}var Mw=(e,t,n,s)=>{var a=t.find(u=>u&&u.index===n);if(a){if(e==="horizontal")return{x:a.coordinate,y:s.y};if(e==="vertical")return{x:s.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:l}=s;return Dt(Dt(Dt({},s),He(s.cx,s.cy,l,i)),{},{angle:i,radius:l})}var o=a.coordinate,{angle:c}=s;return Dt(Dt(Dt({},s),He(s.cx,s.cy,o,c)),{},{angle:c,radius:o})}return{x:0,y:0}},Iw=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Pr=e=>e.layout.width,Sr=e=>e.layout.height,Rw=e=>e.layout.scale,Yx=e=>e.layout.margin,Yc=D(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Gc=D(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),_w="data-recharts-item-index",Fw="data-recharts-item-data-key",oi=60;function Qm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qm(Object(n),!0).forEach(function(s){Lw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qm(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Lw(e,t,n){return(t=$w(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $w(e){var t=zw(e,"string");return typeof t=="symbol"?t:t+""}function zw(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bw=e=>e.brush.height,ze=D([Pr,Sr,Yx,Bw,Yc,Gc,yx,lN],(e,t,n,s,a,i,l,o)=>{var c=i.reduce((x,p)=>{var{orientation:g}=p;if(!p.mirror&&!p.hide){var y=typeof p.width=="number"?p.width:oi;return Tr(Tr({},x),{},{[g]:x[g]+y})}return x},{left:n.left||0,right:n.right||0}),u=a.reduce((x,p)=>{var{orientation:g}=p;return!p.mirror&&!p.hide?Tr(Tr({},x),{},{[g]:on(x,"".concat(g))+p.height}):x},{top:n.top||0,bottom:n.bottom||0}),d=Tr(Tr({},u),c),m=d.bottom;d.bottom+=s,d=jw(d,l,o);var h=e-d.left-d.right,f=t-d.top-d.bottom;return Tr(Tr({brushBottom:m},d),{},{width:Math.max(h,0),height:Math.max(f,0)})}),qw=D(ze,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Gx=D(Pr,Sr,(e,t)=>({x:0,y:0,width:e,height:t})),Vw=v.createContext(null),rt=()=>v.useContext(Vw)!=null,ci=e=>e.brush,ui=D([ci,ze,Yx],(e,t,n)=>({height:e.height,x:U(e.x)?e.x:t.left,y:U(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:U(e.width)?e.width:t.width})),Jc=()=>{var e,t=rt(),n=Y(qw),s=Y(ui),a=(e=Y(ci))===null||e===void 0?void 0:e.padding;return!t||!s||!a?n:{width:s.width-a.left-a.right,height:s.height-a.top-a.bottom,x:a.left,y:a.top}},Uw={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Jx=()=>{var e;return(e=Y(ze))!==null&&e!==void 0?e:Uw},Xx=()=>Y(Pr),Qx=()=>Y(Sr),le=e=>e.layout.layoutType,Ss=()=>Y(le),Ww={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Zx=Ot({name:"legend",initialState:Ww,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=hr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:EI,setLegendSettings:kI,addLegendPayload:Kw,removeLegendPayload:Hw}=Zx.actions,Yw=Zx.reducer;function Vo(){return Vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Vo.apply(null,arguments)}function Zm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Ll(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zm(Object(n),!0).forEach(function(s){Gw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zm(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Gw(e,t,n){return(t=Jw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jw(e){var t=Xw(e,"string");return typeof t=="symbol"?t:t+""}function Xw(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qw(e){return Array.isArray(e)&&rr(e[0])&&rr(e[1])?e.join(" ~ "):e}var Zw=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:s={},labelStyle:a={},payload:i,formatter:l,itemSorter:o,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:m,accessibilityLayer:h=!1}=e,f=()=>{if(i&&i.length){var w={padding:0,margin:0},S=(o?ti(i,o):i).map((O,k)=>{if(O.type==="none")return null;var F=O.formatter||l||Qw,{value:H,name:z}=O,q=H,G=z;if(F){var V=F(H,z,O,k,i);if(Array.isArray(V))[q,G]=V;else if(V!=null)q=V;else return null}var P=Ll({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},s);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:P},rr(G)?v.createElement("span",{className:"recharts-tooltip-item-name"},G):null,rr(G)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},q),v.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:w},S)}return null},x=Ll({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),p=Ll({margin:0},a),g=!ge(d),y=g?d:"",b=de("recharts-default-tooltip",c),j=de("recharts-tooltip-label",u);g&&m&&i!==void 0&&i!==null&&(y=m(d,i));var N=h?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",Vo({className:b,style:x},N),v.createElement("p",{className:j,style:p},v.isValidElement(y)?y:"".concat(y)),f())},qn="recharts-tooltip-wrapper",e1={visibility:"hidden"};function t1(e){var{coordinate:t,translateX:n,translateY:s}=e;return de(qn,{["".concat(qn,"-right")]:U(n)&&t&&U(t.x)&&n>=t.x,["".concat(qn,"-left")]:U(n)&&t&&U(t.x)&&n<t.x,["".concat(qn,"-bottom")]:U(s)&&t&&U(t.y)&&s>=t.y,["".concat(qn,"-top")]:U(s)&&t&&U(t.y)&&s<t.y})}function eh(e){var{allowEscapeViewBox:t,coordinate:n,key:s,offsetTopLeft:a,position:i,reverseDirection:l,tooltipDimension:o,viewBox:c,viewBoxDimension:u}=e;if(i&&U(i[s]))return i[s];var d=n[s]-o-(a>0?a:0),m=n[s]+a;if(t[s])return l[s]?d:m;var h=c[s];if(h==null)return 0;if(l[s]){var f=d,x=h;return f<x?Math.max(m,h):Math.max(d,h)}if(u==null)return 0;var p=m+o,g=h+u;return p>g?Math.max(d,h):Math.max(m,h)}function r1(e){var{translateX:t,translateY:n,useTranslate3d:s}=e;return{transform:s?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function n1(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:s,position:a,reverseDirection:i,tooltipBox:l,useTranslate3d:o,viewBox:c}=e,u,d,m;return l.height>0&&l.width>0&&n?(d=eh({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),m=eh({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),u=r1({translateX:d,translateY:m,useTranslate3d:o})):u=e1,{cssProperties:u,cssClasses:t1({translateX:d,translateY:m,coordinate:n})}}function th(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Ws(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?th(Object(n),!0).forEach(function(s){Uo(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):th(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Uo(e,t,n){return(t=s1(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s1(e){var t=a1(e,"string");return typeof t=="symbol"?t:t+""}function a1(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class i1 extends v.PureComponent{constructor(){super(...arguments),Uo(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Uo(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,s,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==null&&n!==void 0?n:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:s,animationEasing:a,children:i,coordinate:l,hasPayload:o,isAnimationActive:c,offset:u,position:d,reverseDirection:m,useTranslate3d:h,viewBox:f,wrapperStyle:x,lastBoundingBox:p,innerRef:g,hasPortalFromProps:y}=this.props,{cssClasses:b,cssProperties:j}=n1({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:u,position:d,reverseDirection:m,tooltipBox:{height:p.height,width:p.width},useTranslate3d:h,viewBox:f}),N=y?{}:Ws(Ws({transition:c&&t?"transform ".concat(s,"ms ").concat(a):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),w=Ws(Ws({},N),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},x);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:w,ref:g},i)}}var l1=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),pn={isSsr:l1()},eg=()=>Y(e=>e.rootProps.accessibilityLayer);function Ye(e){return Number.isFinite(e)}function wa(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Wo(){return Wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Wo.apply(null,arguments)}function rh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function nh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rh(Object(n),!0).forEach(function(s){o1(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rh(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function o1(e,t,n){return(t=c1(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c1(e){var t=u1(e,"string");return typeof t=="symbol"?t:t+""}function u1(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sh={curveBasisClosed:Kb,curveBasisOpen:Hb,curveBasis:Wb,curveBumpX:Tb,curveBumpY:Db,curveLinearClosed:Yb,curveLinear:Za,curveMonotoneX:Gb,curveMonotoneY:Jb,curveNatural:Xb,curveStep:Qb,curveStepAfter:ej,curveStepBefore:Zb},Ks=e=>Ye(e.x)&&Ye(e.y),Vn=e=>e.x,Un=e=>e.y,d1=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(ws(e));return(n==="curveMonotone"||n==="curveBump")&&t?sh["".concat(n).concat(t==="vertical"?"Y":"X")]:sh[n]||Za},m1=e=>{var{type:t="linear",points:n=[],baseLine:s,layout:a,connectNulls:i=!1}=e,l=d1(t,a),o=i?n.filter(Ks):n,c;if(Array.isArray(s)){var u=i?s.filter(m=>Ks(m)):s,d=o.map((m,h)=>nh(nh({},m),{},{base:u[h]}));return a==="vertical"?c=zs().y(Un).x1(Vn).x0(m=>m.base.x):c=zs().x(Vn).y1(Un).y0(m=>m.base.y),c.defined(Ks).curve(l),c(d)}return a==="vertical"&&U(s)?c=zs().y(Un).x1(Vn).x0(s):U(s)?c=zs().x(Vn).y1(Un).y0(s):c=Xp().x(Vn).y(Un),c.defined(Ks).curve(l),c(o)},rs=e=>{var{className:t,points:n,path:s,pathRef:a}=e;if((!n||!n.length)&&!s)return null;var i=n&&n.length?m1(e):s;return v.createElement("path",Wo({},wr(e),Tc(e),{className:de("recharts-curve",t),d:i===null?void 0:i,ref:a}))},h1=["x","y","top","left","width","height","className"];function Ko(){return Ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ko.apply(null,arguments)}function ah(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function f1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ah(Object(n),!0).forEach(function(s){p1(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ah(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function p1(e,t,n){return(t=x1(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x1(e){var t=g1(e,"string");return typeof t=="symbol"?t:t+""}function g1(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v1(e,t){if(e==null)return{};var n,s,a=y1(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function y1(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var b1=(e,t,n,s,a,i)=>"M".concat(e,",").concat(a,"v").concat(s,"M").concat(i,",").concat(t,"h").concat(n),j1=e=>{var{x:t=0,y:n=0,top:s=0,left:a=0,width:i=0,height:l=0,className:o}=e,c=v1(e,h1),u=f1({x:t,y:n,top:s,left:a,width:i,height:l},c);return!U(t)||!U(n)||!U(i)||!U(l)||!U(s)||!U(a)?null:v.createElement("path",Ko({},we(u,!0),{className:de("recharts-cross",o),d:b1(t,n,i,l,s,a)}))};function N1(e,t,n,s){var a=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?s:n.width-1,height:e==="horizontal"?n.height-1:s}}function ih(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function w1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ih(Object(n),!0).forEach(function(s){P1(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ih(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function P1(e,t,n){return(t=S1(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S1(e){var t=A1(e,"string");return typeof t=="symbol"?t:t+""}function A1(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qt(e,t){var n=w1({},e),s=t,a=Object.keys(t),i=a.reduce((l,o)=>(l[o]===void 0&&s[o]!==void 0&&(l[o]=s[o]),l),n);return i}var $l={},zl={},Bl={},lh;function C1(){return lh||(lh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(!n||typeof n!="object")return!1;const s=Object.getPrototypeOf(n);return s===null||s===Object.prototype||Object.getPrototypeOf(s)===null?Object.prototype.toString.call(n)==="[object Object]":!1}e.isPlainObject=t})(Bl)),Bl}var oh;function O1(){return oh||(oh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C1(),n=hx(),s=zc(),a=Bc(),i=Lc();function l(u,d,m){return o(u,d,void 0,void 0,void 0,void 0,m)}function o(u,d,m,h,f,x,p){const g=p(u,d,m,h,f,x);if(g!==void 0)return g;if(typeof u==typeof d)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===d;case"number":return u===d||Object.is(u,d);case"function":return u===d;case"object":return c(u,d,x,p)}return c(u,d,x,p)}function c(u,d,m,h){if(Object.is(u,d))return!0;let f=s.getTag(u),x=s.getTag(d);if(f===a.argumentsTag&&(f=a.objectTag),x===a.argumentsTag&&(x=a.objectTag),f!==x)return!1;switch(f){case a.stringTag:return u.toString()===d.toString();case a.numberTag:{const y=u.valueOf(),b=d.valueOf();return i.eq(y,b)}case a.booleanTag:case a.dateTag:case a.symbolTag:return Object.is(u.valueOf(),d.valueOf());case a.regexpTag:return u.source===d.source&&u.flags===d.flags;case a.functionTag:return u===d}m=m??new Map;const p=m.get(u),g=m.get(d);if(p!=null&&g!=null)return p===d;m.set(u,d),m.set(d,u);try{switch(f){case a.mapTag:{if(u.size!==d.size)return!1;for(const[y,b]of u.entries())if(!d.has(y)||!o(b,d.get(y),y,u,d,m,h))return!1;return!0}case a.setTag:{if(u.size!==d.size)return!1;const y=Array.from(u.values()),b=Array.from(d.values());for(let j=0;j<y.length;j++){const N=y[j],w=b.findIndex(S=>o(N,S,void 0,u,d,m,h));if(w===-1)return!1;b.splice(w,1)}return!0}case a.arrayTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:case a.bigUint64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.bigInt64ArrayTag:case a.float32ArrayTag:case a.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(d)||u.length!==d.length)return!1;for(let y=0;y<u.length;y++)if(!o(u[y],d[y],y,u,d,m,h))return!1;return!0}case a.arrayBufferTag:return u.byteLength!==d.byteLength?!1:c(new Uint8Array(u),new Uint8Array(d),m,h);case a.dataViewTag:return u.byteLength!==d.byteLength||u.byteOffset!==d.byteOffset?!1:c(new Uint8Array(u),new Uint8Array(d),m,h);case a.errorTag:return u.name===d.name&&u.message===d.message;case a.objectTag:{if(!(c(u.constructor,d.constructor,m,h)||t.isPlainObject(u)&&t.isPlainObject(d)))return!1;const b=[...Object.keys(u),...n.getSymbols(u)],j=[...Object.keys(d),...n.getSymbols(d)];if(b.length!==j.length)return!1;for(let N=0;N<b.length;N++){const w=b[N],S=u[w];if(!Object.hasOwn(d,w))return!1;const O=d[w];if(!o(S,O,w,u,d,m,h))return!1}return!0}default:return!1}}finally{m.delete(u),m.delete(d)}}e.isEqualWith=l})(zl)),zl}var ql={},ch;function E1(){return ch||(ch=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(ql)),ql}var uh;function k1(){return uh||(uh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O1(),n=E1();function s(a,i){return t.isEqualWith(a,i,n.noop)}e.isEqual=s})($l)),$l}var Vl,dh;function T1(){return dh||(dh=1,Vl=k1().isEqual),Vl}var D1=T1();const M1=Nr(D1);var Pa=1e-4,tg=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],rg=(e,t)=>e.map((n,s)=>n*t**s).reduce((n,s)=>n+s),mh=(e,t)=>n=>{var s=tg(e,t);return rg(s,n)},I1=(e,t)=>n=>{var s=tg(e,t),a=[...s.map((i,l)=>i*l).slice(1),0];return rg(a,n)},hh=function(){for(var t,n,s,a,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];if(l.length===1)switch(l[0]){case"linear":[t,s,n,a]=[0,0,1,1];break;case"ease":[t,s,n,a]=[.25,.1,.25,1];break;case"ease-in":[t,s,n,a]=[.42,0,1,1];break;case"ease-out":[t,s,n,a]=[.42,0,.58,1];break;case"ease-in-out":[t,s,n,a]=[0,0,.58,1];break;default:{var c=l[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,s,n,a]=c[1].split(")")[0].split(",").map(x=>parseFloat(x)))}}else l.length===4&&([t,s,n,a]=l);var u=mh(t,n),d=mh(s,a),m=I1(t,n),h=x=>x>1?1:x<0?0:x,f=x=>{for(var p=x>1?1:x,g=p,y=0;y<8;++y){var b=u(g)-p,j=m(g);if(Math.abs(b-p)<Pa||j<Pa)return d(g);g=h(g-b/j)}return d(g)};return f.isStepper=!1,f},R1=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:s=8,dt:a=17}=t,i=(l,o,c)=>{var u=-(l-o)*n,d=c*s,m=c+(u-d)*a/1e3,h=c*a/1e3+l;return Math.abs(h-o)<Pa&&Math.abs(m)<Pa?[o,0]:[h,m]};return i.isStepper=!0,i.dt=a,i},ng=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return hh(e);case"spring":return R1();default:if(e.split("(")[0]==="cubic-bezier")return hh(e)}return typeof e=="function"?e:null};function fh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function ph(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fh(Object(n),!0).forEach(function(s){_1(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fh(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function _1(e,t,n){return(t=F1(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F1(e){var t=L1(e,"string");return typeof t=="symbol"?t:t+""}function L1(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $1=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),z1=(e,t,n)=>e.map(s=>"".concat($1(s)," ").concat(t,"ms ").concat(n)).join(","),B1=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,s)=>n.filter(a=>s.includes(a))),hs=(e,t)=>Object.keys(t).reduce((n,s)=>ph(ph({},n),{},{[s]:e(s,t[s])}),{});function xh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xh(Object(n),!0).forEach(function(s){q1(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xh(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function q1(e,t,n){return(t=V1(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V1(e){var t=U1(e,"string");return typeof t=="symbol"?t:t+""}function U1(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sa=(e,t,n)=>e+(t-e)*n,Ho=e=>{var{from:t,to:n}=e;return t!==n},sg=(e,t,n)=>{var s=hs((a,i)=>{if(Ho(i)){var[l,o]=e(i.from,i.to,i.velocity);return We(We({},i),{},{from:l,velocity:o})}return i},t);return n<1?hs((a,i)=>Ho(i)?We(We({},i),{},{velocity:Sa(i.velocity,s[a].velocity,n),from:Sa(i.from,s[a].from,n)}):i,t):sg(e,s,n-1)};function W1(e,t,n,s,a,i){var l,o=s.reduce((h,f)=>We(We({},h),{},{[f]:{from:e[f],velocity:0,to:t[f]}}),{}),c=()=>hs((h,f)=>f.from,o),u=()=>!Object.values(o).filter(Ho).length,d=null,m=h=>{l||(l=h);var f=h-l,x=f/n.dt;o=sg(n,o,x),a(We(We(We({},e),t),c())),l=h,u()||(d=i.setTimeout(m))};return()=>(d=i.setTimeout(m),()=>{d()})}function K1(e,t,n,s,a,i,l){var o=null,c=a.reduce((m,h)=>We(We({},m),{},{[h]:[e[h],t[h]]}),{}),u,d=m=>{u||(u=m);var h=(m-u)/s,f=hs((p,g)=>Sa(...g,n(h)),c);if(i(We(We(We({},e),t),f)),h<1)o=l.setTimeout(d);else{var x=hs((p,g)=>Sa(...g,n(1)),c);i(We(We(We({},e),t),x))}};return()=>(o=l.setTimeout(d),()=>{o()})}const ag=(e,t,n,s,a,i)=>{var l=B1(e,t);return n.isStepper===!0?W1(e,t,n,l,a,i):K1(e,t,n,s,l,a,i)};function H1(e){var t,n=()=>null,s=!1,a=null,i=l=>{if(!s){if(Array.isArray(l)){if(!l.length)return;var o=l,[c,...u]=o;if(typeof c=="number"){a=e.setTimeout(i.bind(null,u),c);return}i(c),a=e.setTimeout(i.bind(null,u));return}typeof l=="string"&&(t=l,n(t)),typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{s=!0},start:l=>{s=!1,a&&(a(),a=null),i(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class Y1{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=performance.now(),a=null,i=l=>{l-s>=n?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function G1(){return H1(new Y1)}var J1=v.createContext(G1);function ig(e,t){var n=v.useContext(J1);return v.useMemo(()=>t??n(e),[e,t,n])}var X1=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Yo(){return Yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Yo.apply(null,arguments)}function Q1(e,t){if(e==null)return{};var n,s,a=Z1(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Z1(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function gh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Dr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gh(Object(n),!0).forEach(function(s){Jr(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gh(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Jr(e,t,n){return(t=e2(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e2(e){var t=t2(e,"string");return typeof t=="symbol"?t:t+""}function t2(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Xc extends v.PureComponent{constructor(t,n){super(t,n),Jr(this,"mounted",!1),Jr(this,"manager",void 0),Jr(this,"stopJSAnimation",null),Jr(this,"unSubscribe",null);var{isActive:s,attributeName:a,from:i,to:l,children:o,duration:c,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!s||c<=0){this.state={style:{}},typeof o=="function"&&(this.state={style:l});return}if(i){if(typeof o=="function"){this.state={style:i};return}this.state={style:a?{[a]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:n}=this.props;this.mounted=!0,!(!t||!n)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:n,canBegin:s,attributeName:a,shouldReAnimate:i,to:l,from:o}=this.props,{style:c}=this.state;if(s){if(!n){var u={style:a?{[a]:l}:l};this.state&&c&&(a&&c[a]!==l||!a&&c!==l)&&this.setState(u);return}if(!(M1(t.to,l)&&t.canBegin&&t.isActive)){var d=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=d||i?o:t.to;if(this.state&&c){var h={style:a?{[a]:m}:m};(a&&c[a]!==m||!a&&c!==m)&&this.setState(h)}this.runAnimation(Dr(Dr({},this.props),{},{from:m,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:n,to:s,duration:a,easing:i,begin:l,onAnimationEnd:o,onAnimationStart:c}=t,u=ag(n,s,ng(i),a,this.changeStyle,this.manager.getTimeoutController()),d=()=>{this.stopJSAnimation=u()};this.manager.start([c,l,d,a,o])}runAnimation(t){var{begin:n,duration:s,attributeName:a,to:i,easing:l,onAnimationStart:o,onAnimationEnd:c,children:u}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof l=="function"||typeof u=="function"||l==="spring"){this.runJSAnimation(t);return}var d=a?{[a]:i}:i,m=z1(Object.keys(d),s,l);this.manager.start([o,n,Dr(Dr({},d),{},{transition:m}),s,c])}render(){var t=this.props,{children:n,begin:s,duration:a,attributeName:i,easing:l,isActive:o,from:c,to:u,canBegin:d,onAnimationEnd:m,shouldReAnimate:h,onAnimationReStart:f,animationManager:x}=t,p=Q1(t,X1),g=v.Children.count(n),y=this.state.style;if(typeof n=="function")return n(y);if(!o||g===0||a<=0)return n;var b=j=>{var{style:N={},className:w}=j.props,S=v.cloneElement(j,Dr(Dr({},p),{},{style:Dr(Dr({},N),y),className:w}));return S};return g===1?b(v.Children.only(n)):v.createElement("div",null,v.Children.map(n,j=>b(j)))}}Jr(Xc,"displayName","Animate");Jr(Xc,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function Aa(e){var t,n=ig((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return v.createElement(Xc,Yo({},e,{animationManager:n}))}function Ca(){return Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ca.apply(null,arguments)}var vh=(e,t,n,s,a)=>{var i=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,o=n>=0?1:-1,c=s>=0&&n>=0||s<0&&n<0?1:0,u;if(i>0&&a instanceof Array){for(var d=[0,0,0,0],m=0,h=4;m<h;m++)d[m]=a[m]>i?i:a[m];u="M".concat(e,",").concat(t+l*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+o*d[0],",").concat(t)),u+="L ".concat(e+n-o*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(t+l*d[1])),u+="L ".concat(e+n,",").concat(t+s-l*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+n-o*d[2],",").concat(t+s)),u+="L ".concat(e+o*d[3],",").concat(t+s),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+s-l*d[3])),u+="Z"}else if(i>0&&a===+a&&a>0){var f=Math.min(i,a);u="M ".concat(e,",").concat(t+l*f,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+o*f,",").concat(t,`
            L `).concat(e+n-o*f,",").concat(t,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+n,",").concat(t+l*f,`
            L `).concat(e+n,",").concat(t+s-l*f,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+n-o*f,",").concat(t+s,`
            L `).concat(e+o*f,",").concat(t+s,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e,",").concat(t+s-l*f," Z")}else u="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return u},r2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lg=e=>{var t=qt(e,r2),n=v.useRef(null),[s,a]=v.useState(-1);v.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var y=n.current.getTotalLength();y&&a(y)}catch{}},[]);var{x:i,y:l,width:o,height:c,radius:u,className:d}=t,{animationEasing:m,animationDuration:h,animationBegin:f,isAnimationActive:x,isUpdateAnimationActive:p}=t;if(i!==+i||l!==+l||o!==+o||c!==+c||o===0||c===0)return null;var g=de("recharts-rectangle",d);return p?v.createElement(Aa,{canBegin:s>0,from:{width:o,height:c,x:i,y:l},to:{width:o,height:c,x:i,y:l},duration:h,animationEasing:m,isActive:p},y=>{var{width:b,height:j,x:N,y:w}=y;return v.createElement(Aa,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:h,isActive:x,easing:m},v.createElement("path",Ca({},we(t,!0),{className:g,d:vh(N,w,b,j,u),ref:n})))}):v.createElement("path",Ca({},we(t,!0),{className:g,d:vh(i,l,o,c,u)}))};function og(e){var{cx:t,cy:n,radius:s,startAngle:a,endAngle:i}=e,l=He(t,n,s,a),o=He(t,n,s,i);return{points:[l,o],cx:t,cy:n,radius:s,startAngle:a,endAngle:i}}function Go(){return Go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Go.apply(null,arguments)}var n2=(e,t)=>{var n=ut(t-e),s=Math.min(Math.abs(t-e),359.999);return n*s},Hs=e=>{var{cx:t,cy:n,radius:s,angle:a,sign:i,isExternal:l,cornerRadius:o,cornerIsExternal:c}=e,u=o*(l?1:-1)+s,d=Math.asin(o/u)/ja,m=c?a:a+i*d,h=He(t,n,u,m),f=He(t,n,s,m),x=c?a-i*d:a,p=He(t,n,u*Math.cos(d*ja),x);return{center:h,circleTangency:f,lineTangency:p,theta:d}},cg=e=>{var{cx:t,cy:n,innerRadius:s,outerRadius:a,startAngle:i,endAngle:l}=e,o=n2(i,l),c=i+o,u=He(t,n,a,i),d=He(t,n,a,c),m="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(s>0){var h=He(t,n,s,i),f=He(t,n,s,c);m+="L ".concat(f.x,",").concat(f.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else m+="L ".concat(t,",").concat(n," Z");return m},s2=e=>{var{cx:t,cy:n,innerRadius:s,outerRadius:a,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:o,startAngle:c,endAngle:u}=e,d=ut(u-c),{circleTangency:m,lineTangency:h,theta:f}=Hs({cx:t,cy:n,radius:a,angle:c,sign:d,cornerRadius:i,cornerIsExternal:o}),{circleTangency:x,lineTangency:p,theta:g}=Hs({cx:t,cy:n,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:o}),y=o?Math.abs(c-u):Math.abs(c-u)-f-g;if(y<0)return l?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):cg({cx:t,cy:n,innerRadius:s,outerRadius:a,startAngle:c,endAngle:u});var b="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(y>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
  `);if(s>0){var{circleTangency:j,lineTangency:N,theta:w}=Hs({cx:t,cy:n,radius:s,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:S,lineTangency:O,theta:k}=Hs({cx:t,cy:n,radius:s,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),F=o?Math.abs(c-u):Math.abs(c-u)-w-k;if(F<0&&i===0)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+="L".concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(F>180),",").concat(+(d>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,"Z")}else b+="L".concat(t,",").concat(n,"Z");return b},a2={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ug=e=>{var t=qt(e,a2),{cx:n,cy:s,innerRadius:a,outerRadius:i,cornerRadius:l,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d,className:m}=t;if(i<a||u===d)return null;var h=de("recharts-sector",m),f=i-a,x=Yt(l,f,0,!0),p;return x>0&&Math.abs(u-d)<360?p=s2({cx:n,cy:s,innerRadius:a,outerRadius:i,cornerRadius:Math.min(x,f/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d}):p=cg({cx:n,cy:s,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),v.createElement("path",Go({},we(t,!0),{className:h,d:p}))};function i2(e,t,n){var s,a,i,l;if(e==="horizontal")s=t.x,i=s,a=n.top,l=n.top+n.height;else if(e==="vertical")a=t.y,l=a,s=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:c,innerRadius:u,outerRadius:d,angle:m}=t,h=He(o,c,u,m),f=He(o,c,d,m);s=h.x,a=h.y,i=f.x,l=f.y}else return og(t);return[{x:s,y:a},{x:i,y:l}]}var Ul={},Wl={},Kl={},yh;function l2(){return yh||(yh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gx();function n(s){return t.isSymbol(s)?NaN:Number(s)}e.toNumber=n})(Kl)),Kl}var bh;function o2(){return bh||(bh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l2();function n(s){return s?(s=t.toNumber(s),s===1/0||s===-1/0?(s<0?-1:1)*Number.MAX_VALUE:s===s?s:0):s===0?s:0}e.toFinite=n})(Wl)),Wl}var jh;function c2(){return jh||(jh=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vx(),n=o2();function s(a,i,l){l&&typeof l!="number"&&t.isIterateeCall(a,i,l)&&(i=l=void 0),a=n.toFinite(a),i===void 0?(i=a,a=0):i=n.toFinite(i),l=l===void 0?a<i?1:-1:n.toFinite(l);const o=Math.max(Math.ceil((i-a)/(l||1)),0),c=new Array(o);for(let u=0;u<o;u++)c[u]=a,a+=l;return c}e.range=s})(Ul)),Ul}var Hl,Nh;function u2(){return Nh||(Nh=1,Hl=c2().range),Hl}var d2=u2();const dg=Nr(d2);function $r(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function m2(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Qc(e){let t,n,s;e.length!==2?(t=$r,n=(o,c)=>$r(e(o),c),s=(o,c)=>e(o)-c):(t=e===$r||e===m2?e:h2,n=e,s=e);function a(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const m=u+d>>>1;n(o[m],c)<0?u=m+1:d=m}while(u<d)}return u}function i(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const m=u+d>>>1;n(o[m],c)<=0?u=m+1:d=m}while(u<d)}return u}function l(o,c,u=0,d=o.length){const m=a(o,c,u,d-1);return m>u&&s(o[m-1],c)>-s(o[m],c)?m-1:m}return{left:a,center:l,right:i}}function h2(){return 0}function mg(e){return e===null?NaN:+e}function*f2(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const p2=Qc($r),As=p2.right;Qc(mg).center;class wh extends Map{constructor(t,n=v2){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[s,a]of t)this.set(s,a)}get(t){return super.get(Ph(this,t))}has(t){return super.has(Ph(this,t))}set(t,n){return super.set(x2(this,t),n)}delete(t){return super.delete(g2(this,t))}}function Ph({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):n}function x2({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):(e.set(s,n),n)}function g2({_intern:e,_key:t},n){const s=t(n);return e.has(s)&&(n=e.get(s),e.delete(s)),n}function v2(e){return e!==null&&typeof e=="object"?e.valueOf():e}function y2(e=$r){if(e===$r)return hg;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const s=e(t,n);return s||s===0?s:(e(n,n)===0)-(e(t,t)===0)}}function hg(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const b2=Math.sqrt(50),j2=Math.sqrt(10),N2=Math.sqrt(2);function Oa(e,t,n){const s=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(s)),i=s/Math.pow(10,a),l=i>=b2?10:i>=j2?5:i>=N2?2:1;let o,c,u;return a<0?(u=Math.pow(10,-a)/l,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*l,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=n&&n<2?Oa(e,t,n*2):[o,c,u]}function Jo(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const s=t<e,[a,i,l]=s?Oa(t,e,n):Oa(e,t,n);if(!(i>=a))return[];const o=i-a+1,c=new Array(o);if(s)if(l<0)for(let u=0;u<o;++u)c[u]=(i-u)/-l;else for(let u=0;u<o;++u)c[u]=(i-u)*l;else if(l<0)for(let u=0;u<o;++u)c[u]=(a+u)/-l;else for(let u=0;u<o;++u)c[u]=(a+u)*l;return c}function Xo(e,t,n){return t=+t,e=+e,n=+n,Oa(e,t,n)[2]}function Qo(e,t,n){t=+t,e=+e,n=+n;const s=t<e,a=s?Xo(t,e,n):Xo(e,t,n);return(s?-1:1)*(a<0?1/-a:a)}function Sh(e,t){let n;for(const s of e)s!=null&&(n<s||n===void 0&&s>=s)&&(n=s);return n}function Ah(e,t){let n;for(const s of e)s!=null&&(n>s||n===void 0&&s>=s)&&(n=s);return n}function fg(e,t,n=0,s=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),s=Math.floor(Math.min(e.length-1,s)),!(n<=t&&t<=s))return e;for(a=a===void 0?hg:y2(a);s>n;){if(s-n>600){const c=s-n+1,u=t-n+1,d=Math.log(c),m=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*m*(c-m)/c)*(u-c/2<0?-1:1),f=Math.max(n,Math.floor(t-u*m/c+h)),x=Math.min(s,Math.floor(t+(c-u)*m/c+h));fg(e,t,f,x,a)}const i=e[t];let l=n,o=s;for(Wn(e,n,t),a(e[s],i)>0&&Wn(e,n,s);l<o;){for(Wn(e,l,o),++l,--o;a(e[l],i)<0;)++l;for(;a(e[o],i)>0;)--o}a(e[n],i)===0?Wn(e,n,o):(++o,Wn(e,o,s)),o<=t&&(n=o+1),t<=o&&(s=o-1)}return e}function Wn(e,t,n){const s=e[t];e[t]=e[n],e[n]=s}function w2(e,t,n){if(e=Float64Array.from(f2(e)),!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return Ah(e);if(t>=1)return Sh(e);var s,a=(s-1)*t,i=Math.floor(a),l=Sh(fg(e,i).subarray(0,i+1)),o=Ah(e.subarray(i+1));return l+(o-l)*(a-i)}}function P2(e,t,n=mg){if(!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return+n(e[0],0,e);if(t>=1)return+n(e[s-1],s-1,e);var s,a=(s-1)*t,i=Math.floor(a),l=+n(e[i],i,e),o=+n(e[i+1],i+1,e);return l+(o-l)*(a-i)}}function S2(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var s=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++s<a;)i[s]=e+s*n;return i}function Vt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ar(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Zo=Symbol("implicit");function Zc(){var e=new wh,t=[],n=[],s=Zo;function a(i){let l=e.get(i);if(l===void 0){if(s!==Zo)return s;e.set(i,l=t.push(i)-1)}return n[l%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new wh;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return Zc(t,n).unknown(s)},Vt.apply(a,arguments),a}function eu(){var e=Zc().unknown(void 0),t=e.domain,n=e.range,s=0,a=1,i,l,o=!1,c=0,u=0,d=.5;delete e.unknown;function m(){var h=t().length,f=a<s,x=f?a:s,p=f?s:a;i=(p-x)/Math.max(1,h-c+u*2),o&&(i=Math.floor(i)),x+=(p-x-i*(h-c))*d,l=i*(1-c),o&&(x=Math.round(x),l=Math.round(l));var g=S2(h).map(function(y){return x+i*y});return n(f?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),m()):t()},e.range=function(h){return arguments.length?([s,a]=h,s=+s,a=+a,m()):[s,a]},e.rangeRound=function(h){return[s,a]=h,s=+s,a=+a,o=!0,m()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,m()):o},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),m()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),m()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,m()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),m()):d},e.copy=function(){return eu(t(),[s,a]).round(o).paddingInner(c).paddingOuter(u).align(d)},Vt.apply(m(),arguments)}function pg(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return pg(t())},e}function A2(){return pg(eu.apply(null,arguments).paddingInner(1))}function tu(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function xg(e,t){var n=Object.create(e.prototype);for(var s in t)n[s]=t[s];return n}function Cs(){}var fs=.7,Ea=1/fs,Pn="\\s*([+-]?\\d+)\\s*",ps="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",C2=/^#([0-9a-f]{3,8})$/,O2=new RegExp(`^rgb\\(${Pn},${Pn},${Pn}\\)$`),E2=new RegExp(`^rgb\\(${tr},${tr},${tr}\\)$`),k2=new RegExp(`^rgba\\(${Pn},${Pn},${Pn},${ps}\\)$`),T2=new RegExp(`^rgba\\(${tr},${tr},${tr},${ps}\\)$`),D2=new RegExp(`^hsl\\(${ps},${tr},${tr}\\)$`),M2=new RegExp(`^hsla\\(${ps},${tr},${tr},${ps}\\)$`),Ch={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tu(Cs,xs,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Oh,formatHex:Oh,formatHex8:I2,formatHsl:R2,formatRgb:Eh,toString:Eh});function Oh(){return this.rgb().formatHex()}function I2(){return this.rgb().formatHex8()}function R2(){return gg(this).formatHsl()}function Eh(){return this.rgb().formatRgb()}function xs(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=C2.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?kh(t):n===3?new dt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ys(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ys(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=O2.exec(e))?new dt(t[1],t[2],t[3],1):(t=E2.exec(e))?new dt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=k2.exec(e))?Ys(t[1],t[2],t[3],t[4]):(t=T2.exec(e))?Ys(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=D2.exec(e))?Mh(t[1],t[2]/100,t[3]/100,1):(t=M2.exec(e))?Mh(t[1],t[2]/100,t[3]/100,t[4]):Ch.hasOwnProperty(e)?kh(Ch[e]):e==="transparent"?new dt(NaN,NaN,NaN,0):null}function kh(e){return new dt(e>>16&255,e>>8&255,e&255,1)}function Ys(e,t,n,s){return s<=0&&(e=t=n=NaN),new dt(e,t,n,s)}function _2(e){return e instanceof Cs||(e=xs(e)),e?(e=e.rgb(),new dt(e.r,e.g,e.b,e.opacity)):new dt}function ec(e,t,n,s){return arguments.length===1?_2(e):new dt(e,t,n,s??1)}function dt(e,t,n,s){this.r=+e,this.g=+t,this.b=+n,this.opacity=+s}tu(dt,ec,xg(Cs,{brighter(e){return e=e==null?Ea:Math.pow(Ea,e),new dt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?fs:Math.pow(fs,e),new dt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new dt(sn(this.r),sn(this.g),sn(this.b),ka(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Th,formatHex:Th,formatHex8:F2,formatRgb:Dh,toString:Dh}));function Th(){return`#${Xr(this.r)}${Xr(this.g)}${Xr(this.b)}`}function F2(){return`#${Xr(this.r)}${Xr(this.g)}${Xr(this.b)}${Xr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Dh(){const e=ka(this.opacity);return`${e===1?"rgb(":"rgba("}${sn(this.r)}, ${sn(this.g)}, ${sn(this.b)}${e===1?")":`, ${e})`}`}function ka(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function sn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Xr(e){return e=sn(e),(e<16?"0":"")+e.toString(16)}function Mh(e,t,n,s){return s<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Kt(e,t,n,s)}function gg(e){if(e instanceof Kt)return new Kt(e.h,e.s,e.l,e.opacity);if(e instanceof Cs||(e=xs(e)),!e)return new Kt;if(e instanceof Kt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,s=e.b/255,a=Math.min(t,n,s),i=Math.max(t,n,s),l=NaN,o=i-a,c=(i+a)/2;return o?(t===i?l=(n-s)/o+(n<s)*6:n===i?l=(s-t)/o+2:l=(t-n)/o+4,o/=c<.5?i+a:2-i-a,l*=60):o=c>0&&c<1?0:l,new Kt(l,o,c,e.opacity)}function L2(e,t,n,s){return arguments.length===1?gg(e):new Kt(e,t,n,s??1)}function Kt(e,t,n,s){this.h=+e,this.s=+t,this.l=+n,this.opacity=+s}tu(Kt,L2,xg(Cs,{brighter(e){return e=e==null?Ea:Math.pow(Ea,e),new Kt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?fs:Math.pow(fs,e),new Kt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*t,a=2*n-s;return new dt(Yl(e>=240?e-240:e+120,a,s),Yl(e,a,s),Yl(e<120?e+240:e-120,a,s),this.opacity)},clamp(){return new Kt(Ih(this.h),Gs(this.s),Gs(this.l),ka(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ka(this.opacity);return`${e===1?"hsl(":"hsla("}${Ih(this.h)}, ${Gs(this.s)*100}%, ${Gs(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ih(e){return e=(e||0)%360,e<0?e+360:e}function Gs(e){return Math.max(0,Math.min(1,e||0))}function Yl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const ru=e=>()=>e;function $2(e,t){return function(n){return e+n*t}}function z2(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(s){return Math.pow(e+s*t,n)}}function B2(e){return(e=+e)==1?vg:function(t,n){return n-t?z2(t,n,e):ru(isNaN(t)?n:t)}}function vg(e,t){var n=t-e;return n?$2(e,n):ru(isNaN(e)?t:e)}const Rh=(function e(t){var n=B2(t);function s(a,i){var l=n((a=ec(a)).r,(i=ec(i)).r),o=n(a.g,i.g),c=n(a.b,i.b),u=vg(a.opacity,i.opacity);return function(d){return a.r=l(d),a.g=o(d),a.b=c(d),a.opacity=u(d),a+""}}return s.gamma=e,s})(1);function q2(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,s=t.slice(),a;return function(i){for(a=0;a<n;++a)s[a]=e[a]*(1-i)+t[a]*i;return s}}function V2(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function U2(e,t){var n=t?t.length:0,s=e?Math.min(n,e.length):0,a=new Array(s),i=new Array(n),l;for(l=0;l<s;++l)a[l]=In(e[l],t[l]);for(;l<n;++l)i[l]=t[l];return function(o){for(l=0;l<s;++l)i[l]=a[l](o);return i}}function W2(e,t){var n=new Date;return e=+e,t=+t,function(s){return n.setTime(e*(1-s)+t*s),n}}function Ta(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function K2(e,t){var n={},s={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=In(e[a],t[a]):s[a]=t[a];return function(i){for(a in n)s[a]=n[a](i);return s}}var tc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gl=new RegExp(tc.source,"g");function H2(e){return function(){return e}}function Y2(e){return function(t){return e(t)+""}}function G2(e,t){var n=tc.lastIndex=Gl.lastIndex=0,s,a,i,l=-1,o=[],c=[];for(e=e+"",t=t+"";(s=tc.exec(e))&&(a=Gl.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),o[l]?o[l]+=i:o[++l]=i),(s=s[0])===(a=a[0])?o[l]?o[l]+=a:o[++l]=a:(o[++l]=null,c.push({i:l,x:Ta(s,a)})),n=Gl.lastIndex;return n<t.length&&(i=t.slice(n),o[l]?o[l]+=i:o[++l]=i),o.length<2?c[0]?Y2(c[0].x):H2(t):(t=c.length,function(u){for(var d=0,m;d<t;++d)o[(m=c[d]).i]=m.x(u);return o.join("")})}function In(e,t){var n=typeof t,s;return t==null||n==="boolean"?ru(t):(n==="number"?Ta:n==="string"?(s=xs(t))?(t=s,Rh):G2:t instanceof xs?Rh:t instanceof Date?W2:V2(t)?q2:Array.isArray(t)?U2:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?K2:Ta)(e,t)}function nu(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function J2(e,t){t===void 0&&(t=e,e=In);for(var n=0,s=t.length-1,a=t[0],i=new Array(s<0?0:s);n<s;)i[n]=e(a,a=t[++n]);return function(l){var o=Math.max(0,Math.min(s-1,Math.floor(l*=s)));return i[o](l-o)}}function X2(e){return function(){return e}}function Da(e){return+e}var _h=[0,1];function at(e){return e}function rc(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:X2(isNaN(t)?NaN:.5)}function Q2(e,t){var n;return e>t&&(n=e,e=t,t=n),function(s){return Math.max(e,Math.min(t,s))}}function Z2(e,t,n){var s=e[0],a=e[1],i=t[0],l=t[1];return a<s?(s=rc(a,s),i=n(l,i)):(s=rc(s,a),i=n(i,l)),function(o){return i(s(o))}}function eP(e,t,n){var s=Math.min(e.length,t.length)-1,a=new Array(s),i=new Array(s),l=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<s;)a[l]=rc(e[l],e[l+1]),i[l]=n(t[l],t[l+1]);return function(o){var c=As(e,o,1,s)-1;return i[c](a[c](o))}}function Os(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function di(){var e=_h,t=_h,n=In,s,a,i,l=at,o,c,u;function d(){var h=Math.min(e.length,t.length);return l!==at&&(l=Q2(e[0],e[h-1])),o=h>2?eP:Z2,c=u=null,m}function m(h){return h==null||isNaN(h=+h)?i:(c||(c=o(e.map(s),t,n)))(s(l(h)))}return m.invert=function(h){return l(a((u||(u=o(t,e.map(s),Ta)))(h)))},m.domain=function(h){return arguments.length?(e=Array.from(h,Da),d()):e.slice()},m.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},m.rangeRound=function(h){return t=Array.from(h),n=nu,d()},m.clamp=function(h){return arguments.length?(l=h?!0:at,d()):l!==at},m.interpolate=function(h){return arguments.length?(n=h,d()):n},m.unknown=function(h){return arguments.length?(i=h,m):i},function(h,f){return s=h,a=f,d()}}function su(){return di()(at,at)}function tP(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ma(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,s=e.slice(0,n);return[s.length>1?s[0]+s.slice(2):s,+e.slice(n+1)]}function On(e){return e=Ma(Math.abs(e)),e?e[1]:NaN}function rP(e,t){return function(n,s){for(var a=n.length,i=[],l=0,o=e[0],c=0;a>0&&o>0&&(c+o+1>s&&(o=Math.max(1,s-c)),i.push(n.substring(a-=o,a+o)),!((c+=o+1)>s));)o=e[l=(l+1)%e.length];return i.reverse().join(t)}}function nP(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var sP=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gs(e){if(!(t=sP.exec(e)))throw new Error("invalid format: "+e);var t;return new au({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}gs.prototype=au.prototype;function au(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}au.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function aP(e){e:for(var t=e.length,n=1,s=-1,a;n<t;++n)switch(e[n]){case".":s=a=n;break;case"0":s===0&&(s=n),a=n;break;default:if(!+e[n])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(a+1):e}var yg;function iP(e,t){var n=Ma(e,t);if(!n)return e+"";var s=n[0],a=n[1],i=a-(yg=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=s.length;return i===l?s:i>l?s+new Array(i-l+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+Ma(e,Math.max(0,t+i-1))[0]}function Fh(e,t){var n=Ma(e,t);if(!n)return e+"";var s=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const Lh={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:tP,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Fh(e*100,t),r:Fh,s:iP,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function $h(e){return e}var zh=Array.prototype.map,Bh=["y","z","a","f","p","n","¬µ","m","","k","M","G","T","P","E","Z","Y"];function lP(e){var t=e.grouping===void 0||e.thousands===void 0?$h:rP(zh.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?$h:nP(zh.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"‚àí":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(m){m=gs(m);var h=m.fill,f=m.align,x=m.sign,p=m.symbol,g=m.zero,y=m.width,b=m.comma,j=m.precision,N=m.trim,w=m.type;w==="n"?(b=!0,w="g"):Lh[w]||(j===void 0&&(j=12),N=!0,w="g"),(g||h==="0"&&f==="=")&&(g=!0,h="0",f="=");var S=p==="$"?n:p==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",O=p==="$"?s:/[%p]/.test(w)?l:"",k=Lh[w],F=/[defgprs%]/.test(w);j=j===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function H(z){var q=S,G=O,V,P,L;if(w==="c")G=k(z)+G,z="";else{z=+z;var X=z<0||1/z<0;if(z=isNaN(z)?c:k(Math.abs(z),j),N&&(z=aP(z)),X&&+z==0&&x!=="+"&&(X=!1),q=(X?x==="("?x:o:x==="-"||x==="("?"":x)+q,G=(w==="s"?Bh[8+yg/3]:"")+G+(X&&x==="("?")":""),F){for(V=-1,P=z.length;++V<P;)if(L=z.charCodeAt(V),48>L||L>57){G=(L===46?a+z.slice(V+1):z.slice(V))+G,z=z.slice(0,V);break}}}b&&!g&&(z=t(z,1/0));var J=q.length+z.length+G.length,ie=J<y?new Array(y-J+1).join(h):"";switch(b&&g&&(z=t(ie+z,ie.length?y-G.length:1/0),ie=""),f){case"<":z=q+z+G+ie;break;case"=":z=q+ie+z+G;break;case"^":z=ie.slice(0,J=ie.length>>1)+q+z+G+ie.slice(J);break;default:z=ie+q+z+G;break}return i(z)}return H.toString=function(){return m+""},H}function d(m,h){var f=u((m=gs(m),m.type="f",m)),x=Math.max(-8,Math.min(8,Math.floor(On(h)/3)))*3,p=Math.pow(10,-x),g=Bh[8+x/3];return function(y){return f(p*y)+g}}return{format:u,formatPrefix:d}}var Js,iu,bg;oP({thousands:",",grouping:[3],currency:["$",""]});function oP(e){return Js=lP(e),iu=Js.format,bg=Js.formatPrefix,Js}function cP(e){return Math.max(0,-On(Math.abs(e)))}function uP(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(On(t)/3)))*3-On(Math.abs(e)))}function dP(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,On(t)-On(e))+1}function jg(e,t,n,s){var a=Qo(e,t,n),i;switch(s=gs(s??",f"),s.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return s.precision==null&&!isNaN(i=uP(a,l))&&(s.precision=i),bg(s,l)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=dP(a,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=cP(a))&&(s.precision=i-(s.type==="%")*2);break}}return iu(s)}function zr(e){var t=e.domain;return e.ticks=function(n){var s=t();return Jo(s[0],s[s.length-1],n??10)},e.tickFormat=function(n,s){var a=t();return jg(a[0],a[a.length-1],n??10,s)},e.nice=function(n){n==null&&(n=10);var s=t(),a=0,i=s.length-1,l=s[a],o=s[i],c,u,d=10;for(o<l&&(u=l,l=o,o=u,u=a,a=i,i=u);d-- >0;){if(u=Xo(l,o,n),u===c)return s[a]=l,s[i]=o,t(s);if(u>0)l=Math.floor(l/u)*u,o=Math.ceil(o/u)*u;else if(u<0)l=Math.ceil(l*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function Ng(){var e=su();return e.copy=function(){return Os(e,Ng())},Vt.apply(e,arguments),zr(e)}function wg(e){var t;function n(s){return s==null||isNaN(s=+s)?t:s}return n.invert=n,n.domain=n.range=function(s){return arguments.length?(e=Array.from(s,Da),n):e.slice()},n.unknown=function(s){return arguments.length?(t=s,n):t},n.copy=function(){return wg(e).unknown(t)},e=arguments.length?Array.from(e,Da):[0,1],zr(n)}function Pg(e,t){e=e.slice();var n=0,s=e.length-1,a=e[n],i=e[s],l;return i<a&&(l=n,n=s,s=l,l=a,a=i,i=l),e[n]=t.floor(a),e[s]=t.ceil(i),e}function qh(e){return Math.log(e)}function Vh(e){return Math.exp(e)}function mP(e){return-Math.log(-e)}function hP(e){return-Math.exp(-e)}function fP(e){return isFinite(e)?+("1e"+e):e<0?0:e}function pP(e){return e===10?fP:e===Math.E?Math.exp:t=>Math.pow(e,t)}function xP(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Uh(e){return(t,n)=>-e(-t,n)}function lu(e){const t=e(qh,Vh),n=t.domain;let s=10,a,i;function l(){return a=xP(s),i=pP(s),n()[0]<0?(a=Uh(a),i=Uh(i),e(mP,hP)):e(qh,Vh),t}return t.base=function(o){return arguments.length?(s=+o,l()):s},t.domain=function(o){return arguments.length?(n(o),l()):n()},t.ticks=o=>{const c=n();let u=c[0],d=c[c.length-1];const m=d<u;m&&([u,d]=[d,u]);let h=a(u),f=a(d),x,p;const g=o==null?10:+o;let y=[];if(!(s%1)&&f-h<g){if(h=Math.floor(h),f=Math.ceil(f),u>0){for(;h<=f;++h)for(x=1;x<s;++x)if(p=h<0?x/i(-h):x*i(h),!(p<u)){if(p>d)break;y.push(p)}}else for(;h<=f;++h)for(x=s-1;x>=1;--x)if(p=h>0?x/i(-h):x*i(h),!(p<u)){if(p>d)break;y.push(p)}y.length*2<g&&(y=Jo(u,d,g))}else y=Jo(h,f,Math.min(f-h,g)).map(i);return m?y.reverse():y},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=s===10?"s":","),typeof c!="function"&&(!(s%1)&&(c=gs(c)).precision==null&&(c.trim=!0),c=iu(c)),o===1/0)return c;const u=Math.max(1,s*o/t.ticks().length);return d=>{let m=d/i(Math.round(a(d)));return m*s<s-.5&&(m*=s),m<=u?c(d):""}},t.nice=()=>n(Pg(n(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function Sg(){const e=lu(di()).domain([1,10]);return e.copy=()=>Os(e,Sg()).base(e.base()),Vt.apply(e,arguments),e}function Wh(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Kh(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ou(e){var t=1,n=e(Wh(t),Kh(t));return n.constant=function(s){return arguments.length?e(Wh(t=+s),Kh(t)):t},zr(n)}function Ag(){var e=ou(di());return e.copy=function(){return Os(e,Ag()).constant(e.constant())},Vt.apply(e,arguments)}function Hh(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function gP(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function vP(e){return e<0?-e*e:e*e}function cu(e){var t=e(at,at),n=1;function s(){return n===1?e(at,at):n===.5?e(gP,vP):e(Hh(n),Hh(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,s()):n},zr(t)}function uu(){var e=cu(di());return e.copy=function(){return Os(e,uu()).exponent(e.exponent())},Vt.apply(e,arguments),e}function yP(){return uu.apply(null,arguments).exponent(.5)}function Yh(e){return Math.sign(e)*e*e}function bP(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Cg(){var e=su(),t=[0,1],n=!1,s;function a(i){var l=bP(e(i));return isNaN(l)?s:n?Math.round(l):l}return a.invert=function(i){return e.invert(Yh(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Da)).map(Yh)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return Cg(e.domain(),t).round(n).clamp(e.clamp()).unknown(s)},Vt.apply(a,arguments),zr(a)}function Og(){var e=[],t=[],n=[],s;function a(){var l=0,o=Math.max(1,t.length);for(n=new Array(o-1);++l<o;)n[l-1]=P2(e,l/o);return i}function i(l){return l==null||isNaN(l=+l)?s:t[As(n,l)]}return i.invertExtent=function(l){var o=t.indexOf(l);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let o of l)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort($r),a()},i.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},i.unknown=function(l){return arguments.length?(s=l,i):s},i.quantiles=function(){return n.slice()},i.copy=function(){return Og().domain(e).range(t).unknown(s)},Vt.apply(i,arguments)}function Eg(){var e=0,t=1,n=1,s=[.5],a=[0,1],i;function l(c){return c!=null&&c<=c?a[As(s,c,0,n)]:i}function o(){var c=-1;for(s=new Array(n);++c<n;)s[c]=((c+1)*t-(c-n)*e)/(n+1);return l}return l.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},l.range=function(c){return arguments.length?(n=(a=Array.from(c)).length-1,o()):a.slice()},l.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,s[0]]:u>=n?[s[n-1],t]:[s[u-1],s[u]]},l.unknown=function(c){return arguments.length&&(i=c),l},l.thresholds=function(){return s.slice()},l.copy=function(){return Eg().domain([e,t]).range(a).unknown(i)},Vt.apply(zr(l),arguments)}function kg(){var e=[.5],t=[0,1],n,s=1;function a(i){return i!=null&&i<=i?t[As(e,i,0,s)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),s=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),s=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return kg().domain(e).range(t).unknown(n)},Vt.apply(a,arguments)}const Jl=new Date,Xl=new Date;function Me(e,t,n,s){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const l=a(i),o=a.ceil(i);return i-l<o-i?l:o},a.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),a.range=(i,l,o)=>{const c=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<l)||!(o>0))return c;let u;do c.push(u=new Date(+i)),t(i,o),e(i);while(u<i&&i<l);return c},a.filter=i=>Me(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;t(l,-1),!i(l););else for(;--o>=0;)for(;t(l,1),!i(l););}),n&&(a.count=(i,l)=>(Jl.setTime(+i),Xl.setTime(+l),e(Jl),e(Xl),Math.floor(n(Jl,Xl))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(s?l=>s(l)%i===0:l=>a.count(0,l)%i===0):a)),a}const Ia=Me(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ia.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Me(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Ia);Ia.range;const dr=1e3,It=dr*60,mr=It*60,yr=mr*24,du=yr*7,Gh=yr*30,Ql=yr*365,Qr=Me(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*dr)},(e,t)=>(t-e)/dr,e=>e.getUTCSeconds());Qr.range;const mu=Me(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*dr)},(e,t)=>{e.setTime(+e+t*It)},(e,t)=>(t-e)/It,e=>e.getMinutes());mu.range;const hu=Me(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*It)},(e,t)=>(t-e)/It,e=>e.getUTCMinutes());hu.range;const fu=Me(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*dr-e.getMinutes()*It)},(e,t)=>{e.setTime(+e+t*mr)},(e,t)=>(t-e)/mr,e=>e.getHours());fu.range;const pu=Me(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*mr)},(e,t)=>(t-e)/mr,e=>e.getUTCHours());pu.range;const Es=Me(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*It)/yr,e=>e.getDate()-1);Es.range;const mi=Me(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/yr,e=>e.getUTCDate()-1);mi.range;const Tg=Me(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/yr,e=>Math.floor(e/yr));Tg.range;function xn(e){return Me(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*It)/du)}const hi=xn(0),Ra=xn(1),jP=xn(2),NP=xn(3),En=xn(4),wP=xn(5),PP=xn(6);hi.range;Ra.range;jP.range;NP.range;En.range;wP.range;PP.range;function gn(e){return Me(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/du)}const fi=gn(0),_a=gn(1),SP=gn(2),AP=gn(3),kn=gn(4),CP=gn(5),OP=gn(6);fi.range;_a.range;SP.range;AP.range;kn.range;CP.range;OP.range;const xu=Me(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());xu.range;const gu=Me(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());gu.range;const br=Me(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());br.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Me(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});br.range;const jr=Me(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());jr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Me(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});jr.range;function Dg(e,t,n,s,a,i){const l=[[Qr,1,dr],[Qr,5,5*dr],[Qr,15,15*dr],[Qr,30,30*dr],[i,1,It],[i,5,5*It],[i,15,15*It],[i,30,30*It],[a,1,mr],[a,3,3*mr],[a,6,6*mr],[a,12,12*mr],[s,1,yr],[s,2,2*yr],[n,1,du],[t,1,Gh],[t,3,3*Gh],[e,1,Ql]];function o(u,d,m){const h=d<u;h&&([u,d]=[d,u]);const f=m&&typeof m.range=="function"?m:c(u,d,m),x=f?f.range(u,+d+1):[];return h?x.reverse():x}function c(u,d,m){const h=Math.abs(d-u)/m,f=Qc(([,,g])=>g).right(l,h);if(f===l.length)return e.every(Qo(u/Ql,d/Ql,m));if(f===0)return Ia.every(Math.max(Qo(u,d,m),1));const[x,p]=l[h/l[f-1][2]<l[f][2]/h?f-1:f];return x.every(p)}return[o,c]}const[EP,kP]=Dg(jr,gu,fi,Tg,pu,hu),[TP,DP]=Dg(br,xu,hi,Es,fu,mu);function Zl(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function eo(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Kn(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function MP(e){var t=e.dateTime,n=e.date,s=e.time,a=e.periods,i=e.days,l=e.shortDays,o=e.months,c=e.shortMonths,u=Hn(a),d=Yn(a),m=Hn(i),h=Yn(i),f=Hn(l),x=Yn(l),p=Hn(o),g=Yn(o),y=Hn(c),b=Yn(c),j={a:X,A:J,b:ie,B:Ge,c:null,d:tf,e:tf,f:rS,g:mS,G:fS,H:ZP,I:eS,j:tS,L:Mg,m:nS,M:sS,p:qe,q:Q,Q:sf,s:af,S:aS,u:iS,U:lS,V:oS,w:cS,W:uS,x:null,X:null,y:dS,Y:hS,Z:pS,"%":nf},N={a:Er,A:B,b:I,B:ne,c:null,d:rf,e:rf,f:yS,g:ES,G:TS,H:xS,I:gS,j:vS,L:Rg,m:bS,M:jS,p:_e,q:Ti,Q:sf,s:af,S:NS,u:wS,U:PS,V:SS,w:AS,W:CS,x:null,X:null,y:OS,Y:kS,Z:DS,"%":nf},w={a:H,A:z,b:q,B:G,c:V,d:Zh,e:Zh,f:GP,g:Qh,G:Xh,H:ef,I:ef,j:WP,L:YP,m:UP,M:KP,p:F,q:VP,Q:XP,s:QP,S:HP,u:LP,U:$P,V:zP,w:FP,W:BP,x:P,X:L,y:Qh,Y:Xh,Z:qP,"%":JP};j.x=S(n,j),j.X=S(s,j),j.c=S(t,j),N.x=S(n,N),N.X=S(s,N),N.c=S(t,N);function S(K,se){return function(oe){var $=[],lt=-1,pe=0,xt=K.length,gt,Wr,hd;for(oe instanceof Date||(oe=new Date(+oe));++lt<xt;)K.charCodeAt(lt)===37&&($.push(K.slice(pe,lt)),(Wr=Jh[gt=K.charAt(++lt)])!=null?gt=K.charAt(++lt):Wr=gt==="e"?" ":"0",(hd=se[gt])&&(gt=hd(oe,Wr)),$.push(gt),pe=lt+1);return $.push(K.slice(pe,lt)),$.join("")}}function O(K,se){return function(oe){var $=Kn(1900,void 0,1),lt=k($,K,oe+="",0),pe,xt;if(lt!=oe.length)return null;if("Q"in $)return new Date($.Q);if("s"in $)return new Date($.s*1e3+("L"in $?$.L:0));if(se&&!("Z"in $)&&($.Z=0),"p"in $&&($.H=$.H%12+$.p*12),$.m===void 0&&($.m="q"in $?$.q:0),"V"in $){if($.V<1||$.V>53)return null;"w"in $||($.w=1),"Z"in $?(pe=eo(Kn($.y,0,1)),xt=pe.getUTCDay(),pe=xt>4||xt===0?_a.ceil(pe):_a(pe),pe=mi.offset(pe,($.V-1)*7),$.y=pe.getUTCFullYear(),$.m=pe.getUTCMonth(),$.d=pe.getUTCDate()+($.w+6)%7):(pe=Zl(Kn($.y,0,1)),xt=pe.getDay(),pe=xt>4||xt===0?Ra.ceil(pe):Ra(pe),pe=Es.offset(pe,($.V-1)*7),$.y=pe.getFullYear(),$.m=pe.getMonth(),$.d=pe.getDate()+($.w+6)%7)}else("W"in $||"U"in $)&&("w"in $||($.w="u"in $?$.u%7:"W"in $?1:0),xt="Z"in $?eo(Kn($.y,0,1)).getUTCDay():Zl(Kn($.y,0,1)).getDay(),$.m=0,$.d="W"in $?($.w+6)%7+$.W*7-(xt+5)%7:$.w+$.U*7-(xt+6)%7);return"Z"in $?($.H+=$.Z/100|0,$.M+=$.Z%100,eo($)):Zl($)}}function k(K,se,oe,$){for(var lt=0,pe=se.length,xt=oe.length,gt,Wr;lt<pe;){if($>=xt)return-1;if(gt=se.charCodeAt(lt++),gt===37){if(gt=se.charAt(lt++),Wr=w[gt in Jh?se.charAt(lt++):gt],!Wr||($=Wr(K,oe,$))<0)return-1}else if(gt!=oe.charCodeAt($++))return-1}return $}function F(K,se,oe){var $=u.exec(se.slice(oe));return $?(K.p=d.get($[0].toLowerCase()),oe+$[0].length):-1}function H(K,se,oe){var $=f.exec(se.slice(oe));return $?(K.w=x.get($[0].toLowerCase()),oe+$[0].length):-1}function z(K,se,oe){var $=m.exec(se.slice(oe));return $?(K.w=h.get($[0].toLowerCase()),oe+$[0].length):-1}function q(K,se,oe){var $=y.exec(se.slice(oe));return $?(K.m=b.get($[0].toLowerCase()),oe+$[0].length):-1}function G(K,se,oe){var $=p.exec(se.slice(oe));return $?(K.m=g.get($[0].toLowerCase()),oe+$[0].length):-1}function V(K,se,oe){return k(K,t,se,oe)}function P(K,se,oe){return k(K,n,se,oe)}function L(K,se,oe){return k(K,s,se,oe)}function X(K){return l[K.getDay()]}function J(K){return i[K.getDay()]}function ie(K){return c[K.getMonth()]}function Ge(K){return o[K.getMonth()]}function qe(K){return a[+(K.getHours()>=12)]}function Q(K){return 1+~~(K.getMonth()/3)}function Er(K){return l[K.getUTCDay()]}function B(K){return i[K.getUTCDay()]}function I(K){return c[K.getUTCMonth()]}function ne(K){return o[K.getUTCMonth()]}function _e(K){return a[+(K.getUTCHours()>=12)]}function Ti(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var se=S(K+="",j);return se.toString=function(){return K},se},parse:function(K){var se=O(K+="",!1);return se.toString=function(){return K},se},utcFormat:function(K){var se=S(K+="",N);return se.toString=function(){return K},se},utcParse:function(K){var se=O(K+="",!0);return se.toString=function(){return K},se}}}var Jh={"-":"",_:" ",0:"0"},Be=/^\s*\d+/,IP=/^%/,RP=/[\\^$*+?|[\]().{}]/g;function ce(e,t,n){var s=e<0?"-":"",a=(s?-e:e)+"",i=a.length;return s+(i<n?new Array(n-i+1).join(t)+a:a)}function _P(e){return e.replace(RP,"\\$&")}function Hn(e){return new RegExp("^(?:"+e.map(_P).join("|")+")","i")}function Yn(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function FP(e,t,n){var s=Be.exec(t.slice(n,n+1));return s?(e.w=+s[0],n+s[0].length):-1}function LP(e,t,n){var s=Be.exec(t.slice(n,n+1));return s?(e.u=+s[0],n+s[0].length):-1}function $P(e,t,n){var s=Be.exec(t.slice(n,n+2));return s?(e.U=+s[0],n+s[0].length):-1}function zP(e,t,n){var s=Be.exec(t.slice(n,n+2));return s?(e.V=+s[0],n+s[0].length):-1}function BP(e,t,n){var s=Be.exec(t.slice(n,n+2));return s?(e.W=+s[0],n+s[0].length):-1}function Xh(e,t,n){var s=Be.exec(t.slice(n,n+4));return s?(e.y=+s[0],n+s[0].length):-1}function Qh(e,t,n){var s=Be.exec(t.slice(n,n+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),n+s[0].length):-1}function qP(e,t,n){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),n+s[0].length):-1}function VP(e,t,n){var s=Be.exec(t.slice(n,n+1));return s?(e.q=s[0]*3-3,n+s[0].length):-1}function UP(e,t,n){var s=Be.exec(t.slice(n,n+2));return s?(e.m=s[0]-1,n+s[0].length):-1}function Zh(e,t,n){var s=Be.exec(t.slice(n,n+2));return s?(e.d=+s[0],n+s[0].length):-1}function WP(e,t,n){var s=Be.exec(t.slice(n,n+3));return s?(e.m=0,e.d=+s[0],n+s[0].length):-1}function ef(e,t,n){var s=Be.exec(t.slice(n,n+2));return s?(e.H=+s[0],n+s[0].length):-1}function KP(e,t,n){var s=Be.exec(t.slice(n,n+2));return s?(e.M=+s[0],n+s[0].length):-1}function HP(e,t,n){var s=Be.exec(t.slice(n,n+2));return s?(e.S=+s[0],n+s[0].length):-1}function YP(e,t,n){var s=Be.exec(t.slice(n,n+3));return s?(e.L=+s[0],n+s[0].length):-1}function GP(e,t,n){var s=Be.exec(t.slice(n,n+6));return s?(e.L=Math.floor(s[0]/1e3),n+s[0].length):-1}function JP(e,t,n){var s=IP.exec(t.slice(n,n+1));return s?n+s[0].length:-1}function XP(e,t,n){var s=Be.exec(t.slice(n));return s?(e.Q=+s[0],n+s[0].length):-1}function QP(e,t,n){var s=Be.exec(t.slice(n));return s?(e.s=+s[0],n+s[0].length):-1}function tf(e,t){return ce(e.getDate(),t,2)}function ZP(e,t){return ce(e.getHours(),t,2)}function eS(e,t){return ce(e.getHours()%12||12,t,2)}function tS(e,t){return ce(1+Es.count(br(e),e),t,3)}function Mg(e,t){return ce(e.getMilliseconds(),t,3)}function rS(e,t){return Mg(e,t)+"000"}function nS(e,t){return ce(e.getMonth()+1,t,2)}function sS(e,t){return ce(e.getMinutes(),t,2)}function aS(e,t){return ce(e.getSeconds(),t,2)}function iS(e){var t=e.getDay();return t===0?7:t}function lS(e,t){return ce(hi.count(br(e)-1,e),t,2)}function Ig(e){var t=e.getDay();return t>=4||t===0?En(e):En.ceil(e)}function oS(e,t){return e=Ig(e),ce(En.count(br(e),e)+(br(e).getDay()===4),t,2)}function cS(e){return e.getDay()}function uS(e,t){return ce(Ra.count(br(e)-1,e),t,2)}function dS(e,t){return ce(e.getFullYear()%100,t,2)}function mS(e,t){return e=Ig(e),ce(e.getFullYear()%100,t,2)}function hS(e,t){return ce(e.getFullYear()%1e4,t,4)}function fS(e,t){var n=e.getDay();return e=n>=4||n===0?En(e):En.ceil(e),ce(e.getFullYear()%1e4,t,4)}function pS(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ce(t/60|0,"0",2)+ce(t%60,"0",2)}function rf(e,t){return ce(e.getUTCDate(),t,2)}function xS(e,t){return ce(e.getUTCHours(),t,2)}function gS(e,t){return ce(e.getUTCHours()%12||12,t,2)}function vS(e,t){return ce(1+mi.count(jr(e),e),t,3)}function Rg(e,t){return ce(e.getUTCMilliseconds(),t,3)}function yS(e,t){return Rg(e,t)+"000"}function bS(e,t){return ce(e.getUTCMonth()+1,t,2)}function jS(e,t){return ce(e.getUTCMinutes(),t,2)}function NS(e,t){return ce(e.getUTCSeconds(),t,2)}function wS(e){var t=e.getUTCDay();return t===0?7:t}function PS(e,t){return ce(fi.count(jr(e)-1,e),t,2)}function _g(e){var t=e.getUTCDay();return t>=4||t===0?kn(e):kn.ceil(e)}function SS(e,t){return e=_g(e),ce(kn.count(jr(e),e)+(jr(e).getUTCDay()===4),t,2)}function AS(e){return e.getUTCDay()}function CS(e,t){return ce(_a.count(jr(e)-1,e),t,2)}function OS(e,t){return ce(e.getUTCFullYear()%100,t,2)}function ES(e,t){return e=_g(e),ce(e.getUTCFullYear()%100,t,2)}function kS(e,t){return ce(e.getUTCFullYear()%1e4,t,4)}function TS(e,t){var n=e.getUTCDay();return e=n>=4||n===0?kn(e):kn.ceil(e),ce(e.getUTCFullYear()%1e4,t,4)}function DS(){return"+0000"}function nf(){return"%"}function sf(e){return+e}function af(e){return Math.floor(+e/1e3)}var yn,Fg,Lg;MS({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function MS(e){return yn=MP(e),Fg=yn.format,yn.parse,Lg=yn.utcFormat,yn.utcParse,yn}function IS(e){return new Date(e)}function RS(e){return e instanceof Date?+e:+new Date(+e)}function vu(e,t,n,s,a,i,l,o,c,u){var d=su(),m=d.invert,h=d.domain,f=u(".%L"),x=u(":%S"),p=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),b=u("%b %d"),j=u("%B"),N=u("%Y");function w(S){return(c(S)<S?f:o(S)<S?x:l(S)<S?p:i(S)<S?g:s(S)<S?a(S)<S?y:b:n(S)<S?j:N)(S)}return d.invert=function(S){return new Date(m(S))},d.domain=function(S){return arguments.length?h(Array.from(S,RS)):h().map(IS)},d.ticks=function(S){var O=h();return e(O[0],O[O.length-1],S??10)},d.tickFormat=function(S,O){return O==null?w:u(O)},d.nice=function(S){var O=h();return(!S||typeof S.range!="function")&&(S=t(O[0],O[O.length-1],S??10)),S?h(Pg(O,S)):d},d.copy=function(){return Os(d,vu(e,t,n,s,a,i,l,o,c,u))},d}function _S(){return Vt.apply(vu(TP,DP,br,xu,hi,Es,fu,mu,Qr,Fg).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function FS(){return Vt.apply(vu(EP,kP,jr,gu,fi,mi,pu,hu,Qr,Lg).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function pi(){var e=0,t=1,n,s,a,i,l=at,o=!1,c;function u(m){return m==null||isNaN(m=+m)?c:l(a===0?.5:(m=(i(m)-n)*a,o?Math.max(0,Math.min(1,m)):m))}u.domain=function(m){return arguments.length?([e,t]=m,n=i(e=+e),s=i(t=+t),a=n===s?0:1/(s-n),u):[e,t]},u.clamp=function(m){return arguments.length?(o=!!m,u):o},u.interpolator=function(m){return arguments.length?(l=m,u):l};function d(m){return function(h){var f,x;return arguments.length?([f,x]=h,l=m(f,x),u):[l(0),l(1)]}}return u.range=d(In),u.rangeRound=d(nu),u.unknown=function(m){return arguments.length?(c=m,u):c},function(m){return i=m,n=m(e),s=m(t),a=n===s?0:1/(s-n),u}}function Br(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $g(){var e=zr(pi()(at));return e.copy=function(){return Br(e,$g())},Ar.apply(e,arguments)}function zg(){var e=lu(pi()).domain([1,10]);return e.copy=function(){return Br(e,zg()).base(e.base())},Ar.apply(e,arguments)}function Bg(){var e=ou(pi());return e.copy=function(){return Br(e,Bg()).constant(e.constant())},Ar.apply(e,arguments)}function yu(){var e=cu(pi());return e.copy=function(){return Br(e,yu()).exponent(e.exponent())},Ar.apply(e,arguments)}function LS(){return yu.apply(null,arguments).exponent(.5)}function qg(){var e=[],t=at;function n(s){if(s!=null&&!isNaN(s=+s))return t((As(e,s,1)-1)/(e.length-1))}return n.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort($r),n},n.interpolator=function(s){return arguments.length?(t=s,n):t},n.range=function(){return e.map((s,a)=>t(a/(e.length-1)))},n.quantiles=function(s){return Array.from({length:s+1},(a,i)=>w2(e,i/s))},n.copy=function(){return qg(t).domain(e)},Ar.apply(n,arguments)}function xi(){var e=0,t=.5,n=1,s=1,a,i,l,o,c,u=at,d,m=!1,h;function f(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-i)*(s*p<s*i?o:c),u(m?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t,n]=p,a=d(e=+e),i=d(t=+t),l=d(n=+n),o=a===i?0:.5/(i-a),c=i===l?0:.5/(l-i),s=i<a?-1:1,f):[e,t,n]},f.clamp=function(p){return arguments.length?(m=!!p,f):m},f.interpolator=function(p){return arguments.length?(u=p,f):u};function x(p){return function(g){var y,b,j;return arguments.length?([y,b,j]=g,u=J2(p,[y,b,j]),f):[u(0),u(.5),u(1)]}}return f.range=x(In),f.rangeRound=x(nu),f.unknown=function(p){return arguments.length?(h=p,f):h},function(p){return d=p,a=p(e),i=p(t),l=p(n),o=a===i?0:.5/(i-a),c=i===l?0:.5/(l-i),s=i<a?-1:1,f}}function Vg(){var e=zr(xi()(at));return e.copy=function(){return Br(e,Vg())},Ar.apply(e,arguments)}function Ug(){var e=lu(xi()).domain([.1,1,10]);return e.copy=function(){return Br(e,Ug()).base(e.base())},Ar.apply(e,arguments)}function Wg(){var e=ou(xi());return e.copy=function(){return Br(e,Wg()).constant(e.constant())},Ar.apply(e,arguments)}function bu(){var e=cu(xi());return e.copy=function(){return Br(e,bu()).exponent(e.exponent())},Ar.apply(e,arguments)}function $S(){return bu.apply(null,arguments).exponent(.5)}const Xn=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:eu,scaleDiverging:Vg,scaleDivergingLog:Ug,scaleDivergingPow:bu,scaleDivergingSqrt:$S,scaleDivergingSymlog:Wg,scaleIdentity:wg,scaleImplicit:Zo,scaleLinear:Ng,scaleLog:Sg,scaleOrdinal:Zc,scalePoint:A2,scalePow:uu,scaleQuantile:Og,scaleQuantize:Eg,scaleRadial:Cg,scaleSequential:$g,scaleSequentialLog:zg,scaleSequentialPow:yu,scaleSequentialQuantile:qg,scaleSequentialSqrt:LS,scaleSequentialSymlog:Bg,scaleSqrt:yP,scaleSymlog:Ag,scaleThreshold:kg,scaleTime:_S,scaleUtc:FS,tickFormat:jg},Symbol.toStringTag,{value:"Module"}));var qr=e=>e.chartData,zS=D([qr],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),ks=(e,t,n,s)=>s?zS(e):qr(e);function Tn(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Ye(t)&&Ye(n))return!0}return!1}function lf(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function BS(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,s]=e,a,i;if(Ye(n))a=n;else if(typeof n=="function")return;if(Ye(s))i=s;else if(typeof s=="function")return;var l=[a,i];if(Tn(l))return l}}function qS(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var s=e(t,n);if(Tn(s))return lf(s,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,l,o;if(a==="auto")t!=null&&(l=Math.min(...t));else if(U(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[0]))}catch{}else if(typeof a=="string"&&Gm.test(a)){var c=Gm.exec(a);if(c==null||t==null)l=void 0;else{var u=+c[1];l=t[0]-u}}else l=t?.[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(U(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[1]))}catch{}else if(typeof i=="string"&&Jm.test(i)){var d=Jm.exec(i);if(d==null||t==null)o=void 0;else{var m=+d[1];o=t[1]+m}}else o=t?.[1];var h=[l,o];if(Tn(h))return t==null?h:lf(h,t,n)}}}var Rn=1e9,VS={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Nu,Pe=!0,Bt="[DecimalError] ",an=Bt+"Invalid argument: ",ju=Bt+"Exponent out of range: ",_n=Math.floor,Yr=Math.pow,US=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Nt,Fe=1e7,ve=7,Kg=9007199254740991,Fa=_n(Kg/ve),W={};W.absoluteValue=W.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};W.comparedTo=W.cmp=function(e){var t,n,s,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(s=i.d.length,a=e.d.length,t=0,n=s<a?s:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return s===a?0:s>a^i.s<0?1:-1};W.decimalPlaces=W.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*ve;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};W.dividedBy=W.div=function(e){return fr(this,new this.constructor(e))};W.dividedToIntegerBy=W.idiv=function(e){var t=this,n=t.constructor;return fe(fr(t,new n(e),0,1),n.precision)};W.equals=W.eq=function(e){return!this.cmp(e)};W.exponent=function(){return Ee(this)};W.greaterThan=W.gt=function(e){return this.cmp(e)>0};W.greaterThanOrEqualTo=W.gte=function(e){return this.cmp(e)>=0};W.isInteger=W.isint=function(){return this.e>this.d.length-2};W.isNegative=W.isneg=function(){return this.s<0};W.isPositive=W.ispos=function(){return this.s>0};W.isZero=function(){return this.s===0};W.lessThan=W.lt=function(e){return this.cmp(e)<0};W.lessThanOrEqualTo=W.lte=function(e){return this.cmp(e)<1};W.logarithm=W.log=function(e){var t,n=this,s=n.constructor,a=s.precision,i=a+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(Nt))throw Error(Bt+"NaN");if(n.s<1)throw Error(Bt+(n.s?"NaN":"-Infinity"));return n.eq(Nt)?new s(0):(Pe=!1,t=fr(vs(n,i),vs(e,i),i),Pe=!0,fe(t,a))};W.minus=W.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Gg(t,e):Hg(t,(e.s=-e.s,e))};W.modulo=W.mod=function(e){var t,n=this,s=n.constructor,a=s.precision;if(e=new s(e),!e.s)throw Error(Bt+"NaN");return n.s?(Pe=!1,t=fr(n,e,0,1).times(e),Pe=!0,n.minus(t)):fe(new s(n),a)};W.naturalExponential=W.exp=function(){return Yg(this)};W.naturalLogarithm=W.ln=function(){return vs(this)};W.negated=W.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};W.plus=W.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Hg(t,e):Gg(t,(e.s=-e.s,e))};W.precision=W.sd=function(e){var t,n,s,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(an+e);if(t=Ee(a)+1,s=a.d.length-1,n=s*ve+1,s=a.d[s],s){for(;s%10==0;s/=10)n--;for(s=a.d[0];s>=10;s/=10)n++}return e&&t>n?t:n};W.squareRoot=W.sqrt=function(){var e,t,n,s,a,i,l,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(Bt+"NaN")}for(e=Ee(o),Pe=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=er(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=_n((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),s=new c(t)):s=new c(a.toString()),n=c.precision,a=l=n+3;;)if(i=s,s=i.plus(fr(o,i,l+2)).times(.5),er(i.d).slice(0,l)===(t=er(s.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(fe(i,n+1,0),i.times(i).eq(o)){s=i;break}}else if(t!="9999")break;l+=4}return Pe=!0,fe(s,n)};W.times=W.mul=function(e){var t,n,s,a,i,l,o,c,u,d=this,m=d.constructor,h=d.d,f=(e=new m(e)).d;if(!d.s||!e.s)return new m(0);for(e.s*=d.s,n=d.e+e.e,c=h.length,u=f.length,c<u&&(i=h,h=f,f=i,l=c,c=u,u=l),i=[],l=c+u,s=l;s--;)i.push(0);for(s=u;--s>=0;){for(t=0,a=c+s;a>s;)o=i[a]+f[s]*h[a-s-1]+t,i[a--]=o%Fe|0,t=o/Fe|0;i[a]=(i[a]+t)%Fe|0}for(;!i[--l];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,Pe?fe(e,m.precision):e};W.toDecimalPlaces=W.todp=function(e,t){var n=this,s=n.constructor;return n=new s(n),e===void 0?n:(nr(e,0,Rn),t===void 0?t=s.rounding:nr(t,0,8),fe(n,e+Ee(n)+1,t))};W.toExponential=function(e,t){var n,s=this,a=s.constructor;return e===void 0?n=mn(s,!0):(nr(e,0,Rn),t===void 0?t=a.rounding:nr(t,0,8),s=fe(new a(s),e+1,t),n=mn(s,!0,e+1)),n};W.toFixed=function(e,t){var n,s,a=this,i=a.constructor;return e===void 0?mn(a):(nr(e,0,Rn),t===void 0?t=i.rounding:nr(t,0,8),s=fe(new i(a),e+Ee(a)+1,t),n=mn(s.abs(),!1,e+Ee(s)+1),a.isneg()&&!a.isZero()?"-"+n:n)};W.toInteger=W.toint=function(){var e=this,t=e.constructor;return fe(new t(e),Ee(e)+1,t.rounding)};W.toNumber=function(){return+this};W.toPower=W.pow=function(e){var t,n,s,a,i,l,o=this,c=o.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Nt);if(o=new c(o),!o.s){if(e.s<1)throw Error(Bt+"Infinity");return o}if(o.eq(Nt))return o;if(s=c.precision,e.eq(Nt))return fe(o,s);if(t=e.e,n=e.d.length-1,l=t>=n,i=o.s,l){if((n=d<0?-d:d)<=Kg){for(a=new c(Nt),t=Math.ceil(s/ve+4),Pe=!1;n%2&&(a=a.times(o),cf(a.d,t)),n=_n(n/2),n!==0;)o=o.times(o),cf(o.d,t);return Pe=!0,e.s<0?new c(Nt).div(a):fe(a,s)}}else if(i<0)throw Error(Bt+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,o.s=1,Pe=!1,a=e.times(vs(o,s+u)),Pe=!0,a=Yg(a),a.s=i,a};W.toPrecision=function(e,t){var n,s,a=this,i=a.constructor;return e===void 0?(n=Ee(a),s=mn(a,n<=i.toExpNeg||n>=i.toExpPos)):(nr(e,1,Rn),t===void 0?t=i.rounding:nr(t,0,8),a=fe(new i(a),e,t),n=Ee(a),s=mn(a,e<=n||n<=i.toExpNeg,e)),s};W.toSignificantDigits=W.tosd=function(e,t){var n=this,s=n.constructor;return e===void 0?(e=s.precision,t=s.rounding):(nr(e,1,Rn),t===void 0?t=s.rounding:nr(t,0,8)),fe(new s(n),e,t)};W.toString=W.valueOf=W.val=W.toJSON=W[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ee(e),n=e.constructor;return mn(e,t<=n.toExpNeg||t>=n.toExpPos)};function Hg(e,t){var n,s,a,i,l,o,c,u,d=e.constructor,m=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Pe?fe(t,m):t;if(c=e.d,u=t.d,l=e.e,a=t.e,c=c.slice(),i=l-a,i){for(i<0?(s=c,i=-i,o=u.length):(s=u,a=l,o=c.length),l=Math.ceil(m/ve),o=l>o?l+1:o+1,i>o&&(i=o,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(o=c.length,i=u.length,o-i<0&&(i=o,s=u,u=c,c=s),n=0;i;)n=(c[--i]=c[i]+u[i]+n)/Fe|0,c[i]%=Fe;for(n&&(c.unshift(n),++a),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=a,Pe?fe(t,m):t}function nr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(an+e)}function er(e){var t,n,s,a=e.length-1,i="",l=e[0];if(a>0){for(i+=l,t=1;t<a;t++)s=e[t]+"",n=ve-s.length,n&&(i+=Ir(n)),i+=s;l=e[t],s=l+"",n=ve-s.length,n&&(i+=Ir(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var fr=(function(){function e(s,a){var i,l=0,o=s.length;for(s=s.slice();o--;)i=s[o]*a+l,s[o]=i%Fe|0,l=i/Fe|0;return l&&s.unshift(l),s}function t(s,a,i,l){var o,c;if(i!=l)c=i>l?1:-1;else for(o=c=0;o<i;o++)if(s[o]!=a[o]){c=s[o]>a[o]?1:-1;break}return c}function n(s,a,i){for(var l=0;i--;)s[i]-=l,l=s[i]<a[i]?1:0,s[i]=l*Fe+s[i]-a[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,a,i,l){var o,c,u,d,m,h,f,x,p,g,y,b,j,N,w,S,O,k,F=s.constructor,H=s.s==a.s?1:-1,z=s.d,q=a.d;if(!s.s)return new F(s);if(!a.s)throw Error(Bt+"Division by zero");for(c=s.e-a.e,O=q.length,w=z.length,f=new F(H),x=f.d=[],u=0;q[u]==(z[u]||0);)++u;if(q[u]>(z[u]||0)&&--c,i==null?b=i=F.precision:l?b=i+(Ee(s)-Ee(a))+1:b=i,b<0)return new F(0);if(b=b/ve+2|0,u=0,O==1)for(d=0,q=q[0],b++;(u<w||d)&&b--;u++)j=d*Fe+(z[u]||0),x[u]=j/q|0,d=j%q|0;else{for(d=Fe/(q[0]+1)|0,d>1&&(q=e(q,d),z=e(z,d),O=q.length,w=z.length),N=O,p=z.slice(0,O),g=p.length;g<O;)p[g++]=0;k=q.slice(),k.unshift(0),S=q[0],q[1]>=Fe/2&&++S;do d=0,o=t(q,p,O,g),o<0?(y=p[0],O!=g&&(y=y*Fe+(p[1]||0)),d=y/S|0,d>1?(d>=Fe&&(d=Fe-1),m=e(q,d),h=m.length,g=p.length,o=t(m,p,h,g),o==1&&(d--,n(m,O<h?k:q,h))):(d==0&&(o=d=1),m=q.slice()),h=m.length,h<g&&m.unshift(0),n(p,m,g),o==-1&&(g=p.length,o=t(q,p,O,g),o<1&&(d++,n(p,O<g?k:q,g))),g=p.length):o===0&&(d++,p=[0]),x[u++]=d,o&&p[0]?p[g++]=z[N]||0:(p=[z[N]],g=1);while((N++<w||p[0]!==void 0)&&b--)}return x[0]||x.shift(),f.e=c,fe(f,l?i+Ee(f)+1:i)}})();function Yg(e,t){var n,s,a,i,l,o,c=0,u=0,d=e.constructor,m=d.precision;if(Ee(e)>16)throw Error(ju+Ee(e));if(!e.s)return new d(Nt);for(Pe=!1,o=m,l=new d(.03125);e.abs().gte(.1);)e=e.times(l),u+=5;for(s=Math.log(Yr(2,u))/Math.LN10*2+5|0,o+=s,n=a=i=new d(Nt),d.precision=o;;){if(a=fe(a.times(e),o),n=n.times(++c),l=i.plus(fr(a,n,o)),er(l.d).slice(0,o)===er(i.d).slice(0,o)){for(;u--;)i=fe(i.times(i),o);return d.precision=m,t==null?(Pe=!0,fe(i,m)):i}i=l}}function Ee(e){for(var t=e.e*ve,n=e.d[0];n>=10;n/=10)t++;return t}function to(e,t,n){if(t>e.LN10.sd())throw Pe=!0,n&&(e.precision=n),Error(Bt+"LN10 precision limit exceeded");return fe(new e(e.LN10),t)}function Ir(e){for(var t="";e--;)t+="0";return t}function vs(e,t){var n,s,a,i,l,o,c,u,d,m=1,h=10,f=e,x=f.d,p=f.constructor,g=p.precision;if(f.s<1)throw Error(Bt+(f.s?"NaN":"-Infinity"));if(f.eq(Nt))return new p(0);if(t==null?(Pe=!1,u=g):u=t,f.eq(10))return t==null&&(Pe=!0),to(p,u);if(u+=h,p.precision=u,n=er(x),s=n.charAt(0),i=Ee(f),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&n.charAt(1)>3;)f=f.times(e),n=er(f.d),s=n.charAt(0),m++;i=Ee(f),s>1?(f=new p("0."+n),i++):f=new p(s+"."+n.slice(1))}else return c=to(p,u+2,g).times(i+""),f=vs(new p(s+"."+n.slice(1)),u-h).plus(c),p.precision=g,t==null?(Pe=!0,fe(f,g)):f;for(o=l=f=fr(f.minus(Nt),f.plus(Nt),u),d=fe(f.times(f),u),a=3;;){if(l=fe(l.times(d),u),c=o.plus(fr(l,new p(a),u)),er(c.d).slice(0,u)===er(o.d).slice(0,u))return o=o.times(2),i!==0&&(o=o.plus(to(p,u+2,g).times(i+""))),o=fr(o,new p(m),u),p.precision=g,t==null?(Pe=!0,fe(o,g)):o;o=c,a+=2}}function of(e,t){var n,s,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(n<0&&(n=s),n+=+t.slice(s+1),t=t.substring(0,s)):n<0&&(n=t.length),s=0;t.charCodeAt(s)===48;)++s;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(s,a),t){if(a-=s,n=n-s-1,e.e=_n(n/ve),e.d=[],s=(n+1)%ve,n<0&&(s+=ve),s<a){for(s&&e.d.push(+t.slice(0,s)),a-=ve;s<a;)e.d.push(+t.slice(s,s+=ve));t=t.slice(s),s=ve-t.length}else s-=a;for(;s--;)t+="0";if(e.d.push(+t),Pe&&(e.e>Fa||e.e<-Fa))throw Error(ju+n)}else e.s=0,e.e=0,e.d=[0];return e}function fe(e,t,n){var s,a,i,l,o,c,u,d,m=e.d;for(l=1,i=m[0];i>=10;i/=10)l++;if(s=t-l,s<0)s+=ve,a=t,u=m[d=0];else{if(d=Math.ceil((s+1)/ve),i=m.length,d>=i)return e;for(u=i=m[d],l=1;i>=10;i/=10)l++;s%=ve,a=s-ve+l}if(n!==void 0&&(i=Yr(10,l-a-1),o=u/i%10|0,c=t<0||m[d+1]!==void 0||u%i,c=n<4?(o||c)&&(n==0||n==(e.s<0?3:2)):o>5||o==5&&(n==4||c||n==6&&(s>0?a>0?u/Yr(10,l-a):0:m[d-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return c?(i=Ee(e),m.length=1,t=t-i-1,m[0]=Yr(10,(ve-t%ve)%ve),e.e=_n(-t/ve)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(s==0?(m.length=d,i=1,d--):(m.length=d+1,i=Yr(10,ve-s),m[d]=a>0?(u/Yr(10,l-a)%Yr(10,a)|0)*i:0),c)for(;;)if(d==0){(m[0]+=i)==Fe&&(m[0]=1,++e.e);break}else{if(m[d]+=i,m[d]!=Fe)break;m[d--]=0,i=1}for(s=m.length;m[--s]===0;)m.pop();if(Pe&&(e.e>Fa||e.e<-Fa))throw Error(ju+Ee(e));return e}function Gg(e,t){var n,s,a,i,l,o,c,u,d,m,h=e.constructor,f=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Pe?fe(t,f):t;if(c=e.d,m=t.d,s=t.e,u=e.e,c=c.slice(),l=u-s,l){for(d=l<0,d?(n=c,l=-l,o=m.length):(n=m,s=u,o=c.length),a=Math.max(Math.ceil(f/ve),o)+2,l>a&&(l=a,n.length=1),n.reverse(),a=l;a--;)n.push(0);n.reverse()}else{for(a=c.length,o=m.length,d=a<o,d&&(o=a),a=0;a<o;a++)if(c[a]!=m[a]){d=c[a]<m[a];break}l=0}for(d&&(n=c,c=m,m=n,t.s=-t.s),o=c.length,a=m.length-o;a>0;--a)c[o++]=0;for(a=m.length;a>l;){if(c[--a]<m[a]){for(i=a;i&&c[--i]===0;)c[i]=Fe-1;--c[i],c[a]+=Fe}c[a]-=m[a]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(t.d=c,t.e=s,Pe?fe(t,f):t):new h(0)}function mn(e,t,n){var s,a=Ee(e),i=er(e.d),l=i.length;return t?(n&&(s=n-l)>0?i=i.charAt(0)+"."+i.slice(1)+Ir(s):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Ir(-a-1)+i,n&&(s=n-l)>0&&(i+=Ir(s))):a>=l?(i+=Ir(a+1-l),n&&(s=n-a-1)>0&&(i=i+"."+Ir(s))):((s=a+1)<l&&(i=i.slice(0,s)+"."+i.slice(s)),n&&(s=n-l)>0&&(a+1===l&&(i+="."),i+=Ir(s))),e.s<0?"-"+i:i}function cf(e,t){if(e.length>t)return e.length=t,!0}function Jg(e){var t,n,s;function a(i){var l=this;if(!(l instanceof a))return new a(i);if(l.constructor=a,i instanceof a){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(an+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return of(l,i.toString())}else if(typeof i!="string")throw Error(an+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,US.test(i))of(l,i);else throw Error(an+i)}if(a.prototype=W,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Jg,a.config=a.set=WS,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<s.length;)e.hasOwnProperty(n=s[t++])||(e[n]=this[n]);return a.config(e),a}function WS(e){if(!e||typeof e!="object")throw Error(Bt+"Object expected");var t,n,s,a=["precision",1,Rn,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((s=e[n=a[t]])!==void 0)if(_n(s)===s&&s>=a[t+1]&&s<=a[t+2])this[n]=s;else throw Error(an+n+": "+s);if((s=e[n="LN10"])!==void 0)if(s==Math.LN10)this[n]=new this(s);else throw Error(an+n+": "+s);return this}var Nu=Jg(VS);Nt=new Nu(1);const me=Nu;var KS=e=>e,Xg={},Qg=e=>e===Xg,uf=e=>function t(){return arguments.length===0||arguments.length===1&&Qg(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Zg=(e,t)=>e===1?t:uf(function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];var i=s.filter(l=>l!==Xg).length;return i>=e?t(...s):Zg(e-i,uf(function(){for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];var u=s.map(d=>Qg(d)?o.shift():d);return t(...u,...o)}))}),gi=e=>Zg(e.length,e),nc=(e,t)=>{for(var n=[],s=e;s<t;++s)n[s-e]=s;return n},HS=gi((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),YS=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];if(!n.length)return KS;var a=n.reverse(),i=a[0],l=a.slice(1);return function(){return l.reduce((o,c)=>c(o),i(...arguments))}},sc=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),ev=e=>{var t=null,n=null;return function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return t&&a.every((l,o)=>{var c;return l===((c=t)===null||c===void 0?void 0:c[o])})||(t=a,n=e(...a)),n}};function tv(e){var t;return e===0?t=1:t=Math.floor(new me(e).abs().log(10).toNumber())+1,t}function rv(e,t,n){for(var s=new me(e),a=0,i=[];s.lt(t)&&a<1e5;)i.push(s.toNumber()),s=s.add(n),a++;return i}gi((e,t,n)=>{var s=+e,a=+t;return s+n*(a-s)});gi((e,t,n)=>{var s=t-+e;return s=s||1/0,(n-e)/s});gi((e,t,n)=>{var s=t-+e;return s=s||1/0,Math.max(0,Math.min(1,(n-e)/s))});var nv=e=>{var[t,n]=e,[s,a]=[t,n];return t>n&&([s,a]=[n,t]),[s,a]},sv=(e,t,n)=>{if(e.lte(0))return new me(0);var s=tv(e.toNumber()),a=new me(10).pow(s),i=e.div(a),l=s!==1?.05:.1,o=new me(Math.ceil(i.div(l).toNumber())).add(n).mul(l),c=o.mul(a);return t?new me(c.toNumber()):new me(Math.ceil(c.toNumber()))},GS=(e,t,n)=>{var s=new me(1),a=new me(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(s=new me(10).pow(tv(e)-1),a=new me(Math.floor(a.div(s).toNumber())).mul(s)):i>1&&(a=new me(Math.floor(e)))}else e===0?a=new me(Math.floor((t-1)/2)):n||(a=new me(Math.floor(e)));var l=Math.floor((t-1)/2),o=YS(HS(c=>a.add(new me(c-l).mul(s)).toNumber()),nc);return o(0,t)},av=function(t,n,s,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(s-1)))return{step:new me(0),tickMin:new me(0),tickMax:new me(0)};var l=sv(new me(n).sub(t).div(s-1),a,i),o;t<=0&&n>=0?o=new me(0):(o=new me(t).add(n).div(2),o=o.sub(new me(o).mod(l)));var c=Math.ceil(o.sub(t).div(l).toNumber()),u=Math.ceil(new me(n).sub(o).div(l).toNumber()),d=c+u+1;return d>s?av(t,n,s,a,i+1):(d<s&&(u=n>0?u+(s-d):u,c=n>0?c:c+(s-d)),{step:l,tickMin:o.sub(new me(c).mul(l)),tickMax:o.add(new me(u).mul(l))})};function JS(e){var[t,n]=e,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(s,2),[l,o]=nv([t,n]);if(l===-1/0||o===1/0){var c=o===1/0?[l,...nc(0,s-1).map(()=>1/0)]:[...nc(0,s-1).map(()=>-1/0),o];return t>n?sc(c):c}if(l===o)return GS(l,s,a);var{step:u,tickMin:d,tickMax:m}=av(l,o,i,a,0),h=rv(d,m.add(new me(.1).mul(u)),u);return t>n?sc(h):h}function XS(e,t){var[n,s]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=nv([n,s]);if(i===-1/0||l===1/0)return[n,s];if(i===l)return[i];var o=Math.max(t,2),c=sv(new me(l).sub(i).div(o-1),a,0),u=[...rv(new me(i),new me(l),c),l];return a===!1&&(u=u.map(d=>Math.round(d))),n>s?sc(u):u}var QS=ev(JS),ZS=ev(XS),iv=e=>e.rootProps.maxBarSize,eA=e=>e.rootProps.barGap,lv=e=>e.rootProps.barCategoryGap,tA=e=>e.rootProps.barSize,vi=e=>e.rootProps.stackOffset,wu=e=>e.options.chartName,Pu=e=>e.rootProps.syncId,ov=e=>e.rootProps.syncMethod,Su=e=>e.options.eventEmitter,cr={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},bt={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},yi=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},rA={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:cr.angleAxisId,includeHidden:!1,name:void 0,reversed:cr.reversed,scale:cr.scale,tick:cr.tick,tickCount:void 0,ticks:void 0,type:cr.type,unit:void 0},nA={allowDataOverflow:bt.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:bt.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:bt.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:bt.scale,tick:bt.tick,tickCount:bt.tickCount,ticks:void 0,type:bt.type,unit:void 0},sA={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:cr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cr.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cr.scale,tick:cr.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},aA={allowDataOverflow:bt.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:bt.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:bt.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:bt.scale,tick:bt.tick,tickCount:bt.tickCount,ticks:void 0,type:"category",unit:void 0},Au=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?sA:rA,Cu=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?aA:nA,bi=e=>e.polarOptions,Ou=D([Pr,Sr,ze],dw),cv=D([bi,Ou],(e,t)=>{if(e!=null)return Yt(e.innerRadius,t,0)}),uv=D([bi,Ou],(e,t)=>{if(e!=null)return Yt(e.outerRadius,t,t*.8)}),iA=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},dv=D([bi],iA);D([Au,dv],yi);var mv=D([Ou,cv,uv],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});D([Cu,mv],yi);var hv=D([le,bi,cv,uv,Pr,Sr],(e,t,n,s,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||s==null)){var{cx:l,cy:o,startAngle:c,endAngle:u}=t;return{cx:Yt(l,a,a/2),cy:Yt(o,i,i/2),innerRadius:n,outerRadius:s,startAngle:c,endAngle:u,clockWise:!1}}}),ke=(e,t)=>t,ji=(e,t,n)=>n;function Ni(e){return e?.id}var Ie=e=>{var t=le(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Fn=e=>e.tooltip.settings.axisId,Re=e=>{var t=Ie(e),n=Fn(e);return Ts(e,t,n)};function fv(e,t,n){var{chartData:s=[]}=t,a=n?.dataKey,i=new Map;return e.forEach(l=>{var o,c=(o=l.data)!==null&&o!==void 0?o:s;if(!(c==null||c.length===0)){var u=Ni(l);c.forEach((d,m)=>{var h=a==null?m:String(Oe(d,a,null)),f=Oe(d,l.dataKey,0),x;i.has(h)?x=i.get(h):x={},Object.assign(x,{[u]:f}),i.set(h,x)})}}),Array.from(i.values())}function wi(e){return e.stackId!=null&&e.dataKey!=null}function df(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function La(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?df(Object(n),!0).forEach(function(s){lA(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):df(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function lA(e,t,n){return(t=oA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oA(e){var t=cA(e,"string");return typeof t=="symbol"?t:t+""}function cA(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ac=[0,"auto"],vt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Cr=(e,t)=>{var n=e.cartesianAxis.xAxis[t];return n??vt},yt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ac,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:oi},Vr=(e,t)=>{var n=e.cartesianAxis.yAxis[t];return n??yt},uA={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Eu=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??uA},pt=(e,t,n)=>{switch(t){case"xAxis":return Cr(e,n);case"yAxis":return Vr(e,n);case"zAxis":return Eu(e,n);case"angleAxis":return Au(e,n);case"radiusAxis":return Cu(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},dA=(e,t,n)=>{switch(t){case"xAxis":return Cr(e,n);case"yAxis":return Vr(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Ts=(e,t,n)=>{switch(t){case"xAxis":return Cr(e,n);case"yAxis":return Vr(e,n);case"angleAxis":return Au(e,n);case"radiusAxis":return Cu(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},pv=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function xv(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Ds=e=>e.graphicalItems.cartesianItems,mA=D([ke,ji],xv),gv=(e,t,n)=>e.filter(n).filter(s=>t?.includeHidden===!0?!0:!s.hide),Ms=D([Ds,pt,mA],gv),vv=D([Ms],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(wi)),yv=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),bv=D([Ms],yv),jv=e=>e.map(t=>t.data).filter(Boolean).flat(1),hA=D([Ms],jv),Nv=(e,t)=>{var{chartData:n=[],dataStartIndex:s,dataEndIndex:a}=t;return e.length>0?e:n.slice(s,a+1)},ku=D([hA,ks],Nv),wv=(e,t,n)=>t?.dataKey!=null?e.map(s=>({value:Oe(s,t.dataKey)})):n.length>0?n.map(s=>s.dataKey).flatMap(s=>e.map(a=>({value:Oe(a,s)}))):e.map(s=>({value:s})),Pi=D([ku,pt,Ms],wv);function Pv(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function vn(e){return e.filter(t=>rr(t)||t instanceof Date).map(Number).filter(t=>ft(t)===!1)}function fA(e,t,n){return!n||typeof t!="number"||ft(t)?[]:n.length?vn(n.flatMap(s=>{var a=Oe(e,s.dataKey),i,l;if(Array.isArray(a)?[i,l]=a:i=l=a,!(!Ye(i)||!Ye(l)))return[t-i,t+l]})):[]}var pA=D([vv,ks,Re],fv),Sv=(e,t,n)=>{var s={},a=t.reduce((i,l)=>(l.stackId==null||(i[l.stackId]==null&&(i[l.stackId]=[]),i[l.stackId].push(l)),i),s);return Object.fromEntries(Object.entries(a).map(i=>{var[l,o]=i,c=o.map(Ni);return[l,{stackedData:Cw(e,c,n),graphicalItems:o}]}))},ys=D([pA,vv,vi],Sv),Av=(e,t,n)=>{var{dataStartIndex:s,dataEndIndex:a}=t;if(n!=="zAxis"){var i=Tw(e,s,a);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},xA=D([ys,qr,ke],Av),Cv=(e,t,n,s,a)=>n.length>0?e.flatMap(i=>n.flatMap(l=>{var o,c,u=(o=s[l.id])===null||o===void 0?void 0:o.filter(m=>Pv(a,m)),d=Oe(i,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey);return{value:d,errorDomain:fA(i,d,u)}})).filter(Boolean):t?.dataKey!=null?e.map(i=>({value:Oe(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),Si=e=>e.errorBars,Ov=(e,t,n)=>e.flatMap(s=>t[s.id]).filter(Boolean).filter(s=>Pv(n,s));D([bv,Si,ke],Ov);var gA=D([ku,pt,bv,Si,ke],Cv);function vA(e){var{value:t}=e;if(rr(t)||t instanceof Date)return t}var mf=e=>{var t=e.flatMap(s=>[s.value,s.errorDomain]).flat(1),n=vn(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},yA=(e,t,n)=>{var s=e.map(vA).filter(a=>a!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&Bp(s))?dg(0,e.length):t.allowDuplicatedCategory?s:Array.from(new Set(s))},Tu=e=>{var t;if(e==null||!("domain"in e))return ac;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=vn(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:ac},$a=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var a=n.filter(Boolean);if(a.length!==0){var i=a.flat(),l=Math.min(...i),o=Math.max(...i);return[l,o]}},Ev=e=>e.referenceElements.dots,Ln=(e,t,n)=>e.filter(s=>s.ifOverflow==="extendDomain").filter(s=>t==="xAxis"?s.xAxisId===n:s.yAxisId===n),bA=D([Ev,ke,ji],Ln),kv=e=>e.referenceElements.areas,jA=D([kv,ke,ji],Ln),Tv=e=>e.referenceElements.lines,NA=D([Tv,ke,ji],Ln),Dv=(e,t)=>{var n=vn(e.map(s=>t==="xAxis"?s.x:s.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},wA=D(bA,ke,Dv),Mv=(e,t)=>{var n=vn(e.flatMap(s=>[t==="xAxis"?s.x1:s.y1,t==="xAxis"?s.x2:s.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},PA=D([jA,ke],Mv),Iv=(e,t)=>{var n=vn(e.map(s=>t==="xAxis"?s.x:s.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},SA=D(NA,ke,Iv),AA=D(wA,SA,PA,(e,t,n)=>$a(e,n,t)),CA=D([pt],Tu),Rv=(e,t,n,s,a,i,l)=>{var o=BS(t,e.allowDataOverflow);if(o!=null)return o;var c=i==="vertical"&&l==="xAxis"||i==="horizontal"&&l==="yAxis",u=c?$a(n,a,mf(s)):$a(a,mf(s));return qS(t,u,e.allowDataOverflow)},OA=D([pt,CA,xA,gA,AA,le,ke],Rv),EA=[0,1],_v=(e,t,n,s,a,i,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:o,type:c}=e,u=or(t,i);return u&&o==null?dg(0,n.length):c==="category"?yA(s,e,u):a==="expand"?EA:l}},Du=D([pt,le,ku,Pi,vi,ke,OA],_v),Fv=(e,t,n,s,a)=>{if(e!=null){var{scale:i,type:l}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":l==="category"&&s&&(s.indexOf("LineChart")>=0||s.indexOf("AreaChart")>=0||s.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(ws(i));return o in Xn?o:"point"}}},Is=D([pt,le,pv,wu,ke],Fv);function kA(e){if(e!=null){if(e in Xn)return Xn[e]();var t="scale".concat(ws(e));if(t in Xn)return Xn[t]()}}function Mu(e,t,n,s){if(!(n==null||s==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(s);var a=kA(t);if(a!=null){var i=a.domain(n).range(s);return Nw(i),i}}}var Lv=(e,t,n)=>{var s=Tu(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(s)&&(s[0]==="auto"||s[1]==="auto")&&Tn(e))return QS(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Tn(e))return ZS(e,t.tickCount,t.allowDecimals)}},Iu=D([Du,Ts,Is],Lv),$v=(e,t,n,s)=>{if(s!=="angleAxis"&&e?.type==="number"&&Tn(t)&&Array.isArray(n)&&n.length>0){var a=t[0],i=n[0],l=t[1],o=n[n.length-1];return[Math.min(a,i),Math.max(l,o)]}return t},TA=D([pt,Du,Iu,ke],$v),DA=D(Pi,pt,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,s=Array.from(vn(e.map(o=>o.value))).sort((o,c)=>o-c);if(s.length<2)return 1/0;var a=s[s.length-1]-s[0];if(a===0)return 1/0;for(var i=0;i<s.length-1;i++){var l=s[i+1]-s[i];n=Math.min(n,l)}return n/a}}),zv=D(DA,le,lv,ze,(e,t,n,s)=>s,(e,t,n,s,a)=>{if(!Ye(e))return 0;var i=t==="vertical"?s.height:s.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var l=Yt(n,e*i),o=e*i/2;return o-l-(o-l)/i*l}return 0}),MA=(e,t)=>{var n=Cr(e,t);return n==null||typeof n.padding!="string"?0:zv(e,"xAxis",t,n.padding)},IA=(e,t)=>{var n=Vr(e,t);return n==null||typeof n.padding!="string"?0:zv(e,"yAxis",t,n.padding)},RA=D(Cr,MA,(e,t)=>{var n,s;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((n=a.left)!==null&&n!==void 0?n:0)+t,right:((s=a.right)!==null&&s!==void 0?s:0)+t}}),_A=D(Vr,IA,(e,t)=>{var n,s;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((n=a.top)!==null&&n!==void 0?n:0)+t,bottom:((s=a.bottom)!==null&&s!==void 0?s:0)+t}}),FA=D([ze,RA,ui,ci,(e,t,n)=>n],(e,t,n,s,a)=>{var{padding:i}=s;return a?[i.left,n.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),LA=D([ze,le,_A,ui,ci,(e,t,n)=>n],(e,t,n,s,a,i)=>{var{padding:l}=a;return i?[s.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Rs=(e,t,n,s)=>{var a;switch(t){case"xAxis":return FA(e,n,s);case"yAxis":return LA(e,n,s);case"zAxis":return(a=Eu(e,n))===null||a===void 0?void 0:a.range;case"angleAxis":return dv(e);case"radiusAxis":return mv(e,n);default:return}},Bv=D([pt,Rs],yi),$n=D([pt,Is,TA,Bv],Mu);D([Ms,Si,ke],Ov);function qv(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Ai=(e,t)=>t,Ci=(e,t,n)=>n,$A=D(Yc,Ai,Ci,(e,t,n)=>e.filter(s=>s.orientation===t).filter(s=>s.mirror===n).sort(qv)),zA=D(Gc,Ai,Ci,(e,t,n)=>e.filter(s=>s.orientation===t).filter(s=>s.mirror===n).sort(qv)),Vv=(e,t)=>({width:e.width,height:t.height}),BA=(e,t)=>{var n=typeof t.width=="number"?t.width:oi;return{width:n,height:e.height}},Uv=D(ze,Cr,Vv),qA=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},VA=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},UA=D(Sr,ze,$A,Ai,Ci,(e,t,n,s,a)=>{var i={},l;return n.forEach(o=>{var c=Vv(t,o);l==null&&(l=qA(t,s,e));var u=s==="top"&&!a||s==="bottom"&&a;i[o.id]=l-Number(u)*c.height,l+=(u?-1:1)*c.height}),i}),WA=D(Pr,ze,zA,Ai,Ci,(e,t,n,s,a)=>{var i={},l;return n.forEach(o=>{var c=BA(t,o);l==null&&(l=VA(t,s,e));var u=s==="left"&&!a||s==="right"&&a;i[o.id]=l-Number(u)*c.width,l+=(u?-1:1)*c.width}),i}),KA=(e,t)=>{var n=ze(e),s=Cr(e,t);if(s!=null){var a=UA(e,s.orientation,s.mirror),i=a[t];return i==null?{x:n.left,y:0}:{x:n.left,y:i}}},HA=(e,t)=>{var n=ze(e),s=Vr(e,t);if(s!=null){var a=WA(e,s.orientation,s.mirror),i=a[t];return i==null?{x:0,y:n.top}:{x:i,y:n.top}}},Wv=D(ze,Vr,(e,t)=>{var n=typeof t.width=="number"?t.width:oi;return{width:n,height:e.height}}),hf=(e,t,n)=>{switch(t){case"xAxis":return Uv(e,n).width;case"yAxis":return Wv(e,n).height;default:return}},Kv=(e,t,n,s)=>{if(n!=null){var{allowDuplicatedCategory:a,type:i,dataKey:l}=n,o=or(e,s),c=t.map(u=>u.value);if(l&&o&&i==="category"&&a&&Bp(c))return c}},Ru=D([le,Pi,pt,ke],Kv),Hv=(e,t,n,s)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:i}=n,l=or(e,s);if(l&&(a==="number"||i!=="auto"))return t.map(o=>o.value)}},_u=D([le,Pi,Ts,ke],Hv),ff=D([le,dA,Is,$n,Ru,_u,Rs,Iu,ke],(e,t,n,s,a,i,l,o,c)=>{if(t==null)return null;var u=or(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:o,range:l,realScaleType:n,scale:s}}),YA=(e,t,n,s,a,i,l,o,c)=>{if(!(t==null||s==null)){var u=or(e,c),{type:d,ticks:m,tickCount:h}=t,f=n==="scaleBand"&&typeof s.bandwidth=="function"?s.bandwidth()/2:2,x=d==="category"&&s.bandwidth?s.bandwidth()/f:0;x=c==="angleAxis"&&i!=null&&i.length>=2?ut(i[0]-i[1])*2*x:x;var p=m||a;if(p){var g=p.map((y,b)=>{var j=l?l.indexOf(y):y;return{index:b,coordinate:s(j)+x,value:y,offset:x}});return g.filter(y=>!ft(y.coordinate))}return u&&o?o.map((y,b)=>({coordinate:s(y)+x,value:y,index:b,offset:x})):s.ticks?s.ticks(h).map(y=>({coordinate:s(y)+x,value:y,offset:x})):s.domain().map((y,b)=>({coordinate:s(y)+x,value:l?l[y]:y,index:b,offset:x}))}},Yv=D([le,Ts,Is,$n,Iu,Rs,Ru,_u,ke],YA),GA=(e,t,n,s,a,i,l)=>{if(!(t==null||n==null||s==null||s[0]===s[1])){var o=or(e,l),{tickCount:c}=t,u=0;return u=l==="angleAxis"&&s?.length>=2?ut(s[0]-s[1])*2*u:u,o&&i?i.map((d,m)=>({coordinate:n(d)+u,value:d,index:m,offset:u})):n.ticks?n.ticks(c).map(d=>({coordinate:n(d)+u,value:d,offset:u})):n.domain().map((d,m)=>({coordinate:n(d)+u,value:a?a[d]:d,index:m,offset:u}))}},sr=D([le,Ts,$n,Rs,Ru,_u,ke],GA),ar=D(pt,$n,(e,t)=>{if(!(e==null||t==null))return La(La({},e),{},{scale:t})}),JA=D([pt,Is,Du,Bv],Mu);D((e,t,n)=>Eu(e,n),JA,(e,t)=>{if(!(e==null||t==null))return La(La({},e),{},{scale:t})});var XA=D([le,Yc,Gc],(e,t,n)=>{switch(e){case"horizontal":return t.some(s=>s.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(s=>s.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Gv=e=>e.options.defaultTooltipEventType,Jv=e=>e.options.validateTooltipEventTypes;function Xv(e,t,n){if(e==null)return t;var s=e?"axis":"item";return n==null?t:n.includes(s)?s:t}function Fu(e,t){var n=Gv(e),s=Jv(e);return Xv(t,n,s)}function QA(e){return Y(t=>Fu(t,e))}var Qv=(e,t)=>{var n,s=Number(t);if(!(ft(s)||t==null))return s>=0?e==null||(n=e[s])===null||n===void 0?void 0:n.value:void 0},ZA=e=>e.tooltip.settings,Rr={active:!1,index:null,dataKey:void 0,coordinate:void 0},eC={itemInteraction:{click:Rr,hover:Rr},axisInteraction:{click:Rr,hover:Rr},keyboardInteraction:Rr,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Zv=Ot({name:"tooltip",initialState:eC,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=hr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:tC,removeTooltipEntrySettings:rC,setTooltipSettingsState:nC,setActiveMouseOverItemIndex:e0,mouseLeaveItem:sC,mouseLeaveChart:t0,setActiveClickItemIndex:aC,setMouseOverAxisIndex:r0,setMouseClickAxisIndex:iC,setSyncInteraction:ic,setKeyboardInteraction:lc}=Zv.actions,lC=Zv.reducer;function pf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Xs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pf(Object(n),!0).forEach(function(s){oC(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pf(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function oC(e,t,n){return(t=cC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cC(e){var t=uC(e,"string");return typeof t=="symbol"?t:t+""}function uC(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dC(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function mC(e){return e.index!=null}var n0=(e,t,n,s)=>{if(t==null)return Rr;var a=dC(e,t,n);if(a==null)return Rr;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(mC(a)){if(i)return Xs(Xs({},a),{},{active:!0})}else if(s!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:s};return Xs(Xs({},Rr),{},{coordinate:a.coordinate})},Lu=(e,t)=>{var n=e?.index;if(n==null)return null;var s=Number(n);if(!Ye(s))return n;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(s,i)))},s0=(e,t,n,s,a,i,l,o)=>{if(!(i==null||o==null)){var c=l[0],u=c==null?void 0:o(c.positions,i);if(u!=null)return u;var d=a?.[Number(i)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(s.top+t)/2};default:return{x:(s.left+e)/2,y:d.coordinate}}}},a0=(e,t,n,s)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&s!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var l;return((l=i.settings)===null||l===void 0?void 0:l.dataKey)===a})},_s=e=>e.options.tooltipPayloadSearcher,zn=e=>e.tooltip;function xf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function gf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xf(Object(n),!0).forEach(function(s){hC(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xf(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function hC(e,t,n){return(t=fC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fC(e){var t=pC(e,"string");return typeof t=="symbol"?t:t+""}function pC(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xC(e,t){return e??t}var i0=(e,t,n,s,a,i,l)=>{if(!(t==null||i==null)){var{chartData:o,computedData:c,dataStartIndex:u,dataEndIndex:d}=n,m=[];return e.reduce((h,f)=>{var x,{dataDefinedOnItem:p,settings:g}=f,y=xC(p,o),b=Array.isArray(y)?Ux(y,u,d):y,j=(x=g?.dataKey)!==null&&x!==void 0?x:s?.dataKey,N=g?.nameKey,w;if(s!=null&&s.dataKey&&Array.isArray(b)&&!Array.isArray(b[0])&&l==="axis"?w=qp(b,s.dataKey,a):w=i(b,t,c,N),Array.isArray(w))w.forEach(O=>{var k=gf(gf({},g),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});h.push(Xm({tooltipEntrySettings:k,dataKey:O.dataKey,payload:O.payload,value:Oe(O.payload,O.dataKey),name:O.name}))});else{var S;h.push(Xm({tooltipEntrySettings:g,dataKey:j,payload:w,value:Oe(w,j),name:(S=Oe(w,N))!==null&&S!==void 0?S:g?.name}))}return h},m)}},$u=D([Re,le,pv,wu,Ie],Fv),gC=D([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),vC=D([Ie,Fn],xv),Fs=D([gC,Re,vC],gv),yC=D([Fs],e=>e.filter(wi)),bC=D([Fs],jv),Bn=D([bC,qr],Nv),jC=D([yC,qr,Re],fv),zu=D([Bn,Re,Fs],wv),NC=D([Re],Tu),wC=D([Fs],e=>e.filter(wi)),PC=D([jC,wC,vi],Sv),SC=D([PC,qr,Ie],Av),AC=D([Fs],yv),CC=D([Bn,Re,AC,Si,Ie],Cv),OC=D([Ev,Ie,Fn],Ln),EC=D([OC,Ie],Dv),kC=D([kv,Ie,Fn],Ln),TC=D([kC,Ie],Mv),DC=D([Tv,Ie,Fn],Ln),MC=D([DC,Ie],Iv),IC=D([EC,MC,TC],$a),RC=D([Re,NC,SC,CC,IC,le,Ie],Rv),l0=D([Re,le,Bn,zu,vi,Ie,RC],_v),_C=D([l0,Re,$u],Lv),FC=D([Re,l0,_C,Ie],$v),o0=e=>{var t=Ie(e),n=Fn(e),s=!1;return Rs(e,t,n,s)},c0=D([Re,o0],yi),u0=D([Re,$u,FC,c0],Mu),LC=D([le,zu,Re,Ie],Kv),$C=D([le,zu,Re,Ie],Hv),zC=(e,t,n,s,a,i,l,o)=>{if(t){var{type:c}=t,u=or(e,o);if(s){var d=n==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,m=c==="category"&&s.bandwidth?s.bandwidth()/d:0;return m=o==="angleAxis"&&a!=null&&a?.length>=2?ut(a[0]-a[1])*2*m:m,u&&l?l.map((h,f)=>({coordinate:s(h)+m,value:h,index:f,offset:m})):s.domain().map((h,f)=>({coordinate:s(h)+m,value:i?i[h]:h,index:f,offset:m}))}}},Or=D([le,Re,$u,u0,o0,LC,$C,Ie],zC),Bu=D([Gv,Jv,ZA],(e,t,n)=>Xv(n.shared,e,t)),d0=e=>e.tooltip.settings.trigger,qu=e=>e.tooltip.settings.defaultIndex,Oi=D([zn,Bu,d0,qu],n0),hn=D([Oi,Bn],Lu),m0=D([Or,hn],Qv),h0=D([Oi],e=>{if(e)return e.dataKey}),f0=D([zn,Bu,d0,qu],a0),BC=D([Pr,Sr,le,ze,Or,qu,f0,_s],s0),qC=D([Oi,BC],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),VC=D([Oi],e=>e.active),UC=D([f0,hn,qr,Re,m0,_s,Bu],i0),WC=D([UC],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function vf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function yf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vf(Object(n),!0).forEach(function(s){KC(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vf(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function KC(e,t,n){return(t=HC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HC(e){var t=YC(e,"string");return typeof t=="symbol"?t:t+""}function YC(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GC=()=>Y(Re),JC=()=>{var e=GC(),t=Y(Or),n=Y(u0);return dn(yf(yf({},e),{},{scale:n}),t)},p0=()=>Y(wu),Vu=(e,t)=>t,x0=(e,t,n)=>n,Uu=(e,t,n,s)=>s,XC=D(Or,e=>ti(e,t=>t.coordinate)),Wu=D([zn,Vu,x0,Uu],n0),g0=D([Wu,Bn],Lu),QC=(e,t,n)=>{if(t!=null){var s=zn(e);return t==="axis"?n==="hover"?s.axisInteraction.hover.dataKey:s.axisInteraction.click.dataKey:n==="hover"?s.itemInteraction.hover.dataKey:s.itemInteraction.click.dataKey}},v0=D([zn,Vu,x0,Uu],a0),za=D([Pr,Sr,le,ze,Or,Uu,v0,_s],s0),ZC=D([Wu,za],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),y0=D(Or,g0,Qv),eO=D([v0,g0,qr,Re,y0,_s,Vu],i0),tO=D([Wu],e=>({isActive:e.active,activeIndex:e.index})),rO=(e,t,n,s,a,i,l,o)=>{if(!(!e||!t||!s||!a||!i)){var c=Dw(e.chartX,e.chartY,t,n,o);if(c){var u=Iw(c,t),d=bw(u,l,i,s,a),m=Mw(t,i,d,c);return{activeIndex:String(d),activeCoordinate:m}}}};function oc(){return oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},oc.apply(null,arguments)}function bf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Qs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bf(Object(n),!0).forEach(function(s){nO(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bf(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function nO(e,t,n){return(t=sO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sO(e){var t=aO(e,"string");return typeof t=="symbol"?t:t+""}function aO(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iO(e){var{coordinate:t,payload:n,index:s,offset:a,tooltipAxisBandSize:i,layout:l,cursor:o,tooltipEventType:c,chartName:u}=e,d=t,m=n,h=s;if(!o||!d||u!=="ScatterChart"&&c!=="axis")return null;var f,x;if(u==="ScatterChart")f=d,x=j1;else if(u==="BarChart")f=N1(l,d,a,i),x=lg;else if(l==="radial"){var{cx:p,cy:g,radius:y,startAngle:b,endAngle:j}=og(d);f={cx:p,cy:g,startAngle:b,endAngle:j,innerRadius:y,outerRadius:y},x=ug}else f={points:i2(l,d,a)},x=rs;var N=typeof o=="object"&&"className"in o?o.className:void 0,w=Qs(Qs(Qs(Qs({stroke:"#ccc",pointerEvents:"none"},a),f),we(o,!1)),{},{payload:m,payloadIndex:h,className:de("recharts-tooltip-cursor",N)});return v.isValidElement(o)?v.cloneElement(o,w):v.createElement(x,w)}function lO(e){var t=JC(),n=Jx(),s=Ss(),a=p0();return v.createElement(iO,oc({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:s,tooltipAxisBandSize:t,chartName:a}))}var b0=v.createContext(null),oO=()=>v.useContext(b0),ro={exports:{}},jf;function cO(){return jf||(jf=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,m,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var f=new a(d,m||c,h),x=n?n+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],f]:c._events[x].push(f):(c._events[x]=f,c._eventsCount++),c}function l(c,u){--c._eventsCount===0?c._events=new s:delete c._events[u]}function o(){this._events=new s,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,m;if(this._eventsCount===0)return u;for(m in d=this._events)t.call(d,m)&&u.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=n?n+u:u,m=this._events[d];if(!m)return[];if(m.fn)return[m.fn];for(var h=0,f=m.length,x=new Array(f);h<f;h++)x[h]=m[h].fn;return x},o.prototype.listenerCount=function(u){var d=n?n+u:u,m=this._events[d];return m?m.fn?1:m.length:0},o.prototype.emit=function(u,d,m,h,f,x){var p=n?n+u:u;if(!this._events[p])return!1;var g=this._events[p],y=arguments.length,b,j;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),y){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,m),!0;case 4:return g.fn.call(g.context,d,m,h),!0;case 5:return g.fn.call(g.context,d,m,h,f),!0;case 6:return g.fn.call(g.context,d,m,h,f,x),!0}for(j=1,b=new Array(y-1);j<y;j++)b[j-1]=arguments[j];g.fn.apply(g.context,b)}else{var N=g.length,w;for(j=0;j<N;j++)switch(g[j].once&&this.removeListener(u,g[j].fn,void 0,!0),y){case 1:g[j].fn.call(g[j].context);break;case 2:g[j].fn.call(g[j].context,d);break;case 3:g[j].fn.call(g[j].context,d,m);break;case 4:g[j].fn.call(g[j].context,d,m,h);break;default:if(!b)for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];g[j].fn.apply(g[j].context,b)}}return!0},o.prototype.on=function(u,d,m){return i(this,u,d,m,!1)},o.prototype.once=function(u,d,m){return i(this,u,d,m,!0)},o.prototype.removeListener=function(u,d,m,h){var f=n?n+u:u;if(!this._events[f])return this;if(!d)return l(this,f),this;var x=this._events[f];if(x.fn)x.fn===d&&(!h||x.once)&&(!m||x.context===m)&&l(this,f);else{for(var p=0,g=[],y=x.length;p<y;p++)(x[p].fn!==d||h&&!x[p].once||m&&x[p].context!==m)&&g.push(x[p]);g.length?this._events[f]=g.length===1?g[0]:g:l(this,f)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&l(this,d)):(this._events=new s,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(ro)),ro.exports}var uO=cO();const dO=Nr(uO);var bs=new dO,cc="recharts.syncEvent.tooltip",Nf="recharts.syncEvent.brush";function Ku(e,t){if(t){var n=Number.parseInt(t,10);if(!ft(n))return e?.[n]}}var mO={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},j0=Ot({name:"options",initialState:mO,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),hO=j0.reducer,{createEventEmitter:fO}=j0.actions;function pO(e){return e.tooltip.syncInteraction}var xO={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},N0=Ot({name:"chartData",initialState:xO,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:s}=t.payload;n!=null&&(e.dataStartIndex=n),s!=null&&(e.dataEndIndex=s)}}}),{setChartData:wf,setDataStartEndIndexes:gO,setComputedData:TI}=N0.actions,vO=N0.reducer,w0=()=>{};function yO(){var e=Y(Pu),t=Y(Su),n=$e(),s=Y(ov),a=Y(Or),i=Ss(),l=Jc(),o=Y(c=>c.rootProps.className);v.useEffect(()=>{if(e==null)return w0;var c=(u,d,m)=>{if(t!==m&&e===u){if(s==="index"){n(d);return}if(a!=null){var h;if(typeof s=="function"){var f={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},x=s(a,f);h=a[x]}else s==="value"&&(h=a.find(S=>String(S.value)===d.payload.label));var{coordinate:p}=d.payload;if(h==null||d.payload.active===!1||p==null||l==null){n(ic({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:g,y}=p,b=Math.min(g,l.x+l.width),j=Math.min(y,l.y+l.height),N={x:i==="horizontal"?h.coordinate:b,y:i==="horizontal"?j:h.coordinate},w=ic({active:d.payload.active,coordinate:N,dataKey:d.payload.dataKey,index:String(h.index),label:d.payload.label});n(w)}}};return bs.on(cc,c),()=>{bs.off(cc,c)}},[o,n,t,e,s,a,i,l])}function bO(){var e=Y(Pu),t=Y(Su),n=$e();v.useEffect(()=>{if(e==null)return w0;var s=(a,i,l)=>{t!==l&&e===a&&n(gO(i))};return bs.on(Nf,s),()=>{bs.off(Nf,s)}},[n,t,e])}function jO(){var e=$e();v.useEffect(()=>{e(fO())},[e]),yO(),bO()}function NO(e,t,n,s,a,i){var l=Y(h=>QC(h,e,t)),o=Y(Su),c=Y(Pu),u=Y(ov),d=Y(pO),m=d?.active;v.useEffect(()=>{if(!m&&c!=null&&o!=null){var h=ic({active:i,coordinate:n,dataKey:l,index:a,label:typeof s=="number"?String(s):s});bs.emit(cc,c,h,o)}},[m,n,l,a,s,o,c,u,i])}function Pf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Sf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pf(Object(n),!0).forEach(function(s){wO(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pf(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function wO(e,t,n){return(t=PO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PO(e){var t=SO(e,"string");return typeof t=="symbol"?t:t+""}function SO(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AO(e){return e.dataKey}function CO(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(Zw,t)}var Af=[],OO={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!pn.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function uc(e){var t=qt(e,OO),{active:n,allowEscapeViewBox:s,animationDuration:a,animationEasing:i,content:l,filterNull:o,isAnimationActive:c,offset:u,payloadUniqBy:d,position:m,reverseDirection:h,useTranslate3d:f,wrapperStyle:x,cursor:p,shared:g,trigger:y,defaultIndex:b,portal:j,axisId:N}=t,w=$e(),S=typeof b=="number"?String(b):b;v.useEffect(()=>{w(nC({shared:g,trigger:y,axisId:N,active:n,defaultIndex:S}))},[w,g,y,N,n,S]);var O=Jc(),k=eg(),F=QA(g),{activeIndex:H,isActive:z}=Y(I=>tO(I,F,y,S)),q=Y(I=>eO(I,F,y,S)),G=Y(I=>y0(I,F,y,S)),V=Y(I=>ZC(I,F,y,S)),P=q,L=oO(),X=n??z,[J,ie]=cN([P,X]),Ge=F==="axis"?G:void 0;NO(F,y,V,Ge,H,X);var qe=j??L;if(qe==null)return null;var Q=P??Af;X||(Q=Af),o&&Q.length&&(Q=Rj(P.filter(I=>I.value!=null&&(I.hide!==!0||t.includeHidden)),d,AO));var Er=Q.length>0,B=v.createElement(i1,{allowEscapeViewBox:s,animationDuration:a,animationEasing:i,isAnimationActive:c,active:X,coordinate:V,hasPayload:Er,offset:u,position:m,reverseDirection:h,useTranslate3d:f,viewBox:O,wrapperStyle:x,lastBoundingBox:J,innerRef:ie,hasPortalFromProps:!!j},CO(l,Sf(Sf({},t),{},{payload:Q,label:Ge,active:X,coordinate:V,accessibilityLayer:k})));return v.createElement(v.Fragment,null,Ny.createPortal(B,qe),X&&v.createElement(lO,{cursor:p,tooltipEventType:F,coordinate:V,payload:P,index:H}))}var no={},so={},ao={},Cf;function EO(){return Cf||(Cf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,s,{signal:a,edges:i}={}){let l,o=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{o!==null&&(n.apply(l,o),l=void 0,o=null)},m=()=>{u&&d(),p()};let h=null;const f=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,m()},s)},x=()=>{h!==null&&(clearTimeout(h),h=null)},p=()=>{x(),l=void 0,o=null},g=()=>{d()},y=function(...b){if(a?.aborted)return;l=this,o=b;const j=h==null;f(),c&&j&&d()};return y.schedule=f,y.cancel=p,y.flush=g,a?.addEventListener("abort",p,{once:!0}),y}e.debounce=t})(ao)),ao}var Of;function kO(){return Of||(Of=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EO();function n(s,a=0,i={}){typeof i!="object"&&(i={});const{leading:l=!1,trailing:o=!0,maxWait:c}=i,u=Array(2);l&&(u[0]="leading"),o&&(u[1]="trailing");let d,m=null;const h=t.debounce(function(...p){d=s.apply(this,p),m=null},a,{edges:u}),f=function(...p){return c!=null&&(m===null&&(m=Date.now()),Date.now()-m>=c)?(d=s.apply(this,p),m=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,p),d)},x=()=>(h.flush(),d);return f.cancel=h.cancel,f.flush=x,f}e.debounce=n})(so)),so}var Ef;function TO(){return Ef||(Ef=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kO();function n(s,a=0,i={}){const{leading:l=!0,trailing:o=!0}=i;return t.debounce(s,a,{leading:l,maxWait:a,trailing:o})}e.throttle=n})(no)),no}var io,kf;function DO(){return kf||(kf=1,io=TO().throttle),io}var MO=DO();const IO=Nr(MO);var ns=function(t,n){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i]};function Tf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function lo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tf(Object(n),!0).forEach(function(s){RO(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tf(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function RO(e,t,n){return(t=_O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _O(e){var t=FO(e,"string");return typeof t=="symbol"?t:t+""}function FO(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dc=v.forwardRef((e,t)=>{var{aspect:n,initialDimension:s={width:-1,height:-1},width:a="100%",height:i="100%",minWidth:l=0,minHeight:o,maxHeight:c,children:u,debounce:d=0,id:m,className:h,onResize:f,style:x={}}=e,p=v.useRef(null),g=v.useRef();g.current=f,v.useImperativeHandle(t,()=>p.current);var[y,b]=v.useState({containerWidth:s.width,containerHeight:s.height}),j=v.useCallback((w,S)=>{b(O=>{var k=Math.round(w),F=Math.round(S);return O.containerWidth===k&&O.containerHeight===F?O:{containerWidth:k,containerHeight:F}})},[]);v.useEffect(()=>{var w=F=>{var H,{width:z,height:q}=F[0].contentRect;j(z,q),(H=g.current)===null||H===void 0||H.call(g,z,q)};d>0&&(w=IO(w,d,{trailing:!0,leading:!1}));var S=new ResizeObserver(w),{width:O,height:k}=p.current.getBoundingClientRect();return j(O,k),S.observe(p.current),()=>{S.disconnect()}},[j,d]);var N=v.useMemo(()=>{var{containerWidth:w,containerHeight:S}=y;if(w<0||S<0)return null;ns(Gr(a)||Gr(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,i),ns(!n||n>0,"The aspect(%s) must be greater than zero.",n);var O=Gr(a)?w:a,k=Gr(i)?S:i;return n&&n>0&&(O?k=O/n:k&&(O=k*n),c&&k>c&&(k=c)),ns(O>0||k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,k,a,i,l,o,n),v.Children.map(u,F=>v.cloneElement(F,{width:O,height:k,style:lo({width:O,height:k},F.props.style)}))},[n,u,i,c,o,l,y,a]);return v.createElement("div",{id:m?"".concat(m):void 0,className:de("recharts-responsive-container",h),style:lo(lo({},x),{},{width:a,height:i,minWidth:l,minHeight:o,maxHeight:c}),ref:p},v.createElement("div",{style:{width:0,height:0,overflow:"visible"}},N))}),P0=e=>null;P0.displayName="Cell";function LO(e,t,n){return(t=$O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $O(e){var t=zO(e,"string");return typeof t=="symbol"?t:t+""}function zO(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class BO{constructor(t){LO(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var s=this.cache.keys().next().value;this.cache.delete(s)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function Df(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function qO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Df(Object(n),!0).forEach(function(s){VO(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Df(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function VO(e,t,n){return(t=UO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UO(e){var t=WO(e,"string");return typeof t=="symbol"?t:t+""}function WO(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KO={cacheSize:2e3,enableCache:!0},S0=qO({},KO),Mf=new BO(S0.cacheSize),HO={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},If="recharts_measurement_span";function YO(e,t){var n=t.fontSize||"",s=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",l=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(s,"|").concat(a,"|").concat(i,"|").concat(l,"|").concat(o)}var Rf=(e,t)=>{try{var n=document.getElementById(If);n||(n=document.createElement("span"),n.setAttribute("id",If),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,HO,t),n.textContent="".concat(e);var s=n.getBoundingClientRect();return{width:s.width,height:s.height}}catch{return{width:0,height:0}}},ss=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||pn.isSsr)return{width:0,height:0};if(!S0.enableCache)return Rf(t,n);var s=YO(t,n),a=Mf.get(s);if(a)return a;var i=Rf(t,n);return Mf.set(s,i),i},_f=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ff=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GO=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,JO=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,A0={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},XO=Object.keys(A0),jn="NaN";function QO(e,t){return e*A0[t]}class ot{static parse(t){var n,[,s,a]=(n=JO.exec(t))!==null&&n!==void 0?n:[];return new ot(parseFloat(s),a??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,ft(t)&&(this.unit=""),n!==""&&!GO.test(n)&&(this.num=NaN,this.unit=""),XO.includes(n)&&(this.num=QO(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new ot(NaN,""):new ot(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ot(NaN,""):new ot(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ot(NaN,""):new ot(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ot(NaN,""):new ot(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ft(this.num)}}function C0(e){if(e.includes(jn))return jn;for(var t=e;t.includes("*")||t.includes("/");){var n,[,s,a,i]=(n=_f.exec(t))!==null&&n!==void 0?n:[],l=ot.parse(s??""),o=ot.parse(i??""),c=a==="*"?l.multiply(o):l.divide(o);if(c.isNaN())return jn;t=t.replace(_f,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,m,h]=(u=Ff.exec(t))!==null&&u!==void 0?u:[],f=ot.parse(d??""),x=ot.parse(h??""),p=m==="+"?f.add(x):f.subtract(x);if(p.isNaN())return jn;t=t.replace(Ff,p.toString())}return t}var Lf=/\(([^()]*)\)/;function ZO(e){for(var t=e,n;(n=Lf.exec(t))!=null;){var[,s]=n;t=t.replace(Lf,C0(s))}return t}function eE(e){var t=e.replace(/\s+/g,"");return t=ZO(t),t=C0(t),t}function tE(e){try{return eE(e)}catch{return jn}}function oo(e){var t=tE(e.slice(5,-1));return t===jn?"":t}var rE=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],nE=["dx","dy","angle","className","breakAll"];function mc(){return mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mc.apply(null,arguments)}function $f(e,t){if(e==null)return{};var n,s,a=sE(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function sE(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var O0=/[ \f\n\r\t\v\u2028\u2029]+/,E0=e=>{var{children:t,breakAll:n,style:s}=e;try{var a=[];ge(t)||(n?a=t.toString().split(""):a=t.toString().split(O0));var i=a.map(o=>({word:o,width:ss(o,s).width})),l=n?0:ss("¬†",s).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},aE=(e,t,n,s,a)=>{var{maxLines:i,children:l,style:o,breakAll:c}=e,u=U(i),d=l,m=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce((q,G)=>{var{word:V,width:P}=G,L=q[q.length-1];if(L&&(s==null||a||L.width+P+n<Number(s)))L.words.push(V),L.width+=P+n;else{var X={words:[V],width:P};q.push(X)}return q},[])},h=m(t),f=H=>H.reduce((z,q)=>z.width>q.width?z:q);if(!u||a)return h;var x=h.length>i||f(h).width>Number(s);if(!x)return h;for(var p="‚Ä¶",g=H=>{var z=d.slice(0,H),q=E0({breakAll:c,style:o,children:z+p}).wordsWithComputedWidth,G=m(q),V=G.length>i||f(G).width>Number(s);return[V,G]},y=0,b=d.length-1,j=0,N;y<=b&&j<=d.length-1;){var w=Math.floor((y+b)/2),S=w-1,[O,k]=g(S),[F]=g(w);if(!O&&!F&&(y=w+1),O&&F&&(b=w-1),!O&&F){N=k;break}j++}return N||h},zf=e=>{var t=ge(e)?[]:e.toString().split(O0);return[{words:t}]},iE=e=>{var{width:t,scaleToFit:n,children:s,style:a,breakAll:i,maxLines:l}=e;if((t||n)&&!pn.isSsr){var o,c,u=E0({breakAll:i,children:s,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:m}=u;o=d,c=m}else return zf(s);return aE({breakAll:i,children:s,maxLines:l,style:a},o,c,t,n)}return zf(s)},Bf="#808080",Hu=v.forwardRef((e,t)=>{var{x:n=0,y:s=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:l=!1,textAnchor:o="start",verticalAnchor:c="end",fill:u=Bf}=e,d=$f(e,rE),m=v.useMemo(()=>iE({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:h,dy:f,angle:x,className:p,breakAll:g}=d,y=$f(d,nE);if(!rr(n)||!rr(s))return null;var b=n+(U(h)?h:0),j=s+(U(f)?f:0),N;switch(c){case"start":N=oo("calc(".concat(i,")"));break;case"middle":N=oo("calc(".concat((m.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:N=oo("calc(".concat(m.length-1," * -").concat(a,")"));break}var w=[];if(l){var S=m[0].width,{width:O}=d;w.push("scale(".concat(U(O)?O/S:1,")"))}return x&&w.push("rotate(".concat(x,", ").concat(b,", ").concat(j,")")),w.length&&(y.transform=w.join(" ")),v.createElement("text",mc({},we(y,!0),{ref:t,x:b,y:j,className:de("recharts-text",p),textAnchor:o,fill:u.includes("url")?Bf:u}),m.map((k,F)=>{var H=k.words.join(g?"":" ");return v.createElement("tspan",{x:b,dy:F===0?N:a,key:"".concat(H,"-").concat(F)},H)}))});Hu.displayName="Text";var lE=["offset"],oE=["labelRef"];function qf(e,t){if(e==null)return{};var n,s,a=cE(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function cE(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function Vf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vf(Object(n),!0).forEach(function(s){uE(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vf(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function uE(e,t,n){return(t=dE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dE(e){var t=mE(e,"string");return typeof t=="symbol"?t:t+""}function mE(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ur(){return ur=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ur.apply(null,arguments)}var hE=e=>{var{value:t,formatter:n}=e,s=ge(e.children)?t:e.children;return typeof n=="function"?n(s):s},Yu=e=>e!=null&&typeof e=="function",fE=(e,t)=>{var n=ut(t-e),s=Math.min(Math.abs(t-e),360);return n*s},pE=(e,t,n,s)=>{var{position:a,offset:i,className:l}=e,{cx:o,cy:c,innerRadius:u,outerRadius:d,startAngle:m,endAngle:h,clockWise:f}=s,x=(u+d)/2,p=fE(m,h),g=p>=0?1:-1,y,b;a==="insideStart"?(y=m+g*i,b=f):a==="insideEnd"?(y=h-g*i,b=!f):a==="end"&&(y=h+g*i,b=f),b=p<=0?b:!b;var j=He(o,c,x,y),N=He(o,c,x,y+(b?1:-1)*359),w="M".concat(j.x,",").concat(j.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(b?0:1,`,
    `).concat(N.x,",").concat(N.y),S=ge(e.id)?us("recharts-radial-line-"):e.id;return v.createElement("text",ur({},n,{dominantBaseline:"central",className:de("recharts-radial-bar-label",l)}),v.createElement("defs",null,v.createElement("path",{id:S,d:w})),v.createElement("textPath",{xlinkHref:"#".concat(S)},t))},xE=(e,t,n)=>{var{cx:s,cy:a,innerRadius:i,outerRadius:l,startAngle:o,endAngle:c}=e,u=(o+c)/2;if(n==="outside"){var{x:d,y:m}=He(s,a,l+t,u);return{x:d,y:m,textAnchor:d>=s?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+l)/2,{x:f,y:x}=He(s,a,h,u);return{x:f,y:x,textAnchor:"middle",verticalAnchor:"middle"}},gE=(e,t)=>{var{parentViewBox:n,offset:s,position:a}=e,{x:i,y:l,width:o,height:c}=t,u=c>=0?1:-1,d=u*s,m=u>0?"end":"start",h=u>0?"start":"end",f=o>=0?1:-1,x=f*s,p=f>0?"end":"start",g=f>0?"start":"end";if(a==="top"){var y={x:i+o/2,y:l-u*s,textAnchor:"middle",verticalAnchor:m};return Ce(Ce({},y),n?{height:Math.max(l-n.y,0),width:o}:{})}if(a==="bottom"){var b={x:i+o/2,y:l+c+d,textAnchor:"middle",verticalAnchor:h};return Ce(Ce({},b),n?{height:Math.max(n.y+n.height-(l+c),0),width:o}:{})}if(a==="left"){var j={x:i-x,y:l+c/2,textAnchor:p,verticalAnchor:"middle"};return Ce(Ce({},j),n?{width:Math.max(j.x-n.x,0),height:c}:{})}if(a==="right"){var N={x:i+o+x,y:l+c/2,textAnchor:g,verticalAnchor:"middle"};return Ce(Ce({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:c}:{})}var w=n?{width:o,height:c}:{};return a==="insideLeft"?Ce({x:i+x,y:l+c/2,textAnchor:g,verticalAnchor:"middle"},w):a==="insideRight"?Ce({x:i+o-x,y:l+c/2,textAnchor:p,verticalAnchor:"middle"},w):a==="insideTop"?Ce({x:i+o/2,y:l+d,textAnchor:"middle",verticalAnchor:h},w):a==="insideBottom"?Ce({x:i+o/2,y:l+c-d,textAnchor:"middle",verticalAnchor:m},w):a==="insideTopLeft"?Ce({x:i+x,y:l+d,textAnchor:g,verticalAnchor:h},w):a==="insideTopRight"?Ce({x:i+o-x,y:l+d,textAnchor:p,verticalAnchor:h},w):a==="insideBottomLeft"?Ce({x:i+x,y:l+c-d,textAnchor:g,verticalAnchor:m},w):a==="insideBottomRight"?Ce({x:i+o-x,y:l+c-d,textAnchor:p,verticalAnchor:m},w):a&&typeof a=="object"&&(U(a.x)||Gr(a.x))&&(U(a.y)||Gr(a.y))?Ce({x:i+Yt(a.x,o),y:l+Yt(a.y,c),textAnchor:"end",verticalAnchor:"end"},w):Ce({x:i+o/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},w)},vE=e=>"cx"in e&&U(e.cx);function jt(e){var{offset:t=5}=e,n=qf(e,lE),s=Ce({offset:t},n),{viewBox:a,position:i,value:l,children:o,content:c,className:u="",textBreakAll:d,labelRef:m}=s,h=Y(hv),f=Jc(),x=i==="center"?f:h??f,p=a||x;if(!p||ge(l)&&ge(o)&&!v.isValidElement(c)&&typeof c!="function")return null;var g=Ce(Ce({},s),{},{viewBox:p});if(v.isValidElement(c)){var{labelRef:y}=g,b=qf(g,oE);return v.cloneElement(c,b)}var j;if(typeof c=="function"){if(j=v.createElement(c,g),v.isValidElement(j))return j}else j=hE(s);var N=vE(p),w=we(s,!0);if(N&&(i==="insideStart"||i==="insideEnd"||i==="end"))return pE(s,j,w,p);var S=N?xE(p,s.offset,s.position):gE(s,p);return v.createElement(Hu,ur({ref:m,className:de("recharts-label",u)},w,S,{breakAll:d}),j)}jt.displayName="Label";var k0=e=>{var{cx:t,cy:n,angle:s,startAngle:a,endAngle:i,r:l,radius:o,innerRadius:c,outerRadius:u,x:d,y:m,top:h,left:f,width:x,height:p,clockWise:g,labelViewBox:y}=e;if(y)return y;if(U(x)&&U(p)){if(U(d)&&U(m))return{x:d,y:m,width:x,height:p};if(U(h)&&U(f))return{x:h,y:f,width:x,height:p}}if(U(d)&&U(m))return{x:d,y:m,width:0,height:0};if(U(t)&&U(n))return{cx:t,cy:n,startAngle:a||s||0,endAngle:i||s||0,innerRadius:c||0,outerRadius:u||o||l||0,clockWise:g};if(e.viewBox)return e.viewBox},yE=(e,t,n)=>{if(!e)return null;var s={viewBox:t,labelRef:n};return e===!0?v.createElement(jt,ur({key:"label-implicit"},s)):rr(e)?v.createElement(jt,ur({key:"label-implicit",value:e},s)):v.isValidElement(e)?e.type===jt?v.cloneElement(e,Ce({key:"label-implicit"},s)):v.createElement(jt,ur({key:"label-implicit",content:e},s)):Yu(e)?v.createElement(jt,ur({key:"label-implicit",content:e},s)):e&&typeof e=="object"?v.createElement(jt,ur({},e,{key:"label-implicit"},s)):null},bE=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&s&&!t.label)return null;var{children:a,labelRef:i}=t,l=k0(t),o=Mc(a,jt).map((u,d)=>v.cloneElement(u,{viewBox:n||l,key:"label-".concat(d)}));if(!s)return o;var c=yE(t.label,n||l,i);return[c,...o]};jt.parseViewBox=k0;jt.renderCallByParent=bE;var co={},uo={},Uf;function jE(){return Uf||(Uf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(uo)),uo}var mo={},Wf;function NE(){return Wf||(Wf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(mo)),mo}var Kf;function wE(){return Kf||(Kf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jE(),n=NE(),s=Fc();function a(i){if(s.isArrayLike(i))return t.last(n.toArray(i))}e.last=a})(co)),co}var ho,Hf;function PE(){return Hf||(Hf=1,ho=wE().last),ho}var SE=PE();const AE=Nr(SE);var CE=["valueAccessor"],OE=["data","dataKey","clockWise","id","textBreakAll"];function Ba(){return Ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ba.apply(null,arguments)}function Yf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Gf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yf(Object(n),!0).forEach(function(s){EE(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yf(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function EE(e,t,n){return(t=kE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kE(e){var t=TE(e,"string");return typeof t=="symbol"?t:t+""}function TE(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jf(e,t){if(e==null)return{};var n,s,a=DE(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function DE(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var ME=e=>Array.isArray(e.value)?AE(e.value):e.value;function pr(e){var{valueAccessor:t=ME}=e,n=Jf(e,CE),{data:s,dataKey:a,clockWise:i,id:l,textBreakAll:o}=n,c=Jf(n,OE);return!s||!s.length?null:v.createElement(tt,{className:"recharts-label-list"},s.map((u,d)=>{var m=ge(a)?t(u,d):Oe(u&&u.payload,a),h=ge(l)?{}:{id:"".concat(l,"-").concat(d)};return v.createElement(jt,Ba({},we(u,!0),c,h,{parentViewBox:u.parentViewBox,value:m,textBreakAll:o,viewBox:jt.parseViewBox(ge(i)?u:Gf(Gf({},u),{},{clockWise:i})),key:"label-".concat(d),index:d}))}))}pr.displayName="LabelList";function IE(e,t){return e?e===!0?v.createElement(pr,{key:"labelList-implicit",data:t}):v.isValidElement(e)||Yu(e)?v.createElement(pr,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?v.createElement(pr,Ba({data:t},e,{key:"labelList-implicit"})):null:null}function RE(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:s}=e,a=Mc(s,pr).map((l,o)=>v.cloneElement(l,{data:t,key:"labelList-".concat(o)}));if(!n)return a;var i=IE(e.label,t);return[i,...a]}pr.renderCallByParent=RE;function hc(){return hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},hc.apply(null,arguments)}var Gu=e=>{var{cx:t,cy:n,r:s,className:a}=e,i=de("recharts-dot",a);return t===+t&&n===+n&&s===+s?v.createElement("circle",hc({},wr(e),Tc(e),{className:i,cx:t,cy:n,r:s})):null},_E={radiusAxis:{},angleAxis:{}},T0=Ot({name:"polarAxis",initialState:_E,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:DI,removeRadiusAxis:MI,addAngleAxis:II,removeAngleAxis:RI}=T0.actions,FE=T0.reducer,fo={},Xf;function LE(){return Xf||(Xf=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${a}]`}let s=n;for(;Object.getPrototypeOf(s)!==null;)s=Object.getPrototypeOf(s);return Object.getPrototypeOf(n)===s}e.isPlainObject=t})(fo)),fo}var po,Qf;function $E(){return Qf||(Qf=1,po=LE().isPlainObject),po}var zE=$E();const BE=Nr(zE);function qa(){return qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},qa.apply(null,arguments)}var Zf=(e,t,n,s,a)=>{var i=n-s,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+n,",").concat(t),l+="L ".concat(e+n-i/2,",").concat(t+a),l+="L ".concat(e+n-i/2-s,",").concat(t+a),l+="L ".concat(e,",").concat(t," Z"),l},qE={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},VE=e=>{var t=qt(e,qE),n=v.useRef(),[s,a]=v.useState(-1);v.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var g=n.current.getTotalLength();g&&a(g)}catch{}},[]);var{x:i,y:l,upperWidth:o,lowerWidth:c,height:u,className:d}=t,{animationEasing:m,animationDuration:h,animationBegin:f,isUpdateAnimationActive:x}=t;if(i!==+i||l!==+l||o!==+o||c!==+c||u!==+u||o===0&&c===0||u===0)return null;var p=de("recharts-trapezoid",d);return x?v.createElement(Aa,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:u,x:i,y:l},to:{upperWidth:o,lowerWidth:c,height:u,x:i,y:l},duration:h,animationEasing:m,isActive:x},g=>{var{upperWidth:y,lowerWidth:b,height:j,x:N,y:w}=g;return v.createElement(Aa,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:h,easing:m},v.createElement("path",qa({},we(t,!0),{className:p,d:Zf(N,w,y,b,j),ref:n})))}):v.createElement("g",null,v.createElement("path",qa({},we(t,!0),{className:p,d:Zf(i,l,o,c,u)})))},UE=["option","shapeType","propTransformer","activeClassName","isActive"];function WE(e,t){if(e==null)return{};var n,s,a=KE(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function KE(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function ep(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Va(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ep(Object(n),!0).forEach(function(s){HE(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ep(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function HE(e,t,n){return(t=YE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YE(e){var t=GE(e,"string");return typeof t=="symbol"?t:t+""}function GE(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JE(e,t){return Va(Va({},t),e)}function XE(e,t){return e==="symbols"}function tp(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return v.createElement(lg,n);case"trapezoid":return v.createElement(VE,n);case"sector":return v.createElement(ug,n);case"symbols":if(XE(t))return v.createElement(cx,n);break;default:return null}}function QE(e){return v.isValidElement(e)?e.props:e}function ZE(e){var{option:t,shapeType:n,propTransformer:s=JE,activeClassName:a="recharts-active-shape",isActive:i}=e,l=WE(e,UE),o;if(v.isValidElement(t))o=v.cloneElement(t,Va(Va({},l),QE(t)));else if(typeof t=="function")o=t(l);else if(BE(t)&&typeof t!="boolean"){var c=s(t,l);o=v.createElement(tp,{shapeType:n,elementProps:c})}else{var u=l;o=v.createElement(tp,{shapeType:n,elementProps:u})}return i?v.createElement(tt,{className:a},o):o}var D0=(e,t)=>{var n=$e();return(s,a)=>i=>{e?.(s,a,i),n(e0({activeIndex:String(a),activeDataKey:t,activeCoordinate:s.tooltipPosition}))}},M0=e=>{var t=$e();return(n,s)=>a=>{e?.(n,s,a),t(sC())}},I0=(e,t)=>{var n=$e();return(s,a)=>i=>{e?.(s,a,i),n(aC({activeIndex:String(a),activeDataKey:t,activeCoordinate:s.tooltipPosition}))}};function Ju(e){var{fn:t,args:n}=e,s=$e(),a=rt();return v.useEffect(()=>{if(!a){var i=t(n);return s(tC(i)),()=>{s(rC(i))}}},[t,n,s,a]),null}var e4=()=>{};function Xu(e){var{legendPayload:t}=e,n=$e(),s=rt();return v.useEffect(()=>s?e4:(n(Kw(t)),()=>{n(Hw(t))}),[n,s,t]),null}function Qu(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=v.useRef(us(t)),s=v.useRef(e);return s.current!==e&&(n.current=us(t),s.current=e),n.current}var xo,t4=()=>{var[e]=v.useState(()=>us("uid-"));return e},r4=(xo=wy.useId)!==null&&xo!==void 0?xo:t4;function n4(e,t){var n=r4();return t||(e?"".concat(e,"-").concat(n):n)}var s4=v.createContext(void 0),Zu=e=>{var{id:t,type:n,children:s}=e,a=n4("recharts-".concat(n),t);return v.createElement(s4.Provider,{value:a},s(a))},a4={cartesianItems:[],polarItems:[]},R0=Ot({name:"graphicalItems",initialState:a4,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:s}=t.payload,a=hr(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=s)},removeCartesianGraphicalItem(e,t){var n=hr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=hr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:i4,replaceCartesianGraphicalItem:l4,removeCartesianGraphicalItem:o4,addPolarGraphicalItem:_I,removePolarGraphicalItem:FI}=R0.actions,c4=R0.reducer;function ed(e){var t=$e(),n=v.useRef(null);return v.useEffect(()=>{n.current===null?t(i4(e)):n.current!==e&&t(l4({prev:n.current,next:e})),n.current=e},[t,e]),v.useEffect(()=>()=>{n.current&&(t(o4(n.current)),n.current=null)},[t]),null}function u4(){}var d4={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},rp={t:0},go={t:1};function td(e){var t=qt(e,d4),{isActive:n,canBegin:s,duration:a,easing:i,begin:l,onAnimationEnd:o,onAnimationStart:c,children:u}=t,d=ig("JavascriptAnimate",t.animationManager),[m,h]=v.useState(n?rp:go),f=v.useRef(null);return v.useEffect(()=>{n||h(go)},[n]),v.useEffect(()=>{if(!n||!s)return u4;var x=ag(rp,go,ng(i),a,h,d.getTimeoutController()),p=()=>{f.current=x()};return d.start([c,l,p,a,o]),()=>{d.stop(),f.current&&f.current(),o()}},[n,s,a,i,l,c,o,d]),u(m.t)}var m4=D([ze],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),h4=D([m4,Pr,Sr],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),Ei=()=>Y(h4),f4=()=>Y(WC);function np(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function sp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?np(Object(n),!0).forEach(function(s){p4(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):np(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function p4(e,t,n){return(t=x4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x4(e){var t=g4(e,"string");return typeof t=="symbol"?t:t+""}function g4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v4=e=>{var{point:t,childIndex:n,mainColor:s,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var l=sp(sp({index:n,dataKey:i,cx:t.x,cy:t.y,r:4,fill:s??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},we(a,!1)),Tc(a)),o;return v.isValidElement(a)?o=v.cloneElement(a,l):typeof a=="function"?o=a(l):o=v.createElement(Gu,l),v.createElement(tt,{className:"recharts-active-dot"},o)};function fc(e){var{points:t,mainColor:n,activeDot:s,itemDataKey:a}=e,i=Y(hn),l=f4();if(t==null||l==null)return null;var o=t.find(c=>l.includes(c.payload));return ge(o)?null:v4({point:o,childIndex:Number(i),mainColor:n,dataKey:a,activeDot:s})}var y4="Invariant failed";function b4(e,t){throw new Error(y4)}var j4=["x","y"];function pc(){return pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},pc.apply(null,arguments)}function ap(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Gn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ap(Object(n),!0).forEach(function(s){N4(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ap(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function N4(e,t,n){return(t=w4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w4(e){var t=P4(e,"string");return typeof t=="symbol"?t:t+""}function P4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S4(e,t){if(e==null)return{};var n,s,a=A4(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function A4(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function C4(e,t){var{x:n,y:s}=e,a=S4(e,j4),i="".concat(n),l=parseInt(i,10),o="".concat(s),c=parseInt(o,10),u="".concat(t.height||a.height),d=parseInt(u,10),m="".concat(t.width||a.width),h=parseInt(m,10);return Gn(Gn(Gn(Gn(Gn({},t),a),l?{x:l}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function _0(e){return v.createElement(ZE,pc({shapeType:"rectangle",propTransformer:C4,activeClassName:"recharts-active-bar"},e))}var O4=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(s,a)=>{if(U(t))return t;var i=U(s)||ge(s);return i?t(s,a):(i||b4(),n)}},E4={},F0=Ot({name:"errorBars",initialState:E4,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:s}=t.payload;e[n]||(e[n]=[]),e[n].push(s)},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:s}=t.payload;e[n]&&(e[n]=e[n].filter(a=>a.dataKey!==s.dataKey||a.direction!==s.direction))}}}),{addErrorBar:LI,removeErrorBar:$I}=F0.actions,k4=F0.reducer,T4=["children"];function D4(e,t){if(e==null)return{};var n,s,a=M4(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function M4(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var I4={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},R4=v.createContext(I4);function L0(e){var{children:t}=e,n=D4(e,T4);return v.createElement(R4.Provider,{value:n},t)}function ki(e,t){var n,s,a=Y(u=>Cr(u,e)),i=Y(u=>Vr(u,t)),l=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:vt.allowDataOverflow,o=(s=i?.allowDataOverflow)!==null&&s!==void 0?s:yt.allowDataOverflow,c=l||o;return{needClip:c,needClipX:l,needClipY:o}}function rd(e){var{xAxisId:t,yAxisId:n,clipPathId:s}=e,a=Ei(),{needClipX:i,needClipY:l,needClip:o}=ki(t,n);if(!o)return null;var{x:c,y:u,width:d,height:m}=a;return v.createElement("clipPath",{id:"clipPath-".concat(s)},v.createElement("rect",{x:i?c:c-d/2,y:l?u:u-m/2,width:i?d:d*2,height:l?m:m*2}))}var _4=["onMouseEnter","onMouseLeave","onClick"],F4=["value","background","tooltipPosition"],L4=["id"],$4=["onMouseEnter","onClick","onMouseLeave"];function Dn(){return Dn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Dn.apply(null,arguments)}function ip(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ip(Object(n),!0).forEach(function(s){z4(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ip(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function z4(e,t,n){return(t=B4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B4(e){var t=q4(e,"string");return typeof t=="symbol"?t:t+""}function q4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ua(e,t){if(e==null)return{};var n,s,a=V4(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function V4(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var U4=e=>{var{dataKey:t,name:n,fill:s,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:s,value:Mn(n,t),payload:e}]};function W4(e){var{dataKey:t,stroke:n,strokeWidth:s,fill:a,name:i,hide:l,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:a,dataKey:t,nameKey:void 0,name:Mn(i,t),hide:l,type:e.tooltipType,color:e.fill,unit:o}}}function K4(e){var t=Y(hn),{data:n,dataKey:s,background:a,allOtherBarProps:i}=e,{onMouseEnter:l,onMouseLeave:o,onClick:c}=i,u=Ua(i,_4),d=D0(l,s),m=M0(o),h=I0(c,s);if(!a||n==null)return null;var f=we(a,!1);return v.createElement(v.Fragment,null,n.map((x,p)=>{var{value:g,background:y,tooltipPosition:b}=x,j=Ua(x,F4);if(!y)return null;var N=d(x,p),w=m(x,p),S=h(x,p),O=Qe(Qe(Qe(Qe(Qe({option:a,isActive:String(p)===t},j),{},{fill:"#eee"},y),f),Dc(u,x,p)),{},{onMouseEnter:N,onMouseLeave:w,onClick:S,dataKey:s,index:p,className:"recharts-bar-background-rectangle"});return v.createElement(_0,Dn({key:"background-bar-".concat(p)},O))}))}function $0(e){var{data:t,props:n,showLabels:s}=e,a=wr(n),{id:i}=a,l=Ua(a,L4),{shape:o,dataKey:c,activeBar:u}=n,d=Y(hn),m=Y(h0),{onMouseEnter:h,onClick:f,onMouseLeave:x}=n,p=Ua(n,$4),g=D0(h,c),y=M0(x),b=I0(f,c);return t?v.createElement(v.Fragment,null,t.map((j,N)=>{var w=u&&String(N)===d&&(m==null||c===m),S=w?u:o,O=Qe(Qe(Qe({},l),j),{},{isActive:w,option:S,index:N,dataKey:c});return v.createElement(tt,Dn({className:"recharts-bar-rectangle"},Dc(p,j,N),{onMouseEnter:g(j,N),onMouseLeave:y(j,N),onClick:b(j,N),key:"rectangle-".concat(j?.x,"-").concat(j?.y,"-").concat(j?.value,"-").concat(N)}),v.createElement(_0,O))}),s&&pr.renderCallByParent(n,t)):null}function H4(e){var{props:t,previousRectanglesRef:n}=e,{data:s,layout:a,isAnimationActive:i,animationBegin:l,animationDuration:o,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,m=n.current,h=Qu(t,"recharts-bar-"),[f,x]=v.useState(!1),p=v.useCallback(()=>{typeof u=="function"&&u(),x(!1)},[u]),g=v.useCallback(()=>{typeof d=="function"&&d(),x(!0)},[d]);return v.createElement(td,{begin:l,duration:o,isActive:i,easing:c,onAnimationEnd:p,onAnimationStart:g,key:h},y=>{var b=y===1?s:s?.map((j,N)=>{var w=m&&m[N];if(w)return Qe(Qe({},j),{},{x:Ke(w.x,j.x,y),y:Ke(w.y,j.y,y),width:Ke(w.width,j.width,y),height:Ke(w.height,j.height,y)});if(a==="horizontal"){var S=Ke(0,j.height,y);return Qe(Qe({},j),{},{y:j.y+j.height-S,height:S})}var O=Ke(0,j.width,y);return Qe(Qe({},j),{},{width:O})});return y>0&&(n.current=b??null),b==null?null:v.createElement(tt,null,v.createElement($0,{props:t,data:b,showLabels:!f}))})}function Y4(e){var{data:t,isAnimationActive:n}=e,s=v.useRef(null);return n&&t&&t.length&&(s.current==null||s.current!==t)?v.createElement(H4,{previousRectanglesRef:s,props:e}):v.createElement($0,{props:e,data:t,showLabels:!0})}var z0=0,G4=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Oe(e,t)}};class J4 extends v.PureComponent{render(){var{hide:t,data:n,dataKey:s,className:a,xAxisId:i,yAxisId:l,needClip:o,background:c,id:u}=this.props;if(t)return null;var d=de("recharts-bar",a),m=u;return v.createElement(tt,{className:d,id:u},o&&v.createElement("defs",null,v.createElement(rd,{clipPathId:m,xAxisId:i,yAxisId:l})),v.createElement(tt,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(m,")"):void 0},v.createElement(K4,{data:n,dataKey:s,background:c,allOtherBarProps:this.props}),v.createElement(Y4,this.props)),this.props.children)}}var X4={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!pn.isSsr,legendType:"rect",minPointSize:z0,xAxisId:0,yAxisId:0};function Q4(e){var{xAxisId:t,yAxisId:n,hide:s,legendType:a,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:m}=ki(t,n),h=Ss(),f=rt(),x=Mc(e.children,P0),p=Y(b=>Sk(b,t,n,f,e.id,x));if(h!=="vertical"&&h!=="horizontal")return null;var g,y=p?.[0];return y==null||y.height==null||y.width==null?g=0:g=h==="vertical"?y.height/2:y.width/2,v.createElement(L0,{xAxisId:t,yAxisId:n,data:p,dataPointFormatter:G4,errorBarOffset:g},v.createElement(J4,Dn({},e,{layout:h,needClip:m,data:p,xAxisId:t,yAxisId:n,hide:s,legendType:a,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function Z4(e){var{layout:t,barSettings:{dataKey:n,minPointSize:s},pos:a,bandSize:i,xAxis:l,yAxis:o,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:m,offset:h,cells:f}=e,x=t==="horizontal"?o:l,p=d?x.scale.domain():null,g=Ow({numericAxis:x});return m.map((y,b)=>{var j,N,w,S,O,k;d?j=ww(d[b],p):(j=Oe(y,n),Array.isArray(j)||(j=[g,j]));var F=O4(s,z0)(j[1],b);if(t==="horizontal"){var H,[z,q]=[o.scale(j[0]),o.scale(j[1])];N=Ym({axis:l,ticks:c,bandSize:i,offset:a.offset,entry:y,index:b}),w=(H=q??z)!==null&&H!==void 0?H:void 0,S=a.size;var G=z-q;if(O=ft(G)?0:G,k={x:N,y:h.top,width:S,height:h.height},Math.abs(F)>0&&Math.abs(O)<Math.abs(F)){var V=ut(O||F)*(Math.abs(F)-Math.abs(O));w-=V,O+=V}}else{var[P,L]=[l.scale(j[0]),l.scale(j[1])];if(N=P,w=Ym({axis:o,ticks:u,bandSize:i,offset:a.offset,entry:y,index:b}),S=L-P,O=a.size,k={x:h.left,y:w,width:h.width,height:O},Math.abs(F)>0&&Math.abs(S)<Math.abs(F)){var X=ut(S||F)*(Math.abs(F)-Math.abs(S));S+=X}}if(N==null||w==null||S==null||O==null)return null;var J=Qe(Qe({},y),{},{x:N,y:w,width:S,height:O,value:d?j:j[1],payload:y,background:k,tooltipPosition:{x:N+S/2,y:w+O/2}},f&&f[b]&&f[b].props);return J}).filter(Boolean)}function B0(e){var t=qt(e,X4),n=rt();return v.createElement(Zu,{id:t.id,type:"bar"},s=>v.createElement(v.Fragment,null,v.createElement(Xu,{legendPayload:U4(t)}),v.createElement(Ju,{fn:W4,args:t}),v.createElement(ed,{type:"bar",id:s,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:Hx(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),v.createElement(Q4,Dn({},t,{id:s}))))}B0.displayName="Bar";function lp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Zs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lp(Object(n),!0).forEach(function(s){ek(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lp(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function ek(e,t,n){return(t=tk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tk(e){var t=rk(e,"string");return typeof t=="symbol"?t:t+""}function rk(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nk=(e,t)=>t,sk=(e,t,n)=>n,ak=(e,t,n,s)=>s,ik=(e,t,n,s,a)=>a,Ls=D([Ds,ik],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),lk=D([Ls],e=>e?.maxBarSize),ok=(e,t,n,s,a,i)=>i,op=(e,t,n)=>{var s=n??e;if(!ge(s))return Yt(s,t,0)},ck=D([le,Ds,nk,sk,ak],(e,t,n,s,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===n:i.yAxisId===s).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),uk=(e,t,n,s)=>{var a=le(e);return a==="horizontal"?ys(e,"yAxis",n,s):ys(e,"xAxis",t,s)},dk=(e,t,n)=>{var s=le(e);return s==="horizontal"?hf(e,"xAxis",t):hf(e,"yAxis",n)},mk=(e,t,n)=>{var s={},a=e.filter(wi),i=e.filter(u=>u.stackId==null),l=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),s),o=Object.entries(l).map(u=>{var[d,m]=u,h=m.map(x=>x.dataKey),f=op(t,n,m[0].barSize);return{stackId:d,dataKeys:h,barSize:f}}),c=i.map(u=>{var d=[u.dataKey].filter(h=>h!=null),m=op(t,n,u.barSize);return{stackId:void 0,dataKeys:d,barSize:m}});return[...o,...c]},hk=D([ck,tA,dk],mk),fk=(e,t,n,s,a)=>{var i,l,o=Ls(e,t,n,s,a);if(o!=null){var c=le(e),u=iv(e),{maxBarSize:d}=o,m=ge(d)?u:d,h,f;return c==="horizontal"?(h=ar(e,"xAxis",t,s),f=sr(e,"xAxis",t,s)):(h=ar(e,"yAxis",n,s),f=sr(e,"yAxis",n,s)),(i=(l=dn(h,f,!0))!==null&&l!==void 0?l:m)!==null&&i!==void 0?i:0}},q0=(e,t,n,s)=>{var a=le(e),i,l;return a==="horizontal"?(i=ar(e,"xAxis",t,s),l=sr(e,"xAxis",t,s)):(i=ar(e,"yAxis",n,s),l=sr(e,"yAxis",n,s)),dn(i,l)};function pk(e,t,n,s,a){var i=s.length;if(!(i<1)){var l=Yt(e,n,0,!0),o,c=[];if(Ye(s[0].barSize)){var u=!1,d=n/i,m=s.reduce((y,b)=>y+(b.barSize||0),0);m+=(i-1)*l,m>=n&&(m-=(i-1)*l,l=0),m>=n&&d>0&&(u=!0,d*=.9,m=i*d);var h=(n-m)/2>>0,f={offset:h-l,size:0};o=s.reduce((y,b)=>{var j,N={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:f.offset+f.size+l,size:u?d:(j=b.barSize)!==null&&j!==void 0?j:0}},w=[...y,N];return f=w[w.length-1].position,w},c)}else{var x=Yt(t,n,0,!0);n-2*x-(i-1)*l<=0&&(l=0);var p=(n-2*x-(i-1)*l)/i;p>1&&(p>>=0);var g=Ye(a)?Math.min(p,a):p;o=s.reduce((y,b,j)=>[...y,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:x+(p+l)*j+(p-g)/2,size:g}}],c)}return o}}var xk=(e,t,n,s,a,i,l)=>{var o=ge(l)?t:l,c=pk(n,s,a!==i?a:i,e,o);return a!==i&&c!=null&&(c=c.map(u=>Zs(Zs({},u),{},{position:Zs(Zs({},u.position),{},{offset:u.position.offset-a/2})}))),c},gk=D([hk,iv,eA,lv,fk,q0,lk],xk),vk=(e,t,n,s)=>ar(e,"xAxis",t,s),yk=(e,t,n,s)=>ar(e,"yAxis",n,s),bk=(e,t,n,s)=>sr(e,"xAxis",t,s),jk=(e,t,n,s)=>sr(e,"yAxis",n,s),Nk=D([gk,Ls],(e,t)=>{if(!(e==null||t==null)){var n=e.find(s=>s.stackId===t.stackId&&t.dataKey!=null&&s.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),wk=(e,t)=>{var n=Ni(t);if(!(!e||n==null||t==null)){var{stackId:s}=t;if(s!=null){var a=e[s];if(a){var{stackedData:i}=a;if(i)return i.find(l=>l.key===n)}}}},Pk=D([uk,Ls],wk),Sk=D([ze,vk,yk,bk,jk,Nk,le,ks,q0,Pk,Ls,ok],(e,t,n,s,a,i,l,o,c,u,d,m)=>{var{chartData:h,dataStartIndex:f,dataEndIndex:x}=o;if(!(d==null||i==null||l!=="horizontal"&&l!=="vertical"||t==null||n==null||s==null||a==null||c==null)){var{data:p}=d,g;if(p!=null&&p.length>0?g=p:g=h?.slice(f,x+1),g!=null)return Z4({layout:l,barSettings:d,pos:i,bandSize:c,xAxis:t,yAxis:n,xAxisTicks:s,yAxisTicks:a,stackedData:u,displayedData:g,offset:e,cells:m})}}),Ak=e=>{var{chartData:t}=e,n=$e(),s=rt();return v.useEffect(()=>s?()=>{}:(n(wf(t)),()=>{n(wf(void 0))}),[t,n,s]),null},cp={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},V0=Ot({name:"brush",initialState:cp,reducers:{setBrushSettings(e,t){return t.payload==null?cp:t.payload}}}),{setBrushSettings:zI}=V0.actions,Ck=V0.reducer;function Ok(e,t,n){return(t=Ek(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ek(e){var t=kk(e,"string");return typeof t=="symbol"?t:t+""}function kk(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class nd{static create(t){return new nd(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(s)switch(s){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var n=this.range(),s=n[0],a=n[n.length-1];return s<=a?t>=s&&t<=a:t>=a&&t<=s}}Ok(nd,"EPS",1e-4);function Tk(e){return(e%180+180)%180}var Dk=function(t){var{width:n,height:s}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Tk(a),l=i*Math.PI/180,o=Math.atan(s/n),c=l>o&&l<Math.PI-o?s/Math.sin(l):n/Math.cos(l);return Math.abs(c)},Mk={dots:[],areas:[],lines:[]},U0=Ot({name:"referenceElements",initialState:Mk,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=hr(e).dots.findIndex(s=>s===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=hr(e).areas.findIndex(s=>s===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=hr(e).lines.findIndex(s=>s===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:BI,removeDot:qI,addArea:VI,removeArea:UI,addLine:WI,removeLine:KI}=U0.actions,Ik=U0.reducer,Rk=v.createContext(void 0),_k=e=>{var{children:t}=e,[n]=v.useState("".concat(us("recharts"),"-clip")),s=Ei();if(s==null)return null;var{x:a,y:i,width:l,height:o}=s;return v.createElement(Rk.Provider,{value:n},v.createElement("defs",null,v.createElement("clipPath",{id:n},v.createElement("rect",{x:a,y:i,height:o,width:l}))),t)};function vo(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var s in t)if({}.hasOwnProperty.call(t,s)&&!{}.hasOwnProperty.call(e,s))return!1;return!0}function W0(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var s=[],a=0;a<e.length;a+=t)s.push(e[a]);return s}function Fk(e,t,n){var s={width:e.width+t.width,height:e.height+t.height};return Dk(s,n)}function Lk(e,t,n){var s=n==="width",{x:a,y:i,width:l,height:o}=e;return t===1?{start:s?a:i,end:s?a+l:i+o}:{start:s?a+l:i+o,end:s?a:i}}function Wa(e,t,n,s,a){if(e*t<e*s||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-s)>=0&&e*(t+e*i/2-a)<=0}function $k(e,t){return W0(e,t+1)}function zk(e,t,n,s,a){for(var i=(s||[]).slice(),{start:l,end:o}=t,c=0,u=1,d=l,m=function(){var x=s?.[c];if(x===void 0)return{v:W0(s,u)};var p=c,g,y=()=>(g===void 0&&(g=n(x,p)),g),b=x.coordinate,j=c===0||Wa(e,b,y,d,o);j||(c=0,d=l,u+=1),j&&(d=b+e*(y()/2+a),c+=u)},h;u<=i.length;)if(h=m(),h)return h.v;return[]}function up(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?up(Object(n),!0).forEach(function(s){Bk(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):up(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Bk(e,t,n){return(t=qk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qk(e){var t=Vk(e,"string");return typeof t=="symbol"?t:t+""}function Vk(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uk(e,t,n,s,a){for(var i=(s||[]).slice(),l=i.length,{start:o}=t,{end:c}=t,u=function(h){var f=i[h],x,p=()=>(x===void 0&&(x=n(f,h)),x);if(h===l-1){var g=e*(f.coordinate+e*p()/2-c);i[h]=f=Je(Je({},f),{},{tickCoord:g>0?f.coordinate-g*e:f.coordinate})}else i[h]=f=Je(Je({},f),{},{tickCoord:f.coordinate});var y=Wa(e,f.tickCoord,p,o,c);y&&(c=f.tickCoord-e*(p()/2+a),i[h]=Je(Je({},f),{},{isShow:!0}))},d=l-1;d>=0;d--)u(d);return i}function Wk(e,t,n,s,a,i){var l=(s||[]).slice(),o=l.length,{start:c,end:u}=t;if(i){var d=s[o-1],m=n(d,o-1),h=e*(d.coordinate+e*m/2-u);l[o-1]=d=Je(Je({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var f=Wa(e,d.tickCoord,()=>m,c,u);f&&(u=d.tickCoord-e*(m/2+a),l[o-1]=Je(Je({},d),{},{isShow:!0}))}for(var x=i?o-1:o,p=function(b){var j=l[b],N,w=()=>(N===void 0&&(N=n(j,b)),N);if(b===0){var S=e*(j.coordinate-e*w()/2-c);l[b]=j=Je(Je({},j),{},{tickCoord:S<0?j.coordinate-S*e:j.coordinate})}else l[b]=j=Je(Je({},j),{},{tickCoord:j.coordinate});var O=Wa(e,j.tickCoord,w,c,u);O&&(c=j.tickCoord+e*(w()/2+a),l[b]=Je(Je({},j),{},{isShow:!0}))},g=0;g<x;g++)p(g);return l}function sd(e,t,n){var{tick:s,ticks:a,viewBox:i,minTickGap:l,orientation:o,interval:c,tickFormatter:u,unit:d,angle:m}=e;if(!a||!a.length||!s)return[];if(U(c)||pn.isSsr){var h;return(h=$k(a,U(c)?c:0))!==null&&h!==void 0?h:[]}var f=[],x=o==="top"||o==="bottom"?"width":"height",p=d&&x==="width"?ss(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},g=(j,N)=>{var w=typeof u=="function"?u(j.value,N):j.value;return x==="width"?Fk(ss(w,{fontSize:t,letterSpacing:n}),p,m):ss(w,{fontSize:t,letterSpacing:n})[x]},y=a.length>=2?ut(a[1].coordinate-a[0].coordinate):1,b=Lk(i,y,x);return c==="equidistantPreserveStart"?zk(y,b,g,a,l):(c==="preserveStart"||c==="preserveStartEnd"?f=Wk(y,b,g,a,l,c==="preserveStartEnd"):f=Uk(y,b,g,a,l),f.filter(j=>j.isShow))}var Kk=["viewBox"],Hk=["viewBox"];function Nn(){return Nn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Nn.apply(null,arguments)}function dp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dp(Object(n),!0).forEach(function(s){ad(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dp(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function mp(e,t){if(e==null)return{};var n,s,a=Yk(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Yk(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function ad(e,t,n){return(t=Gk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gk(e){var t=Jk(e,"string");return typeof t=="symbol"?t:t+""}function Jk(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Ur extends v.Component{constructor(t){super(t),this.tickRefs=v.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,n){var{viewBox:s}=t,a=mp(t,Kk),i=this.props,{viewBox:l}=i,o=mp(i,Hk);return!vo(s,l)||!vo(a,o)||!vo(n,this.state)}getTickLineCoord(t){var{x:n,y:s,width:a,height:i,orientation:l,tickSize:o,mirror:c,tickMargin:u}=this.props,d,m,h,f,x,p,g=c?-1:1,y=t.tickSize||o,b=U(t.tickCoord)?t.tickCoord:t.coordinate;switch(l){case"top":d=m=t.coordinate,f=s+ +!c*i,h=f-g*y,p=h-g*u,x=b;break;case"left":h=f=t.coordinate,m=n+ +!c*a,d=m-g*y,x=d-g*u,p=b;break;case"right":h=f=t.coordinate,m=n+ +c*a,d=m+g*y,x=d+g*u,p=b;break;default:d=m=t.coordinate,f=s+ +c*i,h=f+g*y,p=h+g*u,x=b;break}return{line:{x1:d,y1:h,x2:m,y2:f},tick:{x,y:p}}}getTickTextAnchor(){var{orientation:t,mirror:n}=this.props,s;switch(t){case"left":s=n?"start":"end";break;case"right":s=n?"end":"start";break;default:s="middle";break}return s}getTickVerticalAnchor(){var{orientation:t,mirror:n}=this.props;switch(t){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:t,y:n,width:s,height:a,orientation:i,mirror:l,axisLine:o}=this.props,c=Te(Te(Te({},we(this.props,!1)),we(o,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!l||i==="bottom"&&l);c=Te(Te({},c),{},{x1:t,y1:n+u*a,x2:t+s,y2:n+u*a})}else{var d=+(i==="left"&&!l||i==="right"&&l);c=Te(Te({},c),{},{x1:t+d*s,y1:n,x2:t+d*s,y2:n+a})}return v.createElement("line",Nn({},c,{className:de("recharts-cartesian-axis-line",on(o,"className"))}))}static renderTickItem(t,n,s){var a,i=de(n.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))a=v.cloneElement(t,Te(Te({},n),{},{className:i}));else if(typeof t=="function")a=t(Te(Te({},n),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=de(l,t.className)),a=v.createElement(Hu,Nn({},n,{className:l}),s)}return a}renderTicks(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:a,stroke:i,tick:l,tickFormatter:o,unit:c,padding:u}=this.props,d=sd(Te(Te({},this.props),{},{ticks:s}),t,n),m=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),f=wr(this.props),x=we(l,!1),p=Te(Te({},f),{},{fill:"none"},we(a,!1)),g=d.map((y,b)=>{var{line:j,tick:N}=this.getTickLineCoord(y),w=Te(Te(Te(Te({textAnchor:m,verticalAnchor:h},f),{},{stroke:"none",fill:i},x),N),{},{index:b,payload:y,visibleTicksCount:d.length,tickFormatter:o,padding:u});return v.createElement(tt,Nn({className:"recharts-cartesian-axis-tick",key:"tick-".concat(y.value,"-").concat(y.coordinate,"-").concat(y.tickCoord)},Dc(this.props,y,b)),a&&v.createElement("line",Nn({},p,j,{className:de("recharts-cartesian-axis-tick-line",on(a,"className"))})),l&&Ur.renderTickItem(l,w,"".concat(typeof o=="function"?o(y.value,b):y.value).concat(c||"")))});return g.length>0?v.createElement("g",{className:"recharts-cartesian-axis-ticks"},g):null}render(){var{axisLine:t,width:n,height:s,className:a,hide:i}=this.props;if(i)return null;var{ticks:l}=this.props;return n!=null&&n<=0||s!=null&&s<=0?null:v.createElement(tt,{className:de("recharts-cartesian-axis",a),ref:o=>{if(o){var c=o.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var u=c[0];if(u){var d=window.getComputedStyle(u).fontSize,m=window.getComputedStyle(u).letterSpacing;(d!==this.state.fontSize||m!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,l),jt.renderCallByParent(this.props))}}ad(Ur,"displayName","CartesianAxis");ad(Ur,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Xk=["x1","y1","x2","y2","key"],Qk=["offset"],Zk=["xAxisId","yAxisId"],eT=["xAxisId","yAxisId"];function hp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hp(Object(n),!0).forEach(function(s){tT(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hp(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function tT(e,t,n){return(t=rT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rT(e){var t=nT(e,"string");return typeof t=="symbol"?t:t+""}function nT(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zr(){return Zr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Zr.apply(null,arguments)}function Ka(e,t){if(e==null)return{};var n,s,a=sT(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function sT(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var aT=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:s,y:a,width:i,height:l,ry:o}=e;return v.createElement("rect",{x:s,y:a,ry:o,width:i,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function K0(e,t){var n;if(v.isValidElement(e))n=v.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:s,y1:a,x2:i,y2:l,key:o}=t,c=Ka(t,Xk),u=wr(c),{offset:d}=u,m=Ka(u,Qk);n=v.createElement("line",Zr({},m,{x1:s,y1:a,x2:i,y2:l,fill:"none",key:o}))}return n}function iT(e){var{x:t,width:n,horizontal:s=!0,horizontalPoints:a}=e;if(!s||!a||!a.length)return null;var{xAxisId:i,yAxisId:l}=e,o=Ka(e,Zk),c=a.map((u,d)=>{var m=Ze(Ze({},o),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(d),index:d});return K0(s,m)});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function lT(e){var{y:t,height:n,vertical:s=!0,verticalPoints:a}=e;if(!s||!a||!a.length)return null;var{xAxisId:i,yAxisId:l}=e,o=Ka(e,eT),c=a.map((u,d)=>{var m=Ze(Ze({},o),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(d),index:d});return K0(s,m)});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function oT(e){var{horizontalFill:t,fillOpacity:n,x:s,y:a,width:i,height:l,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=o.map(m=>Math.round(m+a-a)).sort((m,h)=>m-h);a!==u[0]&&u.unshift(0);var d=u.map((m,h)=>{var f=!u[h+1],x=f?a+l-m:u[h+1]-m;if(x<=0)return null;var p=h%t.length;return v.createElement("rect",{key:"react-".concat(h),y:m,x:s,height:x,width:i,stroke:"none",fill:t[p],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function cT(e){var{vertical:t=!0,verticalFill:n,fillOpacity:s,x:a,y:i,width:l,height:o,verticalPoints:c}=e;if(!t||!n||!n.length)return null;var u=c.map(m=>Math.round(m+a-a)).sort((m,h)=>m-h);a!==u[0]&&u.unshift(0);var d=u.map((m,h)=>{var f=!u[h+1],x=f?a+l-m:u[h+1]-m;if(x<=0)return null;var p=h%n.length;return v.createElement("rect",{key:"react-".concat(h),x:m,y:i,width:x,height:o,stroke:"none",fill:n[p],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var uT=(e,t)=>{var{xAxis:n,width:s,height:a,offset:i}=e;return Wx(sd(Ze(Ze(Ze({},Ur.defaultProps),n),{},{ticks:Kx(n),viewBox:{x:0,y:0,width:s,height:a}})),i.left,i.left+i.width,t)},dT=(e,t)=>{var{yAxis:n,width:s,height:a,offset:i}=e;return Wx(sd(Ze(Ze(Ze({},Ur.defaultProps),n),{},{ticks:Kx(n),viewBox:{x:0,y:0,width:s,height:a}})),i.top,i.top+i.height,t)},mT={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Ha(e){var t=Xx(),n=Qx(),s=Jx(),a=Ze(Ze({},qt(e,mT)),{},{x:U(e.x)?e.x:s.left,y:U(e.y)?e.y:s.top,width:U(e.width)?e.width:s.width,height:U(e.height)?e.height:s.height}),{xAxisId:i,yAxisId:l,x:o,y:c,width:u,height:d,syncWithTicks:m,horizontalValues:h,verticalValues:f}=a,x=rt(),p=Y(F=>ff(F,"xAxis",i,x)),g=Y(F=>ff(F,"yAxis",l,x));if(!U(u)||u<=0||!U(d)||d<=0||!U(o)||o!==+o||!U(c)||c!==+c)return null;var y=a.verticalCoordinatesGenerator||uT,b=a.horizontalCoordinatesGenerator||dT,{horizontalPoints:j,verticalPoints:N}=a;if((!j||!j.length)&&typeof b=="function"){var w=h&&h.length,S=b({yAxis:g?Ze(Ze({},g),{},{ticks:w?h:g.ticks}):void 0,width:t,height:n,offset:s},w?!0:m);ns(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(j=S)}if((!N||!N.length)&&typeof y=="function"){var O=f&&f.length,k=y({xAxis:p?Ze(Ze({},p),{},{ticks:O?f:p.ticks}):void 0,width:t,height:n,offset:s},O?!0:m);ns(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(N=k)}return v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(aT,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),v.createElement(oT,Zr({},a,{horizontalPoints:j})),v.createElement(cT,Zr({},a,{verticalPoints:N})),v.createElement(iT,Zr({},a,{offset:s,horizontalPoints:j,xAxis:p,yAxis:g})),v.createElement(lT,Zr({},a,{offset:s,verticalPoints:N,xAxis:p,yAxis:g})))}Ha.displayName="CartesianGrid";var H0=(e,t,n,s)=>ar(e,"xAxis",t,s),Y0=(e,t,n,s)=>sr(e,"xAxis",t,s),G0=(e,t,n,s)=>ar(e,"yAxis",n,s),J0=(e,t,n,s)=>sr(e,"yAxis",n,s),hT=D([le,H0,G0,Y0,J0],(e,t,n,s,a)=>or(e,"xAxis")?dn(t,s,!1):dn(n,a,!1)),fT=(e,t,n,s,a)=>a;function pT(e){return e.type==="line"}var xT=D([Ds,fT],(e,t)=>e.filter(pT).find(n=>n.id===t)),gT=D([le,H0,G0,Y0,J0,xT,hT,ks],(e,t,n,s,a,i,l,o)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=o;if(!(i==null||t==null||n==null||s==null||a==null||s.length===0||a.length===0||l==null)){var{dataKey:m,data:h}=i,f;if(h!=null&&h.length>0?f=h:f=c?.slice(u,d+1),f!=null)return LT({layout:e,xAxis:t,yAxis:n,xAxisTicks:s,yAxisTicks:a,dataKey:m,bandSize:l,displayedData:f})}}),vT=["id"],yT=["type","layout","connectNulls","needClip"],bT=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function fp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fp(Object(n),!0).forEach(function(s){jT(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fp(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function jT(e,t,n){return(t=NT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NT(e){var t=wT(e,"string");return typeof t=="symbol"?t:t+""}function wT(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function id(e,t){if(e==null)return{};var n,s,a=PT(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function PT(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function fn(){return fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fn.apply(null,arguments)}var ST=e=>{var{dataKey:t,name:n,stroke:s,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:s,value:Mn(n,t),payload:e}]};function AT(e){var{dataKey:t,data:n,stroke:s,strokeWidth:a,fill:i,name:l,hide:o,unit:c}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:s,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Mn(l,t),hide:o,type:e.tooltipType,color:e.stroke,unit:c}}}var X0=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function CT(e,t){for(var n=e.length%2!==0?[...e,0]:e,s=[],a=0;a<t;++a)s=[...s,...n];return s}var OT=(e,t,n)=>{var s=n.reduce((m,h)=>m+h);if(!s)return X0(t,e);for(var a=Math.floor(e/s),i=e%s,l=t-e,o=[],c=0,u=0;c<n.length;u+=n[c],++c)if(u+n[c]>i){o=[...n.slice(0,c),i-u];break}var d=o.length%2===0?[0,l]:[l];return[...CT(n,a),...o,...d].map(m=>"".concat(m,"px")).join(", ")};function ET(e,t){var n;if(v.isValidElement(e))n=v.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var s=de("recharts-line-dot",typeof e!="boolean"?e.className:"");n=v.createElement(Gu,fn({},t,{className:s}))}return n}function kT(e,t){return e==null?!1:t?!0:e.length===1}function TT(e){var{clipPathId:t,points:n,props:s}=e,{dot:a,dataKey:i,needClip:l}=s;if(!kT(n,a))return null;var{id:o}=s,c=id(s,vT),u=Xa(a),d=wr(c),m=we(a,!0),h=n.map((x,p)=>{var g=Ut(Ut(Ut({key:"dot-".concat(p),r:3},d),m),{},{index:p,cx:x.x,cy:x.y,dataKey:i,value:x.value,payload:x.payload,points:n});return ET(a,g)}),f={clipPath:l?"url(#clipPath-".concat(u?"":"dots-").concat(t,")"):void 0};return v.createElement(tt,fn({className:"recharts-line-dots",key:"dots"},f),h)}function xc(e){var{clipPathId:t,pathRef:n,points:s,strokeDasharray:a,props:i,showLabels:l}=e,{type:o,layout:c,connectNulls:u,needClip:d}=i,m=id(i,yT),h=Ut(Ut({},we(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:s,type:o,layout:c,connectNulls:u,strokeDasharray:a??i.strokeDasharray});return v.createElement(v.Fragment,null,s?.length>1&&v.createElement(rs,fn({},h,{pathRef:n})),v.createElement(TT,{points:s,clipPathId:t,props:i}),l&&pr.renderCallByParent(i,s))}function DT(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function MT(e){var{clipPathId:t,props:n,pathRef:s,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:l,strokeDasharray:o,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:m,animateNewValues:h,width:f,height:x,onAnimationEnd:p,onAnimationStart:g}=n,y=a.current,b=Qu(n,"recharts-line-"),[j,N]=v.useState(!1),w=v.useCallback(()=>{typeof p=="function"&&p(),N(!1)},[p]),S=v.useCallback(()=>{typeof g=="function"&&g(),N(!0)},[g]),O=DT(s.current),k=i.current;return v.createElement(td,{begin:u,duration:d,isActive:c,easing:m,onAnimationEnd:w,onAnimationStart:S,key:b},F=>{var H=Ke(k,O+k,F),z=Math.min(H,O),q;if(o){var G="".concat(o).split(/[,\s]+/gim).map(L=>parseFloat(L));q=OT(z,O,G)}else q=X0(O,z);if(y){var V=y.length/l.length,P=F===1?l:l.map((L,X)=>{var J=Math.floor(X*V);if(y[J]){var ie=y[J];return Ut(Ut({},L),{},{x:Ke(ie.x,L.x,F),y:Ke(ie.y,L.y,F)})}return h?Ut(Ut({},L),{},{x:Ke(f*2,L.x,F),y:Ke(x/2,L.y,F)}):Ut(Ut({},L),{},{x:L.x,y:L.y})});return a.current=P,v.createElement(xc,{props:n,points:P,clipPathId:t,pathRef:s,showLabels:!j,strokeDasharray:q})}return F>0&&O>0&&(a.current=l,i.current=z),v.createElement(xc,{props:n,points:l,clipPathId:t,pathRef:s,showLabels:!j,strokeDasharray:q})})}function IT(e){var{clipPathId:t,props:n}=e,{points:s,isAnimationActive:a}=n,i=v.useRef(null),l=v.useRef(0),o=v.useRef(null),c=i.current;return a&&s&&s.length&&c!==s?v.createElement(MT,{props:n,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:l,pathRef:o}):v.createElement(xc,{props:n,points:s,clipPathId:t,pathRef:o,showLabels:!0})}var RT=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Oe(e.payload,t)});class _T extends v.Component{render(){var t,{hide:n,dot:s,points:a,className:i,xAxisId:l,yAxisId:o,top:c,left:u,width:d,height:m,id:h,needClip:f}=this.props;if(n)return null;var x=de("recharts-line",i),p=h,{r:g=3,strokeWidth:y=2}=(t=we(s,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},b=Xa(s),j=g*2+y;return v.createElement(v.Fragment,null,v.createElement(tt,{className:x},f&&v.createElement("defs",null,v.createElement(rd,{clipPathId:p,xAxisId:l,yAxisId:o}),!b&&v.createElement("clipPath",{id:"clipPath-dots-".concat(p)},v.createElement("rect",{x:u-j/2,y:c-j/2,width:d+j,height:m+j}))),v.createElement(IT,{props:this.props,clipPathId:p}),v.createElement(L0,{xAxisId:l,yAxisId:o,data:a,dataPointFormatter:RT,errorBarOffset:0},this.props.children)),v.createElement(fc,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var Q0={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!pn.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function FT(e){var t=qt(e,Q0),{activeDot:n,animateNewValues:s,animationBegin:a,animationDuration:i,animationEasing:l,connectNulls:o,dot:c,hide:u,isAnimationActive:d,label:m,legendType:h,xAxisId:f,yAxisId:x,id:p}=t,g=id(t,bT),{needClip:y}=ki(f,x),b=Ei(),j=Ss(),N=rt(),w=Y(H=>gT(H,f,x,N,p));if(j!=="horizontal"&&j!=="vertical"||w==null||b==null)return null;var{height:S,width:O,x:k,y:F}=b;return v.createElement(_T,fn({},g,{id:p,connectNulls:o,dot:c,activeDot:n,animateNewValues:s,animationBegin:a,animationDuration:i,animationEasing:l,isAnimationActive:d,hide:u,label:m,legendType:h,xAxisId:f,yAxisId:x,points:w,layout:j,height:S,width:O,left:k,top:F,needClip:y}))}function LT(e){var{layout:t,xAxis:n,yAxis:s,xAxisTicks:a,yAxisTicks:i,dataKey:l,bandSize:o,displayedData:c}=e;return c.map((u,d)=>{var m=Oe(u,l);if(t==="horizontal"){var h=Na({axis:n,ticks:a,bandSize:o,entry:u,index:d}),f=ge(m)?null:s.scale(m);return{x:h,y:f,value:m,payload:u}}var x=ge(m)?null:n.scale(m),p=Na({axis:s,ticks:i,bandSize:o,entry:u,index:d});return x==null||p==null?null:{x,y:p,value:m,payload:u}}).filter(Boolean)}function as(e){var t=qt(e,Q0),n=rt();return v.createElement(Zu,{id:t.id,type:"line"},s=>v.createElement(v.Fragment,null,v.createElement(Xu,{legendPayload:ST(t)}),v.createElement(Ju,{fn:AT,args:t}),v.createElement(ed,{type:"line",id:s,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),v.createElement(FT,fn({},t,{id:s}))))}as.displayName="Line";var Z0=(e,t,n,s)=>ar(e,"xAxis",t,s),ey=(e,t,n,s)=>sr(e,"xAxis",t,s),ty=(e,t,n,s)=>ar(e,"yAxis",n,s),ry=(e,t,n,s)=>sr(e,"yAxis",n,s),$T=D([le,Z0,ty,ey,ry],(e,t,n,s,a)=>or(e,"xAxis")?dn(t,s,!1):dn(n,a,!1)),zT=(e,t,n,s,a)=>a,ny=D([Ds,zT],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),BT=(e,t,n,s,a)=>{var i,l=ny(e,t,n,s,a);if(l!=null){var o=le(e),c=or(o,"xAxis"),u;if(c?u=ys(e,"yAxis",n,s):u=ys(e,"xAxis",t,s),u!=null){var{stackId:d}=l,m=Ni(l);if(!(d==null||m==null)){var h=(i=u[d])===null||i===void 0?void 0:i.stackedData;return h?.find(f=>f.key===m)}}}},qT=D([le,Z0,ty,ey,ry,BT,ks,$T,ny],(e,t,n,s,a,i,l,o,c)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:m}=l;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||s==null||a==null||s.length===0||a.length===0||o==null)){var{data:h}=c,f;if(h&&h.length>0?f=h:f=u?.slice(d,m+1),f!=null){var x=void 0;return oD({layout:e,xAxis:t,yAxis:n,xAxisTicks:s,yAxisTicks:a,dataStartIndex:d,areaSettings:c,stackedData:i,displayedData:f,chartBaseValue:x,bandSize:o})}}}),VT=["id"],UT=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function sy(e,t){if(e==null)return{};var n,s,a=WT(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function WT(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function pp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pp(Object(n),!0).forEach(function(s){KT(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pp(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function KT(e,t,n){return(t=HT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HT(e){var t=YT(e,"string");return typeof t=="symbol"?t:t+""}function YT(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xr(){return xr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xr.apply(null,arguments)}function Ya(e,t){return e&&e!=="none"?e:t}var GT=e=>{var{dataKey:t,name:n,stroke:s,fill:a,legendType:i,hide:l}=e;return[{inactive:l,dataKey:t,type:i,color:Ya(s,a),value:Mn(n,t),payload:e}]};function JT(e){var{dataKey:t,data:n,stroke:s,strokeWidth:a,fill:i,name:l,hide:o,unit:c}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:s,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Mn(l,t),hide:o,type:e.tooltipType,color:Ya(s,i),unit:c}}}var XT=(e,t)=>{var n;if(v.isValidElement(e))n=v.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var s=de("recharts-area-dot",typeof e!="boolean"?e.className:"");n=v.createElement(Gu,xr({},t,{className:s}))}return n};function QT(e,t){return e==null?!1:t?!0:e.length===1}function ZT(e){var{clipPathId:t,points:n,props:s}=e,{needClip:a,dot:i,dataKey:l}=s;if(!QT(n,i))return null;var o=Xa(i),c=wr(s),u=we(i,!0),d=n.map((h,f)=>{var x=en(en(en({key:"dot-".concat(f),r:3},c),u),{},{index:f,cx:h.x,cy:h.y,dataKey:l,value:h.value,payload:h.payload,points:n});return XT(i,x)}),m={clipPath:a?"url(#clipPath-".concat(o?"":"dots-").concat(t,")"):void 0};return v.createElement(tt,xr({className:"recharts-area-dots"},m),d)}function gc(e){var{points:t,baseLine:n,needClip:s,clipPathId:a,props:i,showLabels:l}=e,{layout:o,type:c,stroke:u,connectNulls:d,isRange:m}=i,{id:h}=i,f=sy(i,VT),x=wr(f);return v.createElement(v.Fragment,null,t?.length>1&&v.createElement(tt,{clipPath:s?"url(#clipPath-".concat(a,")"):void 0},v.createElement(rs,xr({},x,{id:h,points:t,connectNulls:d,type:c,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),u!=="none"&&v.createElement(rs,xr({},x,{className:"recharts-area-curve",layout:o,type:c,connectNulls:d,fill:"none",points:t})),u!=="none"&&m&&v.createElement(rs,xr({},x,{className:"recharts-area-curve",layout:o,type:c,connectNulls:d,fill:"none",points:n}))),v.createElement(ZT,{points:t,props:f,clipPathId:a}),l&&pr.renderCallByParent(f,t))}function eD(e){var{alpha:t,baseLine:n,points:s,strokeWidth:a}=e,i=s[0].y,l=s[s.length-1].y;if(!Ye(i)||!Ye(l))return null;var o=t*Math.abs(i-l),c=Math.max(...s.map(u=>u.x||0));return U(n)?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(...n.map(u=>u.x||0),c)),U(c)?v.createElement("rect",{x:0,y:i<l?i:i-o,width:c+(a?parseInt("".concat(a),10):1),height:Math.floor(o)}):null}function tD(e){var{alpha:t,baseLine:n,points:s,strokeWidth:a}=e,i=s[0].x,l=s[s.length-1].x;if(!Ye(i)||!Ye(l))return null;var o=t*Math.abs(i-l),c=Math.max(...s.map(u=>u.y||0));return U(n)?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(...n.map(u=>u.y||0),c)),U(c)?v.createElement("rect",{x:i<l?i:i-o,y:0,width:o,height:Math.floor(c+(a?parseInt("".concat(a),10):1))}):null}function rD(e){var{alpha:t,layout:n,points:s,baseLine:a,strokeWidth:i}=e;return n==="vertical"?v.createElement(eD,{alpha:t,points:s,baseLine:a,strokeWidth:i}):v.createElement(tD,{alpha:t,points:s,baseLine:a,strokeWidth:i})}function nD(e){var{needClip:t,clipPathId:n,props:s,previousPointsRef:a,previousBaselineRef:i}=e,{points:l,baseLine:o,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:m,onAnimationStart:h,onAnimationEnd:f}=s,x=Qu(s,"recharts-area-"),[p,g]=v.useState(!0),y=v.useCallback(()=>{typeof f=="function"&&f(),g(!1)},[f]),b=v.useCallback(()=>{typeof h=="function"&&h(),g(!0)},[h]),j=a.current,N=i.current;return v.createElement(td,{begin:u,duration:d,isActive:c,easing:m,onAnimationEnd:y,onAnimationStart:b,key:x},w=>{if(j){var S=j.length/l.length,O=w===1?l:l.map((F,H)=>{var z=Math.floor(H*S);if(j[z]){var q=j[z];return en(en({},F),{},{x:Ke(q.x,F.x,w),y:Ke(q.y,F.y,w)})}return F}),k;return U(o)?k=Ke(N,o,w):ge(o)||ft(o)?k=Ke(N,0,w):k=o.map((F,H)=>{var z=Math.floor(H*S);if(Array.isArray(N)&&N[z]){var q=N[z];return en(en({},F),{},{x:Ke(q.x,F.x,w),y:Ke(q.y,F.y,w)})}return F}),w>0&&(a.current=O,i.current=k),v.createElement(gc,{points:O,baseLine:k,needClip:t,clipPathId:n,props:s,showLabels:!p})}return w>0&&(a.current=l,i.current=o),v.createElement(tt,null,v.createElement("defs",null,v.createElement("clipPath",{id:"animationClipPath-".concat(n)},v.createElement(rD,{alpha:w,points:l,baseLine:o,layout:s.layout,strokeWidth:s.strokeWidth}))),v.createElement(tt,{clipPath:"url(#animationClipPath-".concat(n,")")},v.createElement(gc,{points:l,baseLine:o,needClip:t,clipPathId:n,props:s,showLabels:!0})))})}function sD(e){var{needClip:t,clipPathId:n,props:s}=e,{points:a,baseLine:i,isAnimationActive:l}=s,o=v.useRef(null),c=v.useRef(),u=o.current,d=c.current;return l&&a&&a.length&&(u!==a||d!==i)?v.createElement(nD,{needClip:t,clipPathId:n,props:s,previousPointsRef:o,previousBaselineRef:c}):v.createElement(gc,{points:a,baseLine:i,needClip:t,clipPathId:n,props:s,showLabels:!0})}class aD extends v.PureComponent{render(){var t,{hide:n,dot:s,points:a,className:i,top:l,left:o,needClip:c,xAxisId:u,yAxisId:d,width:m,height:h,id:f,baseLine:x}=this.props;if(n)return null;var p=de("recharts-area",i),g=f,{r:y=3,strokeWidth:b=2}=(t=we(s,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},j=Xa(s),N=y*2+b;return v.createElement(v.Fragment,null,v.createElement(tt,{className:p},c&&v.createElement("defs",null,v.createElement(rd,{clipPathId:g,xAxisId:u,yAxisId:d}),!j&&v.createElement("clipPath",{id:"clipPath-dots-".concat(g)},v.createElement("rect",{x:o-N/2,y:l-N/2,width:m+N,height:h+N}))),v.createElement(sD,{needClip:c,clipPathId:g,props:this.props})),v.createElement(fc,{points:a,mainColor:Ya(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(x)&&v.createElement(fc,{points:x,mainColor:Ya(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var ay={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!pn.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function iD(e){var t,n=qt(e,ay),{activeDot:s,animationBegin:a,animationDuration:i,animationEasing:l,connectNulls:o,dot:c,fill:u,fillOpacity:d,hide:m,isAnimationActive:h,legendType:f,stroke:x,xAxisId:p,yAxisId:g}=n,y=sy(n,UT),b=Ss(),j=p0(),{needClip:N}=ki(p,g),w=rt(),{points:S,isRange:O,baseLine:k}=(t=Y(V=>qT(V,p,g,w,e.id)))!==null&&t!==void 0?t:{},F=Ei();if(b!=="horizontal"&&b!=="vertical"||F==null||j!=="AreaChart"&&j!=="ComposedChart")return null;var{height:H,width:z,x:q,y:G}=F;return!S||!S.length?null:v.createElement(aD,xr({},y,{activeDot:s,animationBegin:a,animationDuration:i,animationEasing:l,baseLine:k,connectNulls:o,dot:c,fill:u,fillOpacity:d,height:H,hide:m,layout:b,isAnimationActive:h,isRange:O,legendType:f,needClip:N,points:S,stroke:x,width:z,left:q,top:G,xAxisId:p,yAxisId:g}))}var lD=(e,t,n,s,a)=>{var i=n??t;if(U(i))return i;var l=e==="horizontal"?a:s,o=l.scale.domain();if(l.type==="number"){var c=Math.max(o[0],o[1]),u=Math.min(o[0],o[1]);return i==="dataMin"?u:i==="dataMax"||c<0?c:Math.max(Math.min(o[0],o[1]),0)}return i==="dataMin"?o[0]:i==="dataMax"?o[1]:o[0]};function oD(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:s},stackedData:a,layout:i,chartBaseValue:l,xAxis:o,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:m,yAxisTicks:h,bandSize:f}=e,x=a&&a.length,p=lD(i,l,n,o,c),g=i==="horizontal",y=!1,b=u.map((N,w)=>{var S;x?S=a[d+w]:(S=Oe(N,s),Array.isArray(S)?y=!0:S=[p,S]);var O=S[1]==null||x&&!t&&Oe(N,s)==null;return g?{x:Na({axis:o,ticks:m,bandSize:f,entry:N,index:w}),y:O?null:c.scale(S[1]),value:S,payload:N}:{x:O?null:o.scale(S[1]),y:Na({axis:c,ticks:h,bandSize:f,entry:N,index:w}),value:S,payload:N}}),j;return x||y?j=b.map(N=>{var w=Array.isArray(N.value)?N.value[0]:null;return g?{x:N.x,y:w!=null&&N.y!=null?c.scale(w):null,payload:N.payload}:{x:w!=null?o.scale(w):null,y:N.y,payload:N.payload}}):j=g?c.scale(p):o.scale(p),{points:b,baseLine:j,isRange:y}}function vc(e){var t=qt(e,ay),n=rt();return v.createElement(Zu,{id:t.id,type:"area"},s=>v.createElement(v.Fragment,null,v.createElement(Xu,{legendPayload:GT(t)}),v.createElement(Ju,{fn:JT,args:t}),v.createElement(ed,{type:"area",id:s,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:Hx(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),v.createElement(iD,xr({},t,{id:s}))))}vc.displayName="Area";function xp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function gp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xp(Object(n),!0).forEach(function(s){cD(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xp(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function cD(e,t,n){return(t=uD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uD(e){var t=dD(e,"string");return typeof t=="symbol"?t:t+""}function dD(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mD={xAxis:{},yAxis:{},zAxis:{}},iy=Ot({name:"cartesianAxis",initialState:mD,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:s}=t.payload;e.yAxis[n]&&(e.yAxis[n]=gp(gp({},e.yAxis[n]),{},{width:s}))}}}),{addXAxis:hD,removeXAxis:fD,addYAxis:pD,removeYAxis:xD,addZAxis:HI,removeZAxis:YI,updateYAxisWidth:gD}=iy.actions,vD=iy.reducer,yD=["children"],bD=["dangerouslySetInnerHTML","ticks"];function ly(e,t,n){return(t=jD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jD(e){var t=ND(e,"string");return typeof t=="symbol"?t:t+""}function ND(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yc(){return yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yc.apply(null,arguments)}function oy(e,t){if(e==null)return{};var n,s,a=wD(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function wD(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function PD(e){var t=$e(),n=v.useMemo(()=>{var{children:i}=e,l=oy(e,yD);return l},[e]),s=Y(i=>Cr(i,n.id)),a=n===s;return v.useEffect(()=>(t(hD(n)),()=>{t(fD(n))}),[n,t]),a?e.children:null}var SD=e=>{var{xAxisId:t,className:n}=e,s=Y(Gx),a=rt(),i="xAxis",l=Y(f=>$n(f,i,t,a)),o=Y(f=>Yv(f,i,t,a)),c=Y(f=>Uv(f,t)),u=Y(f=>KA(f,t));if(c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:m}=e,h=oy(e,bD);return v.createElement(Ur,yc({},h,{scale:l,x:u.x,y:u.y,width:c.width,height:c.height,className:de("recharts-".concat(i," ").concat(i),n),viewBox:s,ticks:o}))},AD=e=>{var t,n,s,a,i;return v.createElement(PD,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(s=e.angle)!==null&&s!==void 0?s:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter},v.createElement(SD,e))};class js extends v.Component{render(){return v.createElement(AD,this.props)}}ly(js,"displayName","XAxis");ly(js,"defaultProps",{allowDataOverflow:vt.allowDataOverflow,allowDecimals:vt.allowDecimals,allowDuplicatedCategory:vt.allowDuplicatedCategory,height:vt.height,hide:!1,mirror:vt.mirror,orientation:vt.orientation,padding:vt.padding,reversed:vt.reversed,scale:vt.scale,tickCount:vt.tickCount,type:vt.type,xAxisId:0});var CD=e=>{var{ticks:t,label:n,labelGapWithTick:s=5,tickSize:a=0,tickMargin:i=0}=e,l=0;if(t){t.forEach(d=>{if(d){var m=d.getBoundingClientRect();m.width>l&&(l=m.width)}});var o=n?n.getBoundingClientRect().width:0,c=a+i,u=l+c+o+(n?s:0);return Math.round(u)}return 0},OD=["dangerouslySetInnerHTML","ticks"];function cy(e,t,n){return(t=ED(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ED(e){var t=kD(e,"string");return typeof t=="symbol"?t:t+""}function kD(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bc(){return bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},bc.apply(null,arguments)}function TD(e,t){if(e==null)return{};var n,s,a=DD(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function DD(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function MD(e){var t=$e();return v.useEffect(()=>(t(pD(e)),()=>{t(xD(e))}),[e,t]),null}var ID=e=>{var t,{yAxisId:n,className:s,width:a,label:i}=e,l=v.useRef(null),o=v.useRef(null),c=Y(Gx),u=rt(),d=$e(),m="yAxis",h=Y(j=>$n(j,m,n,u)),f=Y(j=>Wv(j,n)),x=Y(j=>HA(j,n)),p=Y(j=>Yv(j,m,n,u));if(v.useLayoutEffect(()=>{var j;if(!(a!=="auto"||!f||Yu(i)||v.isValidElement(i))){var N=l.current,w=N==null||(j=N.tickRefs)===null||j===void 0?void 0:j.current,{tickSize:S,tickMargin:O}=N.props,k=CD({ticks:w,label:o.current,labelGapWithTick:5,tickSize:S,tickMargin:O});Math.round(f.width)!==Math.round(k)&&d(gD({id:n,width:k}))}},[l,l==null||(t=l.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,f?.width,f,d,i,n,a]),f==null||x==null)return null;var{dangerouslySetInnerHTML:g,ticks:y}=e,b=TD(e,OD);return v.createElement(Ur,bc({},b,{ref:l,labelRef:o,scale:h,x:x.x,y:x.y,width:f.width,height:f.height,className:de("recharts-".concat(m," ").concat(m),s),viewBox:c,ticks:p}))},RD=e=>{var t,n,s,a,i;return v.createElement(v.Fragment,null,v.createElement(MD,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(s=e.angle)!==null&&s!==void 0?s:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),v.createElement(ID,e))},_D={allowDataOverflow:yt.allowDataOverflow,allowDecimals:yt.allowDecimals,allowDuplicatedCategory:yt.allowDuplicatedCategory,hide:!1,mirror:yt.mirror,orientation:yt.orientation,padding:yt.padding,reversed:yt.reversed,scale:yt.scale,tickCount:yt.tickCount,type:yt.type,width:yt.width,yAxisId:0};class Ns extends v.Component{render(){return v.createElement(RD,this.props)}}cy(Ns,"displayName","YAxis");cy(Ns,"defaultProps",_D);var yo={exports:{}},bo={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp;function FD(){if(vp)return bo;vp=1;var e=wc();function t(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var n=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,a=e.useRef,i=e.useEffect,l=e.useMemo,o=e.useDebugValue;return bo.useSyncExternalStoreWithSelector=function(c,u,d,m,h){var f=a(null);if(f.current===null){var x={hasValue:!1,value:null};f.current=x}else x=f.current;f=l(function(){function g(w){if(!y){if(y=!0,b=w,w=m(w),h!==void 0&&x.hasValue){var S=x.value;if(h(S,w))return j=S}return j=w}if(S=j,n(b,w))return S;var O=m(w);return h!==void 0&&h(S,O)?(b=w,S):(b=w,j=O)}var y=!1,b,j,N=d===void 0?null:d;return[function(){return g(u())},N===null?void 0:function(){return g(N())}]},[u,d,m,h]);var p=s(c,f[0],f[1]);return i(function(){x.hasValue=!0,x.value=p},[p]),o(p),p},bo}var yp;function LD(){return yp||(yp=1,yo.exports=FD()),yo.exports}LD();function $D(e){e()}function zD(){let e=null,t=null;return{clear(){e=null,t=null},notify(){$D(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let s=e;for(;s;)n.push(s),s=s.next;return n},subscribe(n){let s=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!s||e===null||(s=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var bp={notify(){},get:()=>[]};function BD(e,t){let n,s=bp,a=0,i=!1;function l(p){d();const g=s.subscribe(p);let y=!1;return()=>{y||(y=!0,g(),m())}}function o(){s.notify()}function c(){x.onStateChange&&x.onStateChange()}function u(){return i}function d(){a++,n||(n=e.subscribe(c),s=zD())}function m(){a--,n&&a===0&&(n(),n=void 0,s.clear(),s=bp)}function h(){i||(i=!0,d())}function f(){i&&(i=!1,m())}const x={addNestedSub:l,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:f,getListeners:()=>s};return x}var qD=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VD=qD(),UD=()=>typeof navigator<"u"&&navigator.product==="ReactNative",WD=UD(),KD=()=>VD||WD?v.useLayoutEffect:v.useEffect,HD=KD(),YD=Symbol.for("react-redux-context"),GD=typeof globalThis<"u"?globalThis:{};function JD(){if(!v.createContext)return{};const e=GD[YD]??=new Map;let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var XD=JD();function QD(e){const{children:t,context:n,serverState:s,store:a}=e,i=v.useMemo(()=>{const c=BD(a);return{store:a,subscription:c,getServerState:s?()=>s:void 0}},[a,s]),l=v.useMemo(()=>a.getState(),[a]);HD(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,l]);const o=n||XD;return v.createElement(o.Provider,{value:i},t)}var ZD=QD,eM=(e,t)=>t,ld=D([eM,le,hv,Ie,c0,Or,XC,ze],rO),od=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,s=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/s)}},uy=zt("mouseClick"),dy=Ps();dy.startListening({actionCreator:uy,effect:(e,t)=>{var n=e.payload,s=ld(t.getState(),od(n));s?.activeIndex!=null&&t.dispatch(iC({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}});var jc=zt("mouseMove"),my=Ps();my.startListening({actionCreator:jc,effect:(e,t)=>{var n=e.payload,s=t.getState(),a=Fu(s,s.tooltip.settings.shared),i=ld(s,od(n));a==="axis"&&(i?.activeIndex!=null?t.dispatch(r0({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(t0()))}});function tM(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var jp={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},hy=Ot({name:"rootProps",initialState:jp,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:jp.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),rM=hy.reducer,{updateOptions:nM}=hy.actions,fy=Ot({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:GI}=fy.actions,sM=fy.reducer,py=zt("keyDown"),xy=zt("focus"),cd=Ps();cd.startListening({actionCreator:py,effect:(e,t)=>{var n=t.getState(),s=n.rootProps.accessibilityLayer!==!1;if(s){var{keyboardInteraction:a}=n.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var l=Number(Lu(a,Bn(n))),o=Or(n);if(i==="Enter"){var c=za(n,"axis","hover",String(a.index));t.dispatch(lc({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var u=XA(n),d=u==="left-to-right"?1:-1,m=i==="ArrowRight"?1:-1,h=l+m*d;if(!(o==null||h>=o.length||h<0)){var f=za(n,"axis","hover",String(h));t.dispatch(lc({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:f}))}}}}});cd.startListening({actionCreator:xy,effect:(e,t)=>{var n=t.getState(),s=n.rootProps.accessibilityLayer!==!1;if(s){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var i="0",l=za(n,"axis","hover",String(i));t.dispatch(lc({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:l}))}}}});var Tt=zt("externalEvent"),gy=Ps();gy.startListening({actionCreator:Tt,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),s={activeCoordinate:qC(n),activeDataKey:h0(n),activeIndex:hn(n),activeLabel:m0(n),activeTooltipIndex:hn(n),isTooltipActive:VC(n)};e.payload.handler(s,e.payload.reactEvent)}}});var aM=D([zn],e=>e.tooltipItemPayloads),iM=D([aM,_s,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,s)=>{var a=e.find(o=>o.settings.dataKey===s);if(a!=null){var{positions:i}=a;if(i!=null){var l=t(i,n);return l}}}),vy=zt("touchMove"),yy=Ps();yy.startListening({actionCreator:vy,effect:(e,t)=>{var n=e.payload,s=t.getState(),a=Fu(s,s.tooltip.settings.shared);if(a==="axis"){var i=ld(s,od({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));i?.activeIndex!=null&&t.dispatch(r0({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var l,o=n.touches[0],c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(_w),d=(l=c.getAttribute(Fw))!==null&&l!==void 0?l:void 0,m=iM(t.getState(),u,d);t.dispatch(e0({activeDataKey:d,activeIndex:u,activeCoordinate:m}))}}});var lM=jx({brush:Ck,cartesianAxis:vD,chartData:vO,errorBars:k4,graphicalItems:c4,layout:iw,legend:Yw,options:hO,polarAxis:FE,polarOptions:sM,referenceElements:Ik,rootProps:rM,tooltip:lC}),oM=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return TN({reducer:lM,preloadedState:t,middleware:s=>s({serializableCheck:!1}).concat([dy.middleware,my.middleware,cd.middleware,gy.middleware,yy.middleware]),devTools:{serialize:{replacer:tM},name:"recharts-".concat(n)}})};function cM(e){var{preloadedState:t,children:n,reduxStoreName:s}=e,a=rt(),i=v.useRef(null);if(a)return n;i.current==null&&(i.current=oM(t,s));var l=qc;return v.createElement(ZD,{context:l,store:i.current},n)}function uM(e){var{layout:t,width:n,height:s,margin:a}=e,i=$e(),l=rt();return v.useEffect(()=>{l||(i(nw(t)),i(sw({width:n,height:s})),i(rw(a)))},[i,l,t,n,s,a]),null}function dM(e){var t=$e();return v.useEffect(()=>{t(nM(e))},[t,e]),null}var mM=["children"];function hM(e,t){if(e==null)return{};var n,s,a=fM(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function fM(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function Ga(){return Ga=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ga.apply(null,arguments)}var pM={width:"100%",height:"100%"},xM=v.forwardRef((e,t)=>{var n=Xx(),s=Qx(),a=eg();if(!wa(n)||!wa(s))return null;var{children:i,otherAttributes:l,title:o,desc:c}=e,u,d;return typeof l.tabIndex=="number"?u=l.tabIndex:u=a?0:void 0,typeof l.role=="string"?d=l.role:d=a?"application":void 0,v.createElement(Wp,Ga({},l,{title:o,desc:c,role:d,tabIndex:u,width:n,height:s,style:pM,ref:t}),i)}),gM=e=>{var{children:t}=e,n=Y(ui);if(!n)return null;var{width:s,height:a,y:i,x:l}=n;return v.createElement(Wp,{width:s,height:a,x:l,y:i},t)},Np=v.forwardRef((e,t)=>{var{children:n}=e,s=hM(e,mM),a=rt();return a?v.createElement(gM,null,n):v.createElement(xM,Ga({ref:t},s),n)});function vM(){var e=$e(),[t,n]=v.useState(null),s=Y(Rw);return v.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Ye(i)&&i!==s&&e(aw(i))}},[t,e,s]),n}function wp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function yM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wp(Object(n),!0).forEach(function(s){bM(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wp(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function bM(e,t,n){return(t=jM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jM(e){var t=NM(e,"string");return typeof t=="symbol"?t:t+""}function NM(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wM=v.forwardRef((e,t)=>{var{children:n,className:s,height:a,onClick:i,onContextMenu:l,onDoubleClick:o,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:m,onMouseUp:h,onTouchEnd:f,onTouchMove:x,onTouchStart:p,style:g,width:y}=e,b=$e(),[j,N]=v.useState(null),[w,S]=v.useState(null);jO();var O=vM(),k=v.useCallback(Q=>{O(Q),typeof t=="function"&&t(Q),N(Q),S(Q)},[O,t,N,S]),F=v.useCallback(Q=>{b(uy(Q)),b(Tt({handler:i,reactEvent:Q}))},[b,i]),H=v.useCallback(Q=>{b(jc(Q)),b(Tt({handler:u,reactEvent:Q}))},[b,u]),z=v.useCallback(Q=>{b(t0()),b(Tt({handler:d,reactEvent:Q}))},[b,d]),q=v.useCallback(Q=>{b(jc(Q)),b(Tt({handler:m,reactEvent:Q}))},[b,m]),G=v.useCallback(()=>{b(xy())},[b]),V=v.useCallback(Q=>{b(py(Q.key))},[b]),P=v.useCallback(Q=>{b(Tt({handler:l,reactEvent:Q}))},[b,l]),L=v.useCallback(Q=>{b(Tt({handler:o,reactEvent:Q}))},[b,o]),X=v.useCallback(Q=>{b(Tt({handler:c,reactEvent:Q}))},[b,c]),J=v.useCallback(Q=>{b(Tt({handler:h,reactEvent:Q}))},[b,h]),ie=v.useCallback(Q=>{b(Tt({handler:p,reactEvent:Q}))},[b,p]),Ge=v.useCallback(Q=>{b(vy(Q)),b(Tt({handler:x,reactEvent:Q}))},[b,x]),qe=v.useCallback(Q=>{b(Tt({handler:f,reactEvent:Q}))},[b,f]);return v.createElement(b0.Provider,{value:j},v.createElement(Cb.Provider,{value:w},v.createElement("div",{className:de("recharts-wrapper",s),style:yM({position:"relative",cursor:"default",width:y,height:a},g),onClick:F,onContextMenu:P,onDoubleClick:L,onFocus:G,onKeyDown:V,onMouseDown:X,onMouseEnter:H,onMouseLeave:z,onMouseMove:q,onMouseUp:J,onTouchEnd:qe,onTouchMove:Ge,onTouchStart:ie,ref:k},n)))}),PM=["children","className","width","height","style","compact","title","desc"];function SM(e,t){if(e==null)return{};var n,s,a=AM(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function AM(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var CM=v.forwardRef((e,t)=>{var{children:n,className:s,width:a,height:i,style:l,compact:o,title:c,desc:u}=e,d=SM(e,PM),m=wr(d);return o?v.createElement(Np,{otherAttributes:m,title:c,desc:u},n):v.createElement(wM,{className:s,style:l,width:a,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(Np,{otherAttributes:m,title:c,desc:u,ref:t},v.createElement(_k,null,n)))}),OM=["width","height"];function Nc(){return Nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Nc.apply(null,arguments)}function EM(e,t){if(e==null)return{};var n,s,a=kM(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function kM(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}var TM={top:5,right:5,bottom:5,left:5},DM={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:TM,reverseStackOrder:!1,syncMethod:"index"},ud=v.forwardRef(function(t,n){var s,a=qt(t.categoricalChartProps,DM),{width:i,height:l}=a,o=EM(a,OM);if(!wa(i)||!wa(l))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:m,categoricalChartProps:h}=t,f={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:m,eventEmitter:void 0};return v.createElement(cM,{preloadedState:{options:f},reduxStoreName:(s=h.id)!==null&&s!==void 0?s:c},v.createElement(Ak,{chartData:h.data}),v.createElement(uM,{width:i,height:l,layout:a.layout,margin:a.margin}),v.createElement(dM,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),v.createElement(CM,Nc({},o,{width:i,height:l,ref:n})))}),MM=["axis"],IM=v.forwardRef((e,t)=>v.createElement(ud,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:MM,tooltipPayloadSearcher:Ku,categoricalChartProps:e,ref:t})),RM=["axis","item"],_M=v.forwardRef((e,t)=>v.createElement(ud,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:RM,tooltipPayloadSearcher:Ku,categoricalChartProps:e,ref:t})),FM=["axis"],LM=v.forwardRef((e,t)=>v.createElement(ud,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:FM,tooltipPayloadSearcher:Ku,categoricalChartProps:e,ref:t}));const Xe=(e,t=!1)=>t&&e>=1e6?`${(e/1e6).toFixed(1)}M$`:t&&e>=1e3?`${(e/1e3).toFixed(0)}k$`:new Intl.NumberFormat("fr-CA",{style:"currency",currency:"CAD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),$M=({calculations:e,userData:t})=>{const[n,s]=v.useState("overview"),[a,i]=v.useState("moderate"),{monteCarloResults:l}=e,o=v.useMemo(()=>{if(!l)return null;const{statistics:u,riskAnalysis:d}=l,m=f=>{const x=Object.values(f).filter(g=>typeof g=="number"),p=x.reduce((g,y)=>g+y,0)/x.length;return p<.3?"FAIBLE":p<.6?"MOD√âR√â":"√âLEV√â"},h=f=>f>=.85?"√âLEV√â":f>=.7?"MOD√âR√â":"FAIBLE";return{successRate:u.successRate*100,medianValue:u.medianFinalValue,worstCase:u.worstCase5th,bestCase:u.bestCase95th,riskLevel:m(d),confidenceLevel:h(u.successRate)}},[l]),c=v.useMemo(()=>l?.chartData?{projections:l.chartData.yearlyProjections,distribution:l.chartData.distributionData,sensitivity:l.chartData.sensitivityData}:null,[l]);return l?r.jsxs("div",{className:"w-full space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(ea,{title:"Taux de succ√®s",value:`${o.successRate.toFixed(1)}%`,icon:r.jsx(Rt,{className:"w-5 h-5"}),trend:o.successRate>=80?"positive":o.successRate>=60?"neutral":"negative",description:"Probabilit√© que votre capital dure toute votre vie"}),r.jsx(ea,{title:"Valeur m√©diane projet√©e",value:Xe(o.medianValue,!0),icon:r.jsx(et,{className:"w-5 h-5"}),trend:"positive",description:"Valeur la plus probable de votre portfolio"}),r.jsx(ea,{title:"Niveau de risque",value:o.riskLevel,icon:r.jsx(ue,{className:"w-5 h-5"}),trend:o.riskLevel==="FAIBLE"?"positive":o.riskLevel==="MOD√âR√â"?"neutral":"negative",description:"√âvaluation globale des risques identifi√©s"}),r.jsx(ea,{title:"Niveau de confiance",value:o.confidenceLevel,icon:r.jsx(ir,{className:"w-5 h-5"}),trend:o.confidenceLevel==="√âLEV√â"?"positive":"neutral",description:"Fiabilit√© de votre strat√©gie actuelle"})]}),r.jsxs(Jt,{value:n,onValueChange:s,className:"w-full",children:[r.jsxs(Xt,{className:"grid w-full grid-cols-5",children:[r.jsx(re,{value:"overview",children:"Vue d'ensemble"}),r.jsx(re,{value:"projections",children:"Projections"}),r.jsx(re,{value:"scenarios",children:"Sc√©narios"}),r.jsx(re,{value:"risks",children:"Analyse des risques"}),r.jsx(re,{value:"recommendations",children:"Recommandations"})]}),r.jsx(ee,{value:"overview",className:"space-y-6",children:r.jsx(zM,{calculations:e,monteCarloResults:l,userData:t})}),r.jsx(ee,{value:"projections",className:"space-y-6",children:r.jsx(BM,{chartData:c,monteCarloResults:l})}),r.jsx(ee,{value:"scenarios",className:"space-y-6",children:r.jsx(qM,{scenarios:l.scenarios,selectedScenario:a,onScenarioChange:i})}),r.jsx(ee,{value:"risks",className:"space-y-6",children:r.jsx(VM,{riskAnalysis:l.riskAnalysis,statistics:l.statistics})}),r.jsx(ee,{value:"recommendations",className:"space-y-6",children:r.jsx(UM,{recommendations:l.recommendations,calculations:e,userData:t})})]})]}):r.jsxs(C,{className:"w-full",children:[r.jsx(M,{children:r.jsxs(R,{className:"flex items-center gap-2",children:[r.jsx(mt,{className:"w-5 h-5"}),"Simulations avanc√©es"]})}),r.jsx(E,{children:r.jsxs(Se,{children:[r.jsx(Le,{className:"w-4 h-4"}),r.jsx(Ae,{children:"Les simulations Monte Carlo avanc√©es sont en cours de calcul ou non disponibles. Utilisez la m√©thode calculateAllAdvanced() pour obtenir les r√©sultats complets."})]})})]})},zM=({calculations:e,monteCarloResults:t,userData:n})=>r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(C,{children:[r.jsx(M,{children:r.jsxs(R,{className:"flex items-center gap-2",children:[r.jsx(ct,{className:"w-5 h-5"}),"Projection de votre capital"]})}),r.jsx(E,{children:r.jsx(dc,{width:"100%",height:300,children:r.jsxs(LM,{data:t.chartData.yearlyProjections,children:[r.jsx(Ha,{strokeDasharray:"3 3"}),r.jsx(js,{dataKey:"age"}),r.jsx(Ns,{tickFormatter:s=>Xe(s,!0)}),r.jsx(uc,{labelFormatter:s=>`√Çge: ${s} ans`,formatter:(s,a)=>[Xe(Number(s)),a]}),r.jsx(vc,{type:"monotone",dataKey:"percentile95",stackId:"1",stroke:"#10B981",fill:"#10B981",fillOpacity:.1,name:"Sc√©nario optimiste (95e percentile)"}),r.jsx(vc,{type:"monotone",dataKey:"percentile5",stackId:"1",stroke:"#EF4444",fill:"#EF4444",fillOpacity:.1,name:"Sc√©nario pessimiste (5e percentile)"}),r.jsx(as,{type:"monotone",dataKey:"medianValue",stroke:"#3B82F6",strokeWidth:3,name:"Sc√©nario m√©dian"})]})})})]}),r.jsxs(C,{children:[r.jsx(M,{children:r.jsxs(R,{className:"flex items-center gap-2",children:[r.jsx(Zy,{className:"w-5 h-5"}),"Distribution des r√©sultats"]})}),r.jsx(E,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Succ√®s complet"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(lr,{value:t.statistics.successRate*100,className:"w-24"}),r.jsxs("span",{className:"text-sm font-medium",children:[(t.statistics.successRate*100).toFixed(1),"%"]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[r.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-green-700",children:Xe(t.statistics.bestCase95th,!0)}),r.jsx("div",{className:"text-sm text-green-600",children:"Sc√©nario optimiste"})]}),r.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-red-700",children:Xe(t.statistics.worstCase5th,!0)}),r.jsx("div",{className:"text-sm text-red-600",children:"Sc√©nario pessimiste"})]})]})]})})]}),r.jsxs(C,{children:[r.jsx(M,{children:r.jsxs(R,{className:"flex items-center gap-2",children:[r.jsx(it,{className:"w-5 h-5"}),"Vos revenus de retraite"]})}),r.jsx(E,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{children:"RRQ/CPP"}),r.jsx("span",{className:"font-medium",children:Xe((e.rrqOptimization?.person1?.montantMensuelActuel||0)*12)})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{children:"S√©curit√© de la vieillesse + SRG"}),r.jsx("span",{className:"font-medium",children:Xe((e.oasGisProjection?.householdTotal?.monthlyOAS||0)*12)})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{children:"Retraits REER/Placements"}),r.jsx("span",{className:"font-medium",children:Xe(e.retirementCapital*.04)})]}),r.jsx("hr",{}),r.jsxs("div",{className:"flex justify-between items-center font-bold",children:[r.jsx("span",{children:"Total annuel estim√©"}),r.jsx("span",{children:Xe((e.rrqOptimization?.person1?.montantMensuelActuel||0)*12+(e.oasGisProjection?.householdTotal?.monthlyOAS||0)*12+e.retirementCapital*.04)})]})]})})]}),r.jsxs(C,{children:[r.jsx(M,{children:r.jsxs(R,{className:"flex items-center gap-2",children:[r.jsx(Zn,{className:"w-5 h-5"}),"Sant√© financi√®re"]})}),r.jsx(E,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsx(jo,{label:"Suffisance du capital",value:e.sufficiency,type:"percentage",threshold:80}),r.jsx(jo,{label:"Taux de remplacement",value:75,type:"percentage",threshold:70}),r.jsx(jo,{label:"Protection inflation",value:65,type:"percentage",threshold:60})]})})]})]}),BM=({chartData:e,monteCarloResults:t})=>e?r.jsxs("div",{className:"space-y-6",children:[r.jsxs(C,{children:[r.jsx(M,{children:r.jsx(R,{children:"Projections d√©taill√©es sur 30 ans"})}),r.jsx(E,{children:r.jsx(dc,{width:"100%",height:400,children:r.jsxs(IM,{data:e.projections,children:[r.jsx(Ha,{strokeDasharray:"3 3"}),r.jsx(js,{dataKey:"age",label:{value:"√Çge",position:"insideBottom",offset:-5}}),r.jsx(Ns,{label:{value:"Valeur du portfolio ($)",angle:-90,position:"insideLeft"},tickFormatter:n=>Xe(n,!0)}),r.jsx(uc,{labelFormatter:n=>`√Çge: ${n} ans`,formatter:(n,s)=>[Xe(n),s]}),r.jsx(as,{type:"monotone",dataKey:"percentile95",stroke:"#10B981",strokeWidth:2,strokeDasharray:"5 5",name:"95e percentile (optimiste)"}),r.jsx(as,{type:"monotone",dataKey:"medianValue",stroke:"#3B82F6",strokeWidth:3,name:"M√©diane (probable)"}),r.jsx(as,{type:"monotone",dataKey:"percentile5",stroke:"#EF4444",strokeWidth:2,strokeDasharray:"5 5",name:"5e percentile (pessimiste)"})]})})})]}),r.jsxs(C,{children:[r.jsx(M,{children:r.jsx(R,{children:"Retraits annuels projet√©s"})}),r.jsx(E,{children:r.jsx(dc,{width:"100%",height:300,children:r.jsxs(_M,{data:e.projections,children:[r.jsx(Ha,{strokeDasharray:"3 3"}),r.jsx(js,{dataKey:"age"}),r.jsx(Ns,{tickFormatter:n=>Xe(n,!0)}),r.jsx(uc,{labelFormatter:n=>`√Çge: ${n} ans`,formatter:n=>[Xe(n),"Retrait annuel"]}),r.jsx(B0,{dataKey:"withdrawal",fill:"#8884d8"})]})})})]})]}):r.jsx("div",{children:"Donn√©es de projection non disponibles"}),qM=({scenarios:e,selectedScenario:t,onScenarioChange:n})=>{const s=[{key:"conservative",name:"Conservateur",description:"25e percentile - Prudent",color:"bg-red-100 text-red-800"},{key:"moderate",name:"Mod√©r√©",description:"50e percentile - √âquilibr√©",color:"bg-blue-100 text-blue-800"},{key:"optimistic",name:"Optimiste",description:"75e percentile - Croissance",color:"bg-green-100 text-green-800"},{key:"stressTest",name:"Test de stress",description:"5e percentile - Pire cas",color:"bg-red-200 text-red-900"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:s.map(a=>r.jsx(C,{className:`cursor-pointer transition-all ${t===a.key?"ring-2 ring-blue-500":""}`,onClick:()=>n(a.key),children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Z,{className:a.color,children:a.name}),r.jsx("div",{className:"mt-2 text-sm text-gray-600",children:a.description}),r.jsx("div",{className:"mt-3 text-2xl font-bold",children:Xe(e[a.key]?.finalValue||0,!0)}),r.jsx("div",{className:"text-sm text-gray-500",children:"Valeur finale"})]})})},a.key))}),r.jsxs(C,{children:[r.jsx(M,{children:r.jsxs(R,{children:["D√©tails du sc√©nario ",s.find(a=>a.key===t)?.name]})}),r.jsx(E,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Valeur finale"}),r.jsx("div",{className:"text-2xl font-bold",children:Xe(e[t]?.finalValue||0)})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Rendement annuel moyen"}),r.jsxs("div",{className:"text-xl font-semibold",children:[((e[t]?.averageAnnualReturn||0)*100).toFixed(1),"%"]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-600",children:"√Çge d'√©puisement"}),r.jsx("div",{className:"text-xl font-semibold",children:e[t]?.depletionAge||"Aucun"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Perte maximale"}),r.jsxs("div",{className:"text-xl font-semibold text-red-600",children:[((e[t]?.maxDrawdown||0)*100).toFixed(1),"%"]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Score de durabilit√©"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(lr,{value:e[t]?.sustainabilityScore||0,className:"flex-1"}),r.jsxs("span",{className:"text-sm font-medium",children:[e[t]?.sustainabilityScore||0,"/100"]})]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Valeur ajust√©e inflation"}),r.jsx("div",{className:"text-xl font-semibold",children:Xe(e[t]?.inflationAdjustedValue||0,!0)})]})]})]})})]})]})},VM=({riskAnalysis:e,statistics:t})=>{const n=[{name:"Risque de long√©vit√©",value:e.longevityRisk,description:"Risque de vivre plus longtemps que pr√©vu",mitigation:"Maximiser les revenus viagers (RRQ, SV)"},{name:"Risque d'inflation",value:e.inflationRisk,description:"Risque d'√©rosion du pouvoir d'achat",mitigation:"Augmenter l'allocation en actions et actifs r√©els"},{name:"Risque de s√©quence des rendements",value:e.sequenceOfReturnsRisk,description:"Risque de mauvais rendements en d√©but de retraite",mitigation:"Constituer une r√©serve de liquidit√©s de 3-5 ans"},{name:"Risque de crash de march√©",value:e.marketCrashRisk,description:"Risque de correction majeure des march√©s",mitigation:"Diversification et strat√©gie de retrait flexible"},{name:"Risque de retrait non-soutenable",value:e.withdrawalUnsustainability,description:"Risque que le taux de retrait soit trop √©lev√©",mitigation:'Utiliser des "guardrails" pour ajuster les retraits'}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(C,{children:[r.jsx(M,{children:r.jsxs(R,{className:"flex items-center gap-2",children:[r.jsx(wt,{className:"w-5 h-5"}),"Analyse des risques de votre strat√©gie"]})}),r.jsx(E,{children:r.jsx("div",{className:"space-y-4",children:n.map((s,a)=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"font-medium",children:s.name}),r.jsx(WM,{level:s.value})]}),r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(lr,{value:s.value*100,className:"flex-1"}),r.jsxs("span",{className:"text-sm text-gray-600",children:[(s.value*100).toFixed(0),"%"]})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:s.description}),r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"font-medium text-blue-600",children:"Strat√©gie d'att√©nuation: "}),s.mitigation]})]},a))})})]}),r.jsxs(C,{children:[r.jsx(M,{children:r.jsx(R,{children:"Matrice de probabilit√© vs impact"})}),r.jsx(E,{children:r.jsxs("div",{className:"grid grid-cols-3 gap-2 h-64",children:[r.jsx("div",{className:"bg-green-100 border rounded flex items-center justify-center text-sm",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-medium",children:"Faible/Faible"}),r.jsx("div",{className:"text-xs text-gray-600",children:"Risques mineurs"})]})}),r.jsx("div",{className:"bg-yellow-100 border rounded flex items-center justify-center text-sm",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-medium",children:"Faible/Moyen"}),r.jsx("div",{className:"text-xs text-gray-600",children:"Surveillance"})]})}),r.jsx("div",{className:"bg-orange-100 border rounded flex items-center justify-center text-sm",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-medium",children:"Faible/√âlev√©"}),r.jsx("div",{className:"text-xs text-gray-600",children:"√Ä surveiller"})]})}),r.jsx("div",{className:"bg-yellow-100 border rounded flex items-center justify-center text-sm",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-medium",children:"Moyen/Faible"}),r.jsx("div",{className:"text-xs text-gray-600",children:"Acceptable"})]})}),r.jsx("div",{className:"bg-orange-100 border rounded flex items-center justify-center text-sm",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-medium",children:"Moyen/Moyen"}),r.jsxs("div",{className:"text-xs text-gray-600",children:[n.filter(s=>s.value>=.3&&s.value<.7).length," risques"]})]})}),r.jsx("div",{className:"bg-red-100 border rounded flex items-center justify-center text-sm",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-medium",children:"Moyen/√âlev√©"}),r.jsx("div",{className:"text-xs text-gray-600",children:"Action requise"})]})}),r.jsx("div",{className:"bg-orange-100 border rounded flex items-center justify-center text-sm",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-medium",children:"√âlev√©/Faible"}),r.jsx("div",{className:"text-xs text-gray-600",children:"Mitigation"})]})}),r.jsx("div",{className:"bg-red-100 border rounded flex items-center justify-center text-sm",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-medium",children:"√âlev√©/Moyen"}),r.jsx("div",{className:"text-xs text-gray-600",children:"Priorit√© haute"})]})}),r.jsx("div",{className:"bg-red-200 border rounded flex items-center justify-center text-sm",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-medium",children:"√âlev√©/√âlev√©"}),r.jsxs("div",{className:"text-xs text-gray-600",children:[n.filter(s=>s.value>=.7).length," risques critiques"]})]})})]})})]})]})},UM=({recommendations:e,calculations:t,userData:n})=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs(C,{children:[r.jsx(M,{children:r.jsxs(R,{className:"flex items-center gap-2",children:[r.jsx(Rt,{className:"w-5 h-5"}),"Actions prioritaires recommand√©es"]})}),r.jsx(E,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsx(No,{priority:"HAUTE",title:"Ajuster le taux de retrait",description:`Optimiser √† ${(e.optimalWithdrawalRate*100).toFixed(1)}% pour am√©liorer la durabilit√©`,timeline:"Imm√©diat",impact:"√âlev√©"}),e.portfolioAdjustments.map((s,a)=>r.jsx(No,{priority:"MOYENNE",title:"Ajustement de portfolio",description:s,timeline:"3-6 mois",impact:"Moyen"},a)),e.contingencyPlans.map((s,a)=>r.jsx(No,{priority:"MOYENNE",title:"Plan de contingence",description:s,timeline:"6-12 mois",impact:"√âlev√© si activ√©"},a))]})})]}),r.jsxs(C,{children:[r.jsx(M,{children:r.jsxs(R,{className:"flex items-center gap-2",children:[r.jsx(ln,{className:"w-5 h-5"}),"D√©clencheurs de r√©vision strat√©gique"]})}),r.jsx(E,{children:r.jsx("div",{className:"space-y-3",children:e.reviewTriggers.map((s,a)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[r.jsx(wt,{className:"w-4 h-4 text-amber-600"}),r.jsx("span",{className:"text-sm",children:s})]},a))})})]}),r.jsxs(C,{children:[r.jsx(M,{children:r.jsx(R,{children:"Plan d'action sur 12 mois"})}),r.jsx(E,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsx(wo,{month:"Mois 1-2",tasks:["R√©viser l'allocation d'actifs","Mettre en place les 'guardrails' de retrait","Optimiser la strat√©gie RRQ si applicable"]}),r.jsx(wo,{month:"Mois 3-6",tasks:["R√©√©quilibrer le portfolio selon les nouvelles allocations","Constituer la r√©serve de liquidit√©s","R√©viser les projections fiscales"]}),r.jsx(wo,{month:"Mois 6-12",tasks:["√âvaluer la performance vs projections","Ajuster si n√©cessaire les taux de retrait","Pr√©parer la r√©vision annuelle compl√®te"]})]})})]})]}),ea=({title:e,value:t,icon:n,trend:s,description:a})=>{const i={positive:"text-green-600 bg-green-50",neutral:"text-yellow-600 bg-yellow-50",negative:"text-red-600 bg-red-50"};return r.jsx(C,{children:r.jsxs(E,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:`p-2 rounded-lg ${i[s]}`,children:n}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold",children:t}),r.jsx("div",{className:"text-sm text-gray-600",children:e})]})]}),r.jsx("div",{className:"mt-2 text-xs text-gray-500",children:a})]})})},jo=({label:e,value:t,type:n,threshold:s})=>{const a=()=>t>=s?"text-green-600":t>=s*.8?"text-yellow-600":"text-red-600";return r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm",children:e}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(lr,{value:Math.min(t,100),className:"w-16"}),r.jsx("span",{className:`text-sm font-medium ${a()}`,children:n==="percentage"?`${t}%`:t})]})]})},WM=({level:e})=>e<.3?r.jsx(Z,{className:"bg-green-100 text-green-800",children:"Faible"}):e<.7?r.jsx(Z,{className:"bg-yellow-100 text-yellow-800",children:"Mod√©r√©"}):r.jsx(Z,{className:"bg-red-100 text-red-800",children:"√âlev√©"}),No=({priority:e,title:t,description:n,timeline:s,impact:a})=>{const i={HAUTE:"border-red-200 bg-red-50",MOYENNE:"border-yellow-200 bg-yellow-50",FAIBLE:"border-green-200 bg-green-50"};return r.jsx("div",{className:`border rounded-lg p-4 ${i[e]}`,children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Z,{variant:e==="HAUTE"?"destructive":"secondary",children:e}),r.jsx("h3",{className:"font-medium",children:t})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:n}),r.jsxs("div",{className:"flex gap-4 text-xs text-gray-500",children:[r.jsxs("span",{children:["üìÖ ",s]}),r.jsxs("span",{children:["üìä Impact: ",a]})]})]})})})},wo=({month:e,tasks:t})=>r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-20 text-sm font-medium text-gray-600",children:e}),r.jsx("div",{className:"flex-1",children:r.jsx("ul",{className:"space-y-1",children:t.map((n,s)=>r.jsxs("li",{className:"text-sm text-gray-700 flex items-start gap-2",children:[r.jsx(ir,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),n]},s))})})]}),KM=({data:e,calculations:t})=>{const{user:n,loading:s,signInWithGoogle:a}=Pc(),{language:i}=Ct(),l=i==="en",{userData:o,updateUserData:c}=Sc();Ja();const u=Py(),[d,m]=v.useState("revenus"),[h,f]=v.useState({salaire:"",pensions:"",epargne:"",immobilier:"",autres:""}),[x,p]=v.useState({logement:"",alimentation:"",transport:"",sante:"",loisirs:"",autres:""}),[g,y]=v.useState({ageRetraite:"",revenusMensuels:"",depensesMensuelles:"",epargneNecessaire:""});v.useEffect(()=>{o.personal&&o.personal.salaire1&&f(k=>({...k,salaire:o.personal.salaire1.toString()}))},[o.personal]);const b=(k,F)=>{if(f(H=>({...H,[k]:F})),k==="salaire"){const H=parseFloat(F.replace(/[^\d.]/g,""))||0;c("personal",{salaire1:H})}},j=(k,F)=>{p(H=>({...H,[k]:F}))},N=(k,F)=>{y(H=>({...H,[k]:F}))},w=k=>{u(k)},S=()=>{const k=Object.values(g).filter(F=>F.trim()!=="").length;return Math.round(k/Object.keys(g).length*100)},O=e||o;return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-indigo-900 text-white",children:[r.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-20 left-10 w-2 h-2 bg-yellow-400 rounded-full animate-pulse"}),r.jsx("div",{className:"absolute top-40 right-20 w-3 h-3 bg-blue-400 rounded-full animate-bounce"}),r.jsx("div",{className:"absolute top-60 left-1/4 w-2 h-2 bg-green-400 rounded-full animate-ping"}),r.jsx("div",{className:"absolute top-80 right-1/3 w-1 h-1 bg-red-400 rounded-full animate-pulse"}),r.jsx("div",{className:"absolute top-96 left-1/2 w-2 h-2 bg-purple-400 rounded-full animate-bounce"}),r.jsx("div",{className:"absolute top-32 right-1/4 w-2 h-2 bg-orange-400 rounded-full animate-pulse"}),r.jsx("div",{className:"absolute top-72 left-1/3 w-1 h-1 bg-pink-400 rounded-full animate-bounce"}),r.jsx("div",{className:"absolute top-48 left-1/5 w-1 h-1 bg-cyan-400 rounded-full animate-ping"}),r.jsx("div",{className:"absolute top-88 right-1/5 w-2 h-2 bg-emerald-400 rounded-full animate-bounce"})]}),r.jsxs("div",{className:"container mx-auto px-6 py-8 relative z-10",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-yellow-400 via-orange-400 to-red-500 bg-clip-text text-transparent drop-shadow-2xl",children:l?"üöÄ Financial Dashboard":"üöÄ Tableau de bord financier"}),r.jsx("p",{className:"text-xl md:text-2xl text-gray-200 max-w-4xl mx-auto leading-relaxed",children:l?"Transform your financial data into spectacular insights and planning":"Transformez vos donn√©es financi√®res en insights et planification spectaculaires"})]}),r.jsxs(C,{className:"bg-gradient-to-br from-slate-800/90 to-slate-700/90 border-0 shadow-2xl backdrop-blur-sm mb-12",children:[r.jsx(M,{className:"border-b border-slate-600 bg-gradient-to-r from-slate-600/20 to-slate-500/20",children:r.jsxs(R,{className:"text-2xl font-bold text-slate-300 flex items-center gap-3",children:[r.jsx(ct,{className:"w-8 h-8"}),l?"Your Financial Overview":"Votre Aper√ßu Financier"]})}),r.jsx(E,{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-green-600/20 to-green-500/20 rounded-lg border border-green-500/30",children:[r.jsx(it,{className:"w-12 h-12 text-green-400 mx-auto mb-4"}),r.jsxs("div",{className:"text-3xl font-bold text-green-300",children:["$",(O?.savings?.totalEpargne||0).toLocaleString()]}),r.jsx("div",{className:"text-green-200",children:l?"Total Savings":"√âpargne Totale"})]}),r.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-blue-600/20 to-blue-500/20 rounded-lg border border-blue-500/30",children:[r.jsx(Rt,{className:"w-12 h-12 text-blue-400 mx-auto mb-4"}),r.jsx("div",{className:"text-3xl font-bold text-blue-300",children:O?.personal?.ageRetraite1||65}),r.jsx("div",{className:"text-blue-200",children:l?"Retirement Age":"√Çge de Retraite"})]}),r.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-purple-600/20 to-purple-500/20 rounded-lg border border-purple-500/30",children:[r.jsx(et,{className:"w-12 h-12 text-purple-400 mx-auto mb-4"}),r.jsx("div",{className:"text-3xl font-bold text-purple-300",children:l?"Progress":"Progression"}),r.jsx("div",{className:"text-purple-200",children:l?"35% Complete":"35% Compl√©t√©"})]})]})})]}),r.jsxs(C,{className:"bg-gradient-to-br from-emerald-800/90 to-teal-800/90 border-0 shadow-2xl backdrop-blur-sm mb-12",children:[r.jsxs(M,{className:"border-b border-emerald-600 bg-gradient-to-r from-emerald-600/20 to-teal-600/20",children:[r.jsxs(R,{className:"text-2xl font-bold text-emerald-300 flex items-center gap-3",children:[r.jsx(Rt,{className:"w-8 h-8"}),l?"Retirement Planning":"Planification de retraite"]}),r.jsx("p",{className:"text-emerald-200",children:l?"Plan your retirement step by step with our comprehensive tools":"Planifiez votre retraite √©tape par √©tape avec nos outils complets"})]}),r.jsx(E,{className:"p-6",children:r.jsxs(Jt,{value:d,onValueChange:m,className:"w-full",children:[r.jsxs(Xt,{className:"grid w-full grid-cols-3 bg-slate-700/50",children:[r.jsx(re,{value:"revenus",className:"data-[state=active]:bg-emerald-600 data-[state=active]:text-white",children:l?"Income & Assets":"Revenus & Actifs"}),r.jsx(re,{value:"depenses",className:"data-[state=active]:bg-emerald-600 data-[state=active]:text-white",children:l?"Expenses & Budget":"D√©penses & Budget"}),r.jsx(re,{value:"calculs",className:"data-[state=active]:bg-emerald-600 data-[state=active]:text-white",children:l?"Calculations":"Calculs"})]}),r.jsx(ee,{value:"revenus",className:"space-y-6",children:r.jsxs(C,{className:"bg-slate-700/50 border-slate-600 shadow-lg",children:[r.jsxs(M,{children:[r.jsxs(R,{className:"flex items-center gap-3 text-emerald-300",children:[r.jsx(it,{className:"w-6 h-6"}),l?"My income sources":"Mes sources de revenus"]}),r.jsx("p",{className:"text-slate-300",children:l?"Let's identify all your income sources to build a solid retirement plan.":"Identifions toutes vos sources de revenus pour construire un plan de retraite solide."})]}),r.jsx(E,{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(A,{htmlFor:"salaire",className:"text-slate-300",children:l?"Salary / Employment income":"Salaire / Revenus d'emploi"}),r.jsx(T,{id:"salaire",value:h.salaire,onChange:k=>b("salaire",k.target.value),placeholder:l?"Annual salary amount":"Montant du salaire annuel",className:"mt-1 bg-slate-600 border-slate-500 text-white"})]}),r.jsxs("div",{children:[r.jsx(A,{htmlFor:"pensions",className:"text-slate-300",children:l?"Pensions / RRSP":"Pensions / REER"}),r.jsx(T,{id:"pensions",value:h.pensions,onChange:k=>b("pensions",k.target.value),placeholder:l?"Pension amounts":"Montants des pensions",className:"mt-1 bg-slate-600 border-slate-500 text-white"})]}),r.jsxs("div",{children:[r.jsx(A,{htmlFor:"epargne",className:"text-slate-300",children:l?"Savings & Investments":"√âpargne & Investissements"}),r.jsx(T,{id:"epargne",value:h.epargne,onChange:k=>b("epargne",k.target.value),placeholder:l?"Total savings amount":"Montant total de l'√©pargne",className:"mt-1 bg-slate-600 border-slate-500 text-white"})]}),r.jsxs("div",{children:[r.jsx(A,{htmlFor:"immobilier",className:"text-slate-300",children:l?"Real Estate Income":"Revenus immobiliers"}),r.jsx(T,{id:"immobilier",value:h.immobilier,onChange:k=>b("immobilier",k.target.value),placeholder:l?"Rental income, property value":"Revenus locatifs, valeur des biens",className:"mt-1 bg-slate-600 border-slate-500 text-white"})]}),r.jsxs("div",{children:[r.jsx(A,{htmlFor:"autres",className:"text-slate-300",children:l?"Other Income":"Autres revenus"}),r.jsx(T,{id:"autres",value:h.autres,onChange:k=>b("autres",k.target.value),placeholder:l?"Business, inheritance, etc.":"Entreprise, h√©ritage, etc.",className:"mt-1 bg-slate-600 border-slate-500 text-white"})]})]})})]})}),r.jsx(ee,{value:"depenses",className:"space-y-6",children:r.jsxs(C,{className:"bg-slate-700/50 border-slate-600 shadow-lg",children:[r.jsxs(M,{children:[r.jsxs(R,{className:"flex items-center gap-3 text-emerald-300",children:[r.jsx(is,{className:"w-6 h-6"}),l?"My monthly expenses":"Mes d√©penses mensuelles"]}),r.jsx("p",{className:"text-slate-300",children:l?"Understanding your expenses helps us calculate how much you'll need in retirement.":"Comprendre vos d√©penses nous aide √† calculer combien vous aurez besoin √† la retraite."})]}),r.jsx(E,{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(A,{htmlFor:"logement",className:"text-slate-300",children:l?"Housing":"Logement"}),r.jsx(T,{id:"logement",value:x.logement,onChange:k=>j("logement",k.target.value),placeholder:l?"Rent, mortgage, utilities":"Loyer, hypoth√®que, services publics",className:"mt-1 bg-slate-600 border-slate-500 text-white"})]}),r.jsxs("div",{children:[r.jsx(A,{htmlFor:"alimentation",className:"text-slate-300",children:l?"Food & Groceries":"Alimentation & √âpicerie"}),r.jsx(T,{id:"alimentation",value:x.alimentation,onChange:k=>j("alimentation",k.target.value),placeholder:l?"Monthly food budget":"Budget alimentaire mensuel",className:"mt-1 bg-slate-600 border-slate-500 text-white"})]}),r.jsxs("div",{children:[r.jsx(A,{htmlFor:"transport",className:"text-slate-300",children:l?"Transportation":"Transport"}),r.jsx(T,{id:"transport",value:x.transport,onChange:k=>j("transport",k.target.value),placeholder:l?"Car, public transit, fuel":"Voiture, transport en commun, essence",className:"mt-1 bg-slate-600 border-slate-500 text-white"})]}),r.jsxs("div",{children:[r.jsx(A,{htmlFor:"sante",className:"text-slate-300",children:l?"Healthcare":"Sant√©"}),r.jsx(T,{id:"sante",value:x.sante,onChange:k=>j("sante",k.target.value),placeholder:l?"Medications, insurance, care":"M√©dicaments, assurances, soins",className:"mt-1 bg-slate-600 border-slate-500 text-white"})]})]})})]})}),r.jsx(ee,{value:"calculs",className:"space-y-6",children:r.jsxs(C,{className:"bg-slate-700/50 border-slate-600 shadow-lg",children:[r.jsxs(M,{children:[r.jsxs(R,{className:"flex items-center gap-3 text-emerald-300",children:[r.jsx(ct,{className:"w-6 h-6"}),l?"My retirement calculations":"Mes calculs de retraite"]}),r.jsx("p",{className:"text-slate-300",children:l?"Let's calculate your retirement needs and create a personalized plan.":"Calculons vos besoins de retraite et cr√©ons un plan personnalis√©."}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-slate-300",children:l?"Progress":"Progression"}),r.jsxs("span",{className:"text-sm font-bold text-emerald-400",children:[S()," %"]})]}),r.jsx("div",{className:"w-full bg-slate-600 rounded-full h-2",children:r.jsx("div",{className:"bg-emerald-500 h-2 rounded-full transition-all duration-500",style:{width:`${S()}%`}})})]})]}),r.jsxs(E,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(A,{htmlFor:"ageRetraite",className:"text-slate-300",children:l?"Desired retirement age":"√Çge souhait√© de retraite"}),r.jsx(T,{id:"ageRetraite",type:"number",value:g.ageRetraite,onChange:k=>N("ageRetraite",k.target.value),placeholder:l?"Ex: 65 years":"Ex : 65 ans",className:"mt-1 bg-slate-600 border-slate-500 text-white"})]}),r.jsxs("div",{children:[r.jsx(A,{htmlFor:"revenusMensuels",className:"text-slate-300",children:l?"Projected monthly income":"Revenus mensuels projet√©s"}),r.jsx(T,{id:"revenusMensuels",value:g.revenusMensuels,onChange:k=>N("revenusMensuels",k.target.value),placeholder:l?"Amount in dollars":"Montant en dollars",className:"mt-1 bg-slate-600 border-slate-500 text-white"})]}),r.jsxs("div",{children:[r.jsx(A,{htmlFor:"depensesMensuelles",className:"text-slate-300",children:l?"Projected monthly expenses":"D√©penses mensuelles projet√©es"}),r.jsx(T,{id:"depensesMensuelles",value:g.depensesMensuelles,onChange:k=>N("depensesMensuelles",k.target.value),placeholder:l?"Amount in dollars":"Montant en dollars",className:"mt-1 bg-slate-600 border-slate-500 text-white"})]}),r.jsxs("div",{children:[r.jsx(A,{htmlFor:"epargneNecessaire",className:"text-slate-300",children:l?"Required savings":"√âpargne n√©cessaire"}),r.jsx(T,{id:"epargneNecessaire",value:g.epargneNecessaire,onChange:k=>N("epargneNecessaire",k.target.value),placeholder:l?"Amount in dollars":"Montant en dollars",className:"mt-1 bg-slate-600 border-slate-500 text-white"})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-emerald-500/20 to-teal-500/20 p-4 rounded-lg border border-emerald-400/30 mt-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(ir,{className:"w-6 h-6 text-green-400"}),r.jsx("h3",{className:"text-lg font-semibold text-emerald-300",children:l?"Your plan is taking shape!":"Votre plan prend forme !"})]}),r.jsx("p",{className:"text-slate-300",children:l?"Every piece of information you add helps us create a more accurate and personalized retirement plan. Keep going, you're almost there!":"Chaque information que vous ajoutez nous aide √† cr√©er un plan de retraite plus pr√©cis et personnalis√©. Continuez, vous y √™tes presque !"})]})]})]})})]})})]}),r.jsxs(C,{className:"bg-gradient-to-br from-indigo-800/90 to-blue-800/90 border-0 shadow-2xl backdrop-blur-sm mb-12",children:[r.jsx(M,{className:"border-b border-indigo-600 bg-gradient-to-r from-indigo-600/20 to-blue-600/20",children:r.jsxs(R,{className:"text-2xl font-bold text-indigo-300 flex items-center gap-3",children:[r.jsx(_t,{className:"w-8 h-8"}),l?"Financial Tools":"Outils Financiers"]})}),r.jsx(E,{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(C,{className:"bg-gradient-to-br from-green-600/20 to-green-500/20 border border-green-500/30 shadow-lg hover:shadow-xl transition-all duration-300",children:r.jsxs(E,{className:"p-4 text-center",children:[r.jsx(ls,{className:"w-8 h-8 text-green-400 mx-auto mb-3"}),r.jsx("h3",{className:"text-lg font-bold text-green-300 mb-2",children:l?"Personal Profile":"Profil personnel"}),r.jsx("p",{className:"text-sm text-green-200 mb-3",children:l?"Personal information and objectives":"Informations personnelles et objectifs"}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-3",children:r.jsx("div",{className:"bg-gray-500 h-2 rounded-full",style:{width:"0%"}})}),r.jsxs("div",{className:"flex items-center justify-between text-xs mb-3",children:[r.jsx("span",{className:"text-gray-300",children:"Progression"}),r.jsx("span",{className:"text-gray-300",children:"0%"})]}),r.jsx("div",{className:"flex items-center justify-between text-xs mb-3",children:r.jsx(Z,{variant:"destructive",className:"text-xs",children:"Verrouill√©"})}),r.jsx(_,{variant:"outline",size:"sm",className:"w-full text-green-300 border-green-500/30 hover:bg-green-500/20",children:l?"Click to access":"Cliquez pour acc√©der"})]})}),r.jsx(C,{className:"bg-gradient-to-br from-red-600/20 to-red-500/20 border border-red-500/30 shadow-lg hover:shadow-xl transition-all duration-300",children:r.jsxs(E,{className:"p-4 text-center",children:[r.jsx(wt,{className:"w-8 h-8 text-red-400 mx-auto mb-3"}),r.jsx("h3",{className:"text-lg font-bold text-red-300 mb-2",children:l?"Emergency Information":"Informations d'urgence"}),r.jsx("p",{className:"text-sm text-red-200 mb-3",children:l?"Medical directives and emergency contacts":"Directives m√©dicales et contacts d'urgence"}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-3",children:r.jsx("div",{className:"bg-gray-500 h-2 rounded-full",style:{width:"0%"}})}),r.jsxs("div",{className:"flex items-center justify-between text-xs mb-3",children:[r.jsx("span",{className:"text-gray-300",children:"Progression"}),r.jsx("span",{className:"text-gray-300",children:"0%"})]}),r.jsx("div",{className:"flex items-center justify-between text-xs mb-3",children:r.jsx(Z,{variant:"destructive",className:"text-xs",children:"Verrouill√©"})}),r.jsx(_,{variant:"outline",size:"sm",className:"w-full text-red-300 border-red-500/30 hover:bg-red-500/20",children:l?"Click to access":"Cliquez pour acc√©der"})]})}),r.jsx(C,{className:"bg-gradient-to-br from-blue-600/20 to-blue-500/20 border border-blue-500/30 shadow-lg hover:shadow-xl transition-all duration-300",children:r.jsxs(E,{className:"p-4 text-center",children:[r.jsx(it,{className:"w-8 h-8 text-blue-400 mx-auto mb-3"}),r.jsx("h3",{className:"text-lg font-bold text-blue-300 mb-2",children:l?"Income":"Revenus"}),r.jsx("p",{className:"text-sm text-blue-200 mb-3",children:l?"Income sources and employment":"Sources de revenus et emploi"}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-3",children:r.jsx("div",{className:"bg-gray-500 h-2 rounded-full",style:{width:"0%"}})}),r.jsxs("div",{className:"flex items-center justify-between text-xs mb-3",children:[r.jsx("span",{className:"text-gray-300",children:"Progression"}),r.jsx("span",{className:"text-gray-300",children:"0%"})]}),r.jsx("div",{className:"flex items-center justify-between text-xs mb-3",children:r.jsx(Z,{variant:"destructive",className:"text-xs",children:"Verrouill√©"})}),r.jsx(_,{variant:"outline",size:"sm",className:"w-full text-blue-300 border-blue-500/30 hover:bg-blue-500/20",children:l?"Click to access":"Cliquez pour acc√©der"})]})}),r.jsx(C,{className:"bg-gradient-to-br from-purple-600/20 to-purple-500/20 border border-purple-500/30 shadow-lg hover:shadow-xl transition-all duration-300",children:r.jsxs(E,{className:"p-4 text-center",children:[r.jsx(is,{className:"w-8 h-8 text-purple-400 mx-auto mb-3"}),r.jsx("h3",{className:"text-lg font-bold text-purple-300 mb-2",children:l?"Expenses":"D√©penses"}),r.jsx("p",{className:"text-sm text-purple-200 mb-3",children:l?"Monthly expenses and budget":"D√©penses mensuelles et budget"}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-3",children:r.jsx("div",{className:"bg-gray-500 h-2 rounded-full",style:{width:"0%"}})}),r.jsxs("div",{className:"flex items-center justify-between text-xs mb-3",children:[r.jsx("span",{className:"text-gray-300",children:"Progression"}),r.jsx("span",{className:"text-gray-300",children:"0%"})]}),r.jsx("div",{className:"flex items-center justify-between text-xs mb-3",children:r.jsx(Z,{variant:"destructive",className:"text-xs",children:"Verrouill√©"})}),r.jsx(_,{variant:"outline",size:"sm",className:"w-full text-purple-300 border-purple-500/30 hover:bg-purple-500/20",children:l?"Click to access":"Cliquez pour acc√©der"})]})}),r.jsx(C,{className:"bg-gradient-to-br from-emerald-600/20 to-emerald-500/20 border border-emerald-500/30 shadow-lg hover:shadow-xl transition-all duration-300",children:r.jsxs(E,{className:"p-4 text-center",children:[r.jsx(et,{className:"w-8 h-8 text-emerald-400 mx-auto mb-3"}),r.jsx("h3",{className:"text-lg font-bold text-emerald-300 mb-2",children:l?"Savings":"√âpargnes"}),r.jsx("p",{className:"text-sm text-emerald-200 mb-3",children:l?"Track your savings and investments":"Suivi de vos √©conomies et investissements"}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-3",children:r.jsx("div",{className:"bg-gray-500 h-2 rounded-full",style:{width:"0%"}})}),r.jsxs("div",{className:"flex items-center justify-between text-xs mb-3",children:[r.jsx("span",{className:"text-gray-300",children:"Progression"}),r.jsx("span",{className:"text-gray-300",children:"0%"})]}),r.jsx("div",{className:"flex items-center justify-between text-xs mb-3",children:r.jsx(Z,{variant:"destructive",className:"text-xs",children:"Verrouill√©"})}),r.jsx(_,{variant:"outline",size:"sm",className:"w-full text-emerald-300 border-emerald-500/30 hover:bg-emerald-500/20",children:l?"Click to access":"Cliquez pour acc√©der"})]})}),r.jsx(C,{className:"bg-gradient-to-br from-orange-600/20 to-orange-500/20 border border-orange-500/30 shadow-lg hover:shadow-xl transition-all duration-300",children:r.jsxs(E,{className:"p-4 text-center",children:[r.jsx(ct,{className:"w-8 h-8 text-orange-400 mx-auto mb-3"}),r.jsx("h3",{className:"text-lg font-bold text-orange-300 mb-2",children:l?"Cash Flow":"Flux de tr√©sorerie"}),r.jsx("p",{className:"text-sm text-orange-200 mb-3",children:l?"Detailed analysis of your cash flow":"Analyse d√©taill√©e de vos flux de tr√©sorerie"}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-3",children:r.jsx("div",{className:"bg-gray-500 h-2 rounded-full",style:{width:"0%"}})}),r.jsxs("div",{className:"flex items-center justify-between text-xs mb-3",children:[r.jsx("span",{className:"text-gray-300",children:"Progression"}),r.jsx("span",{className:"text-gray-300",children:"0%"})]}),r.jsx("div",{className:"flex items-center justify-between text-xs mb-3",children:r.jsx(Z,{variant:"destructive",className:"text-xs",children:"Verrouill√©"})}),r.jsx(_,{variant:"outline",size:"sm",className:"w-full text-orange-300 border-orange-500/30 hover:bg-orange-500/20",children:l?"Click to access":"Cliquez pour acc√©der"})]})}),r.jsx(C,{className:"bg-gradient-to-br from-indigo-600/20 to-indigo-500/20 border border-indigo-500/30 shadow-lg hover:shadow-xl transition-all duration-300",children:r.jsxs(E,{className:"p-4 text-center",children:[r.jsx(ht,{className:"w-8 h-8 text-indigo-400 mx-auto mb-3"}),r.jsx("h3",{className:"text-lg font-bold text-indigo-300 mb-2",children:l?"Government Benefits":"Prestations gouvernementales"}),r.jsx("p",{className:"text-sm text-indigo-200 mb-3",children:l?"OAS, CPP, RRQ calculations":"Calculs SV, CPP, RRQ"}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-3",children:r.jsx("div",{className:"bg-gray-500 h-2 rounded-full",style:{width:"0%"}})}),r.jsxs("div",{className:"flex items-center justify-between text-xs mb-3",children:[r.jsx("span",{className:"text-gray-300",children:"Progression"}),r.jsx("span",{className:"text-gray-300",children:"0%"})]}),r.jsx("div",{className:"flex items-center justify-between text-xs mb-3",children:r.jsx(Z,{variant:"destructive",className:"text-xs",children:"Verrouill√©"})}),r.jsx(_,{variant:"outline",size:"sm",className:"w-full text-indigo-300 border-indigo-500/30 hover:bg-indigo-500/20",children:l?"Click to access":"Cliquez pour acc√©der"})]})}),r.jsx(C,{className:"bg-gradient-to-br from-pink-600/20 to-pink-500/20 border border-pink-500/30 shadow-lg hover:shadow-xl transition-all duration-300",children:r.jsxs(E,{className:"p-4 text-center",children:[r.jsx(Ac,{className:"w-8 h-8 text-pink-400 mx-auto mb-3"}),r.jsx("h3",{className:"text-lg font-bold text-pink-300 mb-2",children:l?"Personal Financial Assistant":"Assistant Financier Personnel"}),r.jsx("p",{className:"text-sm text-pink-200 mb-3",children:l?"AI-powered financial advice":"Conseils financiers par IA"}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-3",children:r.jsx("div",{className:"bg-gray-500 h-2 rounded-full",style:{width:"0%"}})}),r.jsxs("div",{className:"flex items-center justify-between text-xs mb-3",children:[r.jsx("span",{className:"text-gray-300",children:"Progression"}),r.jsx("span",{className:"text-gray-300",children:"0%"})]}),r.jsx("div",{className:"flex items-center justify-between text-xs mb-3",children:r.jsx(Z,{variant:"destructive",className:"text-xs",children:"Verrouill√©"})}),r.jsx(_,{variant:"outline",size:"sm",className:"w-full text-pink-300 border-pink-500/30 hover:bg-pink-500/20",children:l?"Click to access":"Cliquez pour acc√©der"})]})}),r.jsx(C,{className:"bg-gradient-to-br from-amber-600/20 to-amber-500/20 border border-amber-500/30 shadow-lg hover:shadow-xl transition-all duration-300",children:r.jsxs(E,{className:"p-4 text-center",children:[r.jsx(mt,{className:"w-8 h-8 text-amber-400 mx-auto mb-3"}),r.jsx("h3",{className:"text-lg font-bold text-amber-300 mb-2",children:l?"Tax Optimization":"Optimisation fiscale"}),r.jsx("p",{className:"text-sm text-amber-200 mb-3",children:l?"Tax strategies and optimization":"Strat√©gies et optimisation fiscales"}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-3",children:r.jsx("div",{className:"bg-gray-500 h-2 rounded-full",style:{width:"0%"}})}),r.jsxs("div",{className:"flex items-center justify-between text-xs mb-3",children:[r.jsx("span",{className:"text-gray-300",children:"Progression"}),r.jsx("span",{className:"text-gray-300",children:"0%"})]}),r.jsx("div",{className:"flex items-center justify-between text-xs mb-3",children:r.jsx(Z,{variant:"destructive",className:"text-xs",children:"Verrouill√©"})}),r.jsx(_,{variant:"outline",size:"sm",className:"w-full text-amber-300 border-amber-500/30 hover:bg-amber-500/20",children:l?"Click to access":"Cliquez pour acc√©der"})]})}),r.jsx(C,{className:"bg-gradient-to-br from-violet-600/20 to-violet-500/20 border border-violet-500/30 shadow-lg hover:shadow-xl transition-all duration-300",children:r.jsxs(E,{className:"p-4 text-center",children:[r.jsx(ct,{className:"w-8 h-8 text-violet-400 mx-auto mb-3"}),r.jsx("h3",{className:"text-lg font-bold text-violet-300 mb-2",children:"Monte Carlo"}),r.jsx("p",{className:"text-sm text-violet-200 mb-3",children:l?"Advanced analyses with 10,000 scenarios":"Analyses avanc√©es avec 10,000 sc√©narios"}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-3",children:r.jsx("div",{className:"bg-gray-500 h-2 rounded-full",style:{width:"0%"}})}),r.jsxs("div",{className:"flex items-center justify-between text-xs mb-3",children:[r.jsx("span",{className:"text-gray-300",children:"Progression"}),r.jsx("span",{className:"text-gray-300",children:"0%"})]}),r.jsx("div",{className:"flex items-center justify-between text-xs mb-3",children:r.jsx(Z,{variant:"destructive",className:"text-xs",children:"Verrouill√©"})}),r.jsx(_,{variant:"outline",size:"sm",className:"w-full text-violet-300 border-violet-500/30 hover:bg-violet-500/20",children:l?"Click to access":"Cliquez pour acc√©der"})]})}),r.jsx(C,{className:"bg-gradient-to-br from-rose-600/20 to-rose-500/20 border border-rose-500/30 shadow-lg hover:shadow-xl transition-all duration-300",children:r.jsxs(E,{className:"p-4 text-center",children:[r.jsx(es,{className:"w-8 h-8 text-rose-400 mx-auto mb-3"}),r.jsx("h3",{className:"text-lg font-bold text-rose-300 mb-2",children:l?"Estate Planning":"Planification successorale"}),r.jsx("p",{className:"text-sm text-rose-200 mb-3",children:l?"Succession and estate planning":"Succession et planification successorale"}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-3",children:r.jsx("div",{className:"bg-gray-500 h-2 rounded-full",style:{width:"0%"}})}),r.jsxs("div",{className:"flex items-center justify-between text-xs mb-3",children:[r.jsx("span",{className:"text-gray-300",children:"Progression"}),r.jsx("span",{className:"text-gray-300",children:"0%"})]}),r.jsx("div",{className:"flex items-center justify-between text-xs mb-3",children:r.jsx(Z,{variant:"destructive",className:"text-xs",children:"Verrouill√©"})}),r.jsx(_,{variant:"outline",size:"sm",className:"w-full text-rose-300 border-rose-500/30 hover:bg-rose-500/20",children:l?"Click to access":"Cliquez pour acc√©der"})]})}),r.jsx(C,{className:"bg-gradient-to-br from-slate-600/20 to-slate-500/20 border border-slate-500/30 shadow-lg hover:shadow-xl transition-all duration-300",children:r.jsxs(E,{className:"p-4 text-center",children:[r.jsx(ht,{className:"w-8 h-8 text-slate-400 mx-auto mb-3"}),r.jsx("h3",{className:"text-lg font-bold text-slate-300 mb-2",children:l?"Reports":"Rapports"}),r.jsx("p",{className:"text-sm text-slate-200 mb-3",children:l?"Detailed financial reports and analysis":"Rapports financiers d√©taill√©s et analyse"}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-3",children:r.jsx("div",{className:"bg-gray-500 h-2 rounded-full",style:{width:"0%"}})}),r.jsxs("div",{className:"flex items-center justify-between text-xs mb-3",children:[r.jsx("span",{className:"text-gray-300",children:"Progression"}),r.jsx("span",{className:"text-gray-300",children:"0%"})]}),r.jsx("div",{className:"flex items-center justify-between text-xs mb-3",children:r.jsx(Z,{variant:"destructive",className:"text-xs",children:"Verrouill√©"})}),r.jsx(_,{variant:"outline",size:"sm",className:"w-full text-slate-300 border-slate-500/30 hover:bg-slate-500/20",children:l?"Click to access":"Cliquez pour acc√©der"})]})})]})})]}),r.jsx(C,{className:"bg-gradient-to-r from-yellow-500/20 to-orange-500/20 border-2 border-yellow-400/30 mt-8 mb-12",children:r.jsxs(E,{className:"py-8 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[r.jsx(Cc,{className:"w-8 h-8 text-yellow-400"}),r.jsx("h2",{className:"text-2xl font-bold text-yellow-300",children:l?"Excellent work!":"Excellent travail !"})]}),r.jsx("p",{className:"text-lg text-slate-300 mb-6",children:l?"You are building your financial future step by step. Every detail counts to create a plan that truly reflects you.":"Vous construisez votre avenir financier √©tape par √©tape. Chaque d√©tail compte pour cr√©er un plan qui vous ressemble vraiment."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsx(_,{variant:"outline",size:"lg",onClick:()=>w("/mon-profil"),className:"border-yellow-400 text-yellow-400 hover:bg-yellow-400/20",children:l?"Back to my profile":"Retour √† mon profil"}),r.jsxs(_,{size:"lg",className:"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white",onClick:()=>w("/mes-resultats"),children:[l?"View my results":"Voir mes r√©sultats",r.jsx(Ep,{className:"w-5 h-5 ml-2"})]})]})]})}),t?.monteCarloResults&&r.jsx("div",{className:"mb-12",children:r.jsx($M,{calculations:t,userData:O})})]})]})};class HM{static FEDERAL_TAX_BRACKETS=[{min:0,max:55867,rate:.15},{min:55867,max:111733,rate:.205},{min:111733,max:173205,rate:.26},{min:173205,max:246752,rate:.29},{min:246752,max:1/0,rate:.33}];static QUEBEC_TAX_BRACKETS=[{min:0,max:51780,rate:.14},{min:51780,max:103545,rate:.19},{min:103545,max:126e3,rate:.24},{min:126e3,max:1/0,rate:.2575}];static REER_LIMIT_2024=31560;static CELI_LIMIT_2024=7e3;static PENSION_INCOME_AMOUNT=2e3;static analyzeOptimization(t,n){const s=this.calculateCurrentTaxBurden(t),a=this.generateOptimizationStrategies(t,n),i=this.calculateOptimizedTaxBurden(t,a);return{currentTaxBurden:s,optimizedTaxBurden:i,totalSavings:s-i,strategies:a.sort((l,o)=>o.potentialSavings-l.potentialSavings),reerContributionRoom:this.calculateReerContributionRoom(t),celiContributionRoom:this.calculateCeliContributionRoom(t),incomesSplittingOpportunities:this.calculateIncomeSplittingOpportunities(t),pensionIncomeOptimization:this.calculatePensionIncomeOptimization(t)}}static calculateCurrentTaxBurden(t){const n=t.personal.salaire1+t.personal.salaire2,s=this.calculateFederalTax(n),a=this.calculateProvincialTax(n);return s+a}static calculateOptimizedTaxBurden(t,n){const s=n.reduce((a,i)=>a+i.potentialSavings,0);return this.calculateCurrentTaxBurden(t)-s}static generateOptimizationStrategies(t,n){const s=[],a=this.createReerStrategy(t);a&&s.push(a);const i=this.createCeliStrategy(t);i&&s.push(i);const l=this.createIncomeSplittingStrategy(t);l&&s.push(l);const o=this.createPensionOptimizationStrategy(t);o&&s.push(o);const c=this.createWithdrawalOptimizationStrategy(t);return c&&s.push(c),s}static createReerStrategy(t){const n=this.calculateReerContributionRoom(t);if(n<=0)return null;const s=this.calculateMarginalTaxRate(t.personal.salaire1+t.personal.salaire2),a=n*s;return{id:"reer_optimization",title:"Maximiser les contributions REER",description:`Vous pouvez contribuer ${n.toLocaleString("fr-CA")} $ de plus √† votre REER pour r√©duire vos imp√¥ts.`,priority:a>3e3?"high":"medium",potentialSavings:a,implementation:"Augmentez vos contributions REER mensuelles ou effectuez une contribution forfaitaire avant la date limite.",requirements:["Revenus d'emploi ou de travail autonome","Droits de cotisation REER disponibles"],category:"reer"}}static createCeliStrategy(t){const n=this.calculateCeliContributionRoom(t);if(n<=0)return null;const a=n*Math.pow(1.06,20)*.25;return{id:"celi_optimization",title:"Maximiser les contributions CELI",description:`Contribuez ${n.toLocaleString("fr-CA")} $ √† votre CELI pour une croissance libre d'imp√¥t.`,priority:"medium",potentialSavings:a,implementation:"Maximisez vos contributions CELI annuelles pour b√©n√©ficier d'une croissance libre d'imp√¥t.",requirements:["√ätre r√©sident canadien","√Çg√© de 18 ans ou plus"],category:"celi"}}static createIncomeSplittingStrategy(t){const n=t.personal.salaire1,s=t.personal.salaire2;if(Math.abs(n-s)<2e4)return null;const a=n+s,i=this.calculateFederalTax(n)+this.calculateProvincialTax(n)+this.calculateFederalTax(s)+this.calculateProvincialTax(s),l=a/2,o=(this.calculateFederalTax(l)+this.calculateProvincialTax(l))*2,c=Math.max(0,i-o)*.5;return c<500?null:{id:"income_splitting",title:"Fractionnement de revenu",description:"Optimisez la r√©partition des revenus entre conjoints pour r√©duire l'imp√¥t total.",priority:c>2e3?"high":"medium",potentialSavings:c,implementation:"Utilisez des strat√©gies comme le pr√™t au conjoint, la r√©partition des dividendes ou les contributions au REER du conjoint.",requirements:["√ätre mari√© ou en union de fait","√âcart de revenus significatif"],category:"income_splitting"}}static createPensionOptimizationStrategy(t){return t.retirement.pensionPrivee1>0||t.retirement.pensionPrivee2>0?{id:"pension_optimization",title:"Optimisation du revenu de pension",description:"Profitez du cr√©dit pour revenu de pension et des strat√©gies de fractionnement.",priority:"medium",potentialSavings:this.PENSION_INCOME_AMOUNT*.25,implementation:"Divisez les revenus de pension admissibles avec votre conjoint et r√©clamez le cr√©dit pour revenu de pension.",requirements:["Revenu de pension admissible","√Çg√© de 65 ans ou plus (ou 55+ pour certains types)"],category:"pension"}:null}static createWithdrawalOptimizationStrategy(t){const n=t.savings.reer1+t.savings.reer2+t.savings.celi1+t.savings.celi2;return n<1e5?null:{id:"withdrawal_optimization",title:"Strat√©gie de retrait optimis√©e",description:"Planifiez vos retraits pour minimiser l'impact fiscal √† la retraite.",priority:"medium",potentialSavings:n*.02,implementation:"√âtablissez une s√©quence de retrait optimale : CELI d'abord, puis REER/FERR, puis comptes non enregistr√©s.",requirements:["√âpargne-retraite substantielle","Planification √† long terme"],category:"other"}}static calculateReerContributionRoom(t){const n=t.personal.salaire1+t.personal.salaire2,s=Math.min(n*.18,this.REER_LIMIT_2024),a=t.savings.reer1+t.savings.reer2;return Math.max(0,s-a*.1)}static calculateCeliContributionRoom(t){const n=this.calculateAge(t.personal.naissance1),s=this.calculateAge(t.personal.naissance2),a=Math.max(0,n-18),i=Math.max(0,s-18),l=(a+i)*this.CELI_LIMIT_2024,o=t.savings.celi1+t.savings.celi2;return Math.max(0,l-o)}static calculateIncomeSplittingOpportunities(t){const n=t.personal.salaire1,s=t.personal.salaire2;if(Math.abs(n-s)<2e4)return 0;const a=this.calculateTotalTax(n)+this.calculateTotalTax(s),i=this.calculateTotalTax((n+s)/2)*2;return Math.max(0,a-i)*.5}static calculatePensionIncomeOptimization(t){return t.retirement.pensionPrivee1>0||t.retirement.pensionPrivee2>0?this.PENSION_INCOME_AMOUNT*.25:0}static calculateFederalTax(t){let n=0,s=t;for(const a of this.FEDERAL_TAX_BRACKETS){if(s<=0)break;const i=Math.min(s,a.max-a.min);n+=i*a.rate,s-=i}return n}static calculateProvincialTax(t){let n=0,s=t;for(const a of this.QUEBEC_TAX_BRACKETS){if(s<=0)break;const i=Math.min(s,a.max-a.min);n+=i*a.rate,s-=i}return n}static calculateTotalTax(t){return this.calculateFederalTax(t)+this.calculateProvincialTax(t)}static calculateMarginalTaxRate(t){let n=.15,s=.14;for(const a of this.FEDERAL_TAX_BRACKETS)t>a.min&&(n=a.rate);for(const a of this.QUEBEC_TAX_BRACKETS)t>a.min&&(s=a.rate);return n+s}static calculateAge(t){if(!t)return 0;try{const n=new Date(t),s=new Date;let a=s.getFullYear()-n.getFullYear();const i=s.getMonth()-n.getMonth();return(i<0||i===0&&s.getDate()<n.getDate())&&a--,Math.max(0,a)}catch{return 0}}}const Pp=({data:e,calculations:t})=>{const n=Sy(),s=Ay(n),a=v.useMemo(()=>HM.analyzeOptimization(e,t),[e,t]),i=u=>{switch(u){case"high":return r.jsx(kp,{className:"w-4 h-4 text-red-500"});case"medium":return r.jsx(ln,{className:"w-4 h-4 text-yellow-500"});case"low":return r.jsx(ir,{className:"w-4 h-4 text-green-500"});default:return r.jsx(mt,{className:"w-4 h-4"})}},l=u=>{switch(u){case"high":return"destructive";case"medium":return"secondary";case"low":return"outline";default:return"outline"}},o=u=>{switch(u){case"reer":return"üèõÔ∏è";case"celi":return"üí∞";case"pension":return"üë¥";case"income_splitting":return"üë´";default:return"üìä"}},c=a.currentTaxBurden>0?a.totalSavings/a.currentTaxBurden*100:0;return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-indigo-900 text-white",children:[r.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[r.jsx("div",{className:"absolute top-20 left-10 w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),r.jsx("div",{className:"absolute top-40 right-20 w-3 h-3 bg-purple-400 rounded-full animate-bounce"}),r.jsx("div",{className:"absolute bottom-40 left-20 w-2 h-2 bg-green-400 rounded-full animate-ping"}),r.jsx("div",{className:"absolute top-60 left-1/2 w-1 h-1 bg-yellow-400 rounded-full animate-pulse"})]}),r.jsxs("div",{className:"space-y-6 relative z-10 p-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-red-500 bg-clip-text text-transparent drop-shadow-2xl mb-4",children:s.taxOptimization.title}),r.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:s.taxOptimization.subtitle})]}),r.jsxs(C,{className:"bg-gradient-to-br from-slate-800/90 to-slate-700/90 border-0 shadow-2xl backdrop-blur-sm",children:[r.jsxs(M,{children:[r.jsxs(R,{className:"flex items-center gap-2 text-white",children:[r.jsx(mt,{className:"w-5 h-5 text-blue-400"}),s.taxOptimization.title]}),r.jsx(te,{className:"text-gray-300",children:s.taxOptimization.subtitle})]}),r.jsxs(E,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[r.jsx(C,{children:r.jsxs(E,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(it,{className:"w-4 h-4 text-red-500"}),r.jsx("span",{className:"text-sm font-medium",children:s.taxOptimization.currentTaxBurden})]}),r.jsx("div",{className:"text-2xl font-bold text-red-600",children:Ve(a.currentTaxBurden)})]})}),r.jsx(C,{children:r.jsxs(E,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(et,{className:"w-4 h-4 text-green-500"}),r.jsx("span",{className:"text-sm font-medium",children:s.taxOptimization.potentialSavings})]}),r.jsx("div",{className:"text-2xl font-bold text-green-600",children:Ve(a.totalSavings)})]})}),r.jsx(C,{children:r.jsxs(E,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Rt,{className:"w-4 h-4 text-blue-500"}),r.jsx("span",{className:"text-sm font-medium",children:s.taxOptimization.optimizedBurden})]}),r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Ve(a.optimizedTaxBurden)})]})}),r.jsx(C,{children:r.jsxs(E,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(mt,{className:"w-4 h-4 text-purple-500"}),r.jsx("span",{className:"text-sm font-medium",children:s.taxOptimization.reduction})]}),r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:So(c)})]})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:s.taxOptimization.progressToOptimization}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[So(c)," ",s.taxOptimization.possibleSavings]})]}),r.jsx(lr,{value:Math.min(c,100),className:"h-2"})]})]})]}),r.jsxs(Jt,{defaultValue:"strategies",className:"w-full",children:[r.jsxs(Xt,{className:"grid w-full grid-cols-4",children:[r.jsx(re,{value:"strategies",children:s.taxOptimization.strategies}),r.jsx(re,{value:"contribution-room",children:s.taxOptimization.contributionRights}),r.jsx(re,{value:"income-splitting",children:s.taxOptimization.incomeSplitting}),r.jsx(re,{value:"pension-optimization",children:s.taxOptimization.pensionOptimization})]}),r.jsx(ee,{value:"strategies",className:"space-y-4",children:r.jsxs(C,{children:[r.jsxs(M,{children:[r.jsx(R,{className:"text-lg",children:s.taxOptimization.recommendedStrategies}),r.jsx(te,{children:s.taxOptimization.personalizedStrategies})]}),r.jsx(E,{children:r.jsx("div",{className:"space-y-4",children:a.strategies.map((u,d)=>r.jsx(C,{className:"relative",children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-xl",children:o(u.category)}),r.jsx("h3",{className:"font-semibold",children:u.title}),r.jsxs(Z,{variant:l(u.priority),children:[i(u.priority),r.jsx("span",{className:"ml-1 capitalize",children:u.priority})]})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:u.description}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:s.taxOptimization.howToProceed}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:u.implementation})]}),u.requirements&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:s.taxOptimization.requiredConditions}),r.jsx("ul",{className:"text-sm text-muted-foreground mt-1 list-disc list-inside",children:u.requirements.map((m,h)=>r.jsx("li",{children:m},h))})]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-lg font-bold text-green-600",children:Ve(u.potentialSavings)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:s.taxOptimization.potentialSavingsLabel})]})]})})},u.id))})})]})}),r.jsx(ee,{value:"contribution-room",className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs(C,{children:[r.jsx(M,{children:r.jsxs(R,{className:"flex items-center gap-2",children:["üèõÔ∏è ",s.taxOptimization.contributionRoomContent?"RRSP Contribution Room":"Droits de cotisation REER"]})}),r.jsxs(E,{children:[r.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:Ve(a.reerContributionRoom)}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:n==="en"?"Available RRSP contribution room":"Espace de cotisation REER disponible"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:n==="en"?"2024 Annual Limit":"Limite annuelle 2024"}),r.jsx("span",{className:"font-medium",children:Ve(31560)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:n==="en"?"Estimated tax deduction":"D√©duction fiscale estim√©e"}),r.jsx("span",{className:"font-medium text-green-600",children:Ve(a.reerContributionRoom*.35)})]})]})]})]}),r.jsxs(C,{children:[r.jsx(M,{children:r.jsxs(R,{className:"flex items-center gap-2",children:["üí∞ ",n==="en"?"TFSA Contribution Room":"Droits de cotisation CELI"]})}),r.jsxs(E,{children:[r.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:Ve(a.celiContributionRoom)}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:n==="en"?"Available TFSA contribution room":"Espace de cotisation CELI disponible"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:n==="en"?"2024 Annual Limit":"Limite annuelle 2024"}),r.jsx("span",{className:"font-medium",children:Ve(7e3)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:n==="en"?"Tax-free growth":"Croissance libre d'imp√¥t"}),r.jsx("span",{className:"font-medium text-green-600",children:"‚úì"})]})]})]})]})]})}),r.jsx(ee,{value:"income-splitting",className:"space-y-4",children:r.jsxs(C,{children:[r.jsxs(M,{children:[r.jsxs(R,{className:"flex items-center gap-2",children:["üë´ ",n==="en"?"Income splitting opportunities":"Opportunit√©s de fractionnement de revenu"]}),r.jsx(te,{children:n==="en"?"Optimize income distribution between spouses":"Optimisez la r√©partition des revenus entre conjoints"})]}),r.jsx(E,{children:a.incomesSplittingOpportunities>0?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center p-6 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:Ve(a.incomesSplittingOpportunities)}),r.jsx("p",{className:"text-sm text-green-700",children:n==="en"?"Potential annual savings through income splitting":"√âconomies potentielles annuelles par le fractionnement"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h4",{className:"font-semibold mb-2",children:n==="en"?"Current incomes":"Revenus actuels"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:n==="en"?"Spouse 1:":"Conjoint 1:"}),r.jsx("span",{children:Ve(e.personal.salaire1)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:n==="en"?"Spouse 2:":"Conjoint 2:"}),r.jsx("span",{children:Ve(e.personal.salaire2)})]})]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h4",{className:"font-semibold mb-2",children:n==="en"?"Recommended strategies":"Strat√©gies recommand√©es"}),r.jsxs("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[r.jsx("li",{children:n==="en"?"‚Ä¢ Spousal loan":"‚Ä¢ Pr√™t au conjoint"}),r.jsx("li",{children:n==="en"?"‚Ä¢ Spousal RRSP":"‚Ä¢ REER de conjoint"}),r.jsx("li",{children:n==="en"?"‚Ä¢ Dividend splitting":"‚Ä¢ R√©partition des dividendes"}),r.jsx("li",{children:n==="en"?"‚Ä¢ Pension income splitting":"‚Ä¢ Fractionnement des revenus de pension"})]})]})]})]}):r.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:"text-gray-500 mb-2",children:n==="en"?"No significant income splitting opportunities detected":"Aucune opportunit√© significative de fractionnement d√©tect√©e"}),r.jsx("p",{className:"text-sm text-gray-400",children:n==="en"?"Income is already well distributed between spouses":"Les revenus sont d√©j√† bien r√©partis entre les conjoints"})]})})]})}),r.jsx(ee,{value:"pension-optimization",className:"space-y-4",children:r.jsxs(C,{children:[r.jsxs(M,{children:[r.jsxs(R,{className:"flex items-center gap-2",children:["üë¥ ",n==="en"?"Pension income optimization":"Optimisation du revenu de pension"]}),r.jsx(te,{children:n==="en"?"Maximize pension income tax benefits":"Maximisez les avantages fiscaux des revenus de pension"})]}),r.jsx(E,{children:a.pensionIncomeOptimization>0?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center p-6 bg-blue-50 rounded-lg",children:[r.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:Ve(a.pensionIncomeOptimization)}),r.jsx("p",{className:"text-sm text-blue-700",children:n==="en"?"Annual savings through pension income optimization":"√âconomies annuelles par l'optimisation des revenus de pension"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h4",{className:"font-semibold mb-2",children:n==="en"?"Available credits":"Cr√©dits disponibles"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:n==="en"?"Pension income credit:":"Cr√©dit pour revenu de pension:"}),r.jsx("span",{className:"text-green-600",children:n==="en"?"Yes":"Oui"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:n==="en"?"Splitting possible:":"Fractionnement possible:"}),r.jsx("span",{className:"text-green-600",children:n==="en"?"Yes":"Oui"})]})]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h4",{className:"font-semibold mb-2",children:n==="en"?"Pension incomes":"Revenus de pension"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:n==="en"?"Private pension 1:":"Pension priv√©e 1:"}),r.jsx("span",{children:Ve(e.retirement.pensionPrivee1)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:n==="en"?"Private pension 2:":"Pension priv√©e 2:"}),r.jsx("span",{children:Ve(e.retirement.pensionPrivee2)})]})]})]})]})]}):r.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:"text-gray-500 mb-2",children:n==="en"?"No pension income detected":"Aucun revenu de pension d√©tect√©"}),r.jsx("p",{className:"text-sm text-gray-400",children:n==="en"?"Pension income optimization strategies will be available once you have pension income":"Les strat√©gies d'optimisation des revenus de pension seront disponibles une fois que vous aurez des revenus de pension"})]})})]})})]})]})]})},YM=()=>{const{language:e}=Ct(),[t,n]=v.useState(65),[s,a]=v.useState(0),[i,l]=v.useState(0),[o,c]=v.useState(0),[u,d]=v.useState(7),[m,h]=v.useState(3),p={fr:{title:"üöÄ Planification de retraite avanc√©e",subtitle:"Transformez vos r√™ves de retraite en r√©alit√© avec notre calculateur intelligent",currentAge:"√Çge actuel",retirementAge:"√Çge de retraite souhait√©",currentSavings:"√âpargne actuelle",monthlyContribution:"Contribution mensuelle",expectedReturn:"Rendement annuel attendu (%)",inflationRate:"Taux d'inflation annuel (%)",calculate:"üöÄ Calculer ma retraite",results:"R√©sultats de votre planification",projectedSavings:"√âpargne projet√©e √† la retraite",monthlyIncome:"Revenu mensuel en retraite",yearsToRetirement:"Ann√©es jusqu'√† la retraite",totalContributions:"Total des contributions",investmentGrowth:"Croissance des investissements",inflationAdjusted:"Ajust√© pour l'inflation",riskLevel:"Niveau de risque",conservative:"Conservateur",moderate:"Mod√©r√©",aggressive:"Agressif",tips:"üí° Conseils d'optimisation",tip1:"Commencez t√¥t - le temps est votre meilleur alli√©",tip2:"Augmentez progressivement vos contributions",tip3:"Diversifiez vos investissements",tip4:"R√©√©valuez votre plan annuellement"},en:{title:"üöÄ Advanced Retirement Planning",subtitle:"Transform your retirement dreams into reality with our intelligent calculator",currentAge:"Current age",retirementAge:"Desired retirement age",currentSavings:"Current savings",monthlyContribution:"Monthly contribution",expectedReturn:"Expected annual return (%)",inflationRate:"Annual inflation rate (%)",calculate:"üöÄ Calculate my retirement",results:"Your planning results",projectedSavings:"Projected savings at retirement",monthlyIncome:"Monthly income in retirement",yearsToRetirement:"Years until retirement",totalContributions:"Total contributions",investmentGrowth:"Investment growth",inflationAdjusted:"Inflation adjusted",riskLevel:"Risk level",conservative:"Conservative",moderate:"Moderate",aggressive:"Aggressive",tips:"üí° Optimization tips",tip1:"Start early - time is your best ally",tip2:"Gradually increase your contributions",tip3:"Diversify your investments",tip4:"Reassess your plan annually"}}[e==="fr"?"fr":"en"],g=t-s,y=g*12*o,b=i*Math.pow(1+u/100,g)+o*((Math.pow(1+u/100,g)-1)/(u/100)),N=b/Math.pow(1+m/100,g)*(u/100)/12,w=()=>u<=5?"conservative":u<=8?"moderate":"aggressive",S=O=>{switch(O){case"conservative":return"bg-green-500";case"moderate":return"bg-yellow-500";case"aggressive":return"bg-red-500";default:return"bg-blue-500"}};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-indigo-900 text-white",children:[r.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-20 left-10 w-2 h-2 bg-yellow-400 rounded-full animate-pulse"}),r.jsx("div",{className:"absolute top-40 right-20 w-3 h-3 bg-blue-400 rounded-full animate-bounce"}),r.jsx("div",{className:"absolute top-60 left-1/4 w-2 h-2 bg-green-400 rounded-full animate-ping"}),r.jsx("div",{className:"absolute top-80 right-1/3 w-1 h-1 bg-red-400 rounded-full animate-pulse"}),r.jsx("div",{className:"absolute top-96 left-1/2 w-2 h-2 bg-purple-400 rounded-full animate-bounce"})]}),r.jsxs("div",{className:"container mx-auto px-6 py-8 relative z-10",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-yellow-400 via-orange-400 to-red-500 bg-clip-text text-transparent drop-shadow-2xl",children:p.title}),r.jsx("p",{className:"text-xl md:text-2xl text-gray-200 max-w-4xl mx-auto leading-relaxed",children:p.subtitle})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[r.jsxs(C,{className:"bg-gradient-to-br from-slate-800/90 to-slate-700/90 border-0 shadow-2xl backdrop-blur-sm",children:[r.jsx(M,{className:"border-b border-slate-600",children:r.jsxs(R,{className:"flex items-center gap-3 text-2xl text-yellow-400",children:[r.jsx(mt,{className:"w-8 h-8"}),"Param√®tres de planification"]})}),r.jsxs(E,{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{className:"text-gray-200 font-semibold",children:p.currentAge}),r.jsx(T,{type:"number",value:s,onChange:O=>a(Number(O.target.value)),className:"bg-slate-700 border-slate-600 text-white placeholder-gray-400 focus:border-yellow-400 focus:ring-yellow-400",min:"18",max:"100"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{className:"text-gray-200 font-semibold",children:p.retirementAge}),r.jsx(T,{type:"number",value:t,onChange:O=>n(Number(O.target.value)),className:"bg-slate-700 border-slate-600 text-white placeholder-gray-400 focus:border-yellow-400 focus:ring-yellow-400",min:"50",max:"100"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{className:"text-gray-200 font-semibold",children:p.currentSavings}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:"$"}),r.jsx(T,{type:"number",value:i,onChange:O=>l(Number(O.target.value)),className:"bg-slate-700 border-slate-600 text-white placeholder-gray-400 pl-8 focus:border-yellow-400 focus:ring-yellow-400",min:"0"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{className:"text-gray-200 font-semibold",children:p.monthlyContribution}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:"$"}),r.jsx(T,{type:"number",value:o,onChange:O=>c(Number(O.target.value)),className:"bg-slate-700 border-slate-600 text-white placeholder-gray-400 pl-8 focus:border-yellow-400 focus:ring-yellow-400",min:"0"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{className:"text-gray-200 font-semibold",children:p.expectedReturn}),r.jsx(T,{type:"number",value:u,onChange:O=>d(Number(O.target.value)),className:"bg-slate-700 border-slate-600 text-white placeholder-gray-400 focus:border-yellow-400 focus:ring-yellow-400",min:"1",max:"20",step:"0.1"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{className:"text-gray-200 font-semibold",children:p.inflationRate}),r.jsx(T,{type:"number",value:m,onChange:O=>h(Number(O.target.value)),className:"bg-slate-700 border-slate-600 text-white placeholder-gray-400 focus:border-yellow-400 focus:ring-yellow-400",min:"0",max:"10",step:"0.1"})]})]}),r.jsxs(_,{className:"w-full bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-slate-900 font-bold text-lg py-4 shadow-2xl transform hover:scale-105 transition-all duration-300",size:"lg",children:[r.jsx(mt,{className:"w-6 h-6 mr-3"}),p.calculate]})]})]}),r.jsxs(C,{className:"bg-gradient-to-br from-indigo-800/90 to-purple-800/90 border-0 shadow-2xl backdrop-blur-sm",children:[r.jsx(M,{className:"border-b border-indigo-600",children:r.jsxs(R,{className:"flex items-center gap-3 text-2xl text-blue-300",children:[r.jsx(et,{className:"w-8 h-8"}),p.results]})}),r.jsxs(E,{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-slate-700 to-slate-600 rounded-lg",children:[r.jsxs("span",{className:"text-gray-200 font-semibold",children:[p.riskLevel,":"]}),r.jsx(Z,{className:`${S(w())} text-white px-3 py-1`,children:p[w()]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-gradient-to-br from-green-600/20 to-green-500/20 p-4 rounded-lg border border-green-500/30",children:[r.jsxs("div",{className:"text-2xl font-bold text-green-400",children:["$",Math.round(b).toLocaleString()]}),r.jsx("div",{className:"text-sm text-gray-300",children:p.projectedSavings})]}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-600/20 to-blue-500/20 p-4 rounded-lg border border-blue-500/30",children:[r.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:["$",Math.round(N).toLocaleString()]}),r.jsx("div",{className:"text-sm text-gray-300",children:p.monthlyIncome})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-700/50 rounded-lg",children:[r.jsx("span",{className:"text-gray-300",children:p.yearsToRetirement}),r.jsxs("span",{className:"text-yellow-400 font-bold",children:[g," ans"]})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-700/50 rounded-lg",children:[r.jsx("span",{className:"text-gray-300",children:p.totalContributions}),r.jsxs("span",{className:"text-green-400 font-bold",children:["$",y.toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-700/50 rounded-lg",children:[r.jsx("span",{className:"text-gray-300",children:p.investmentGrowth}),r.jsxs("span",{className:"text-blue-400 font-bold",children:["$",Math.round(b-i-y).toLocaleString()]})]})]})]})]})]}),r.jsxs(C,{className:"bg-gradient-to-br from-yellow-800/90 to-orange-800/90 border-0 shadow-2xl backdrop-blur-sm",children:[r.jsx(M,{className:"border-b border-yellow-600",children:r.jsxs(R,{className:"flex items-center gap-3 text-2xl text-yellow-300",children:[r.jsx(Ac,{className:"w-8 h-8"}),p.tips]})}),r.jsx(E,{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:r.jsx(ir,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-green-300 mb-1",children:p.tip1}),r.jsx("p",{className:"text-gray-300 text-sm",children:"Commencez d√®s aujourd'hui pour maximiser l'effet des int√©r√™ts compos√©s."})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:r.jsx(et,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-blue-300 mb-1",children:p.tip2}),r.jsx("p",{className:"text-gray-300 text-sm",children:"Augmentez vos contributions de 1% chaque ann√©e ou lors des augmentations."})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:r.jsx(ue,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-purple-300 mb-1",children:p.tip3}),r.jsx("p",{className:"text-gray-300 text-sm",children:"R√©partissez vos investissements entre actions, obligations et autres actifs."})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:r.jsx(nt,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-orange-300 mb-1",children:p.tip4}),r.jsx("p",{className:"text-gray-300 text-sm",children:"Adaptez votre strat√©gie selon les changements de vie et de march√©."})]})]})]})})]})]})]})},GM=({data:e,onUpdate:t})=>{const[n,s]=v.useState("comptes"),[a,i]=v.useState(!1),l=window.location.pathname.includes("/fr/")||!window.location.pathname.includes("/en/"),o=(f,x)=>{t("savings",{[f]:x})},c=(e.savings?.reer1||0)+(e.savings?.reer2||0)+(e.savings?.celi1||0)+(e.savings?.celi2||0)+(e.savings?.placements1||0)+(e.savings?.placements2||0)+(e.savings?.epargne1||0)+(e.savings?.epargne2||0)+(e.savings?.cri1||0)+(e.savings?.cri2||0),u=(e.savings?.residenceValeur||0)-(e.savings?.residenceHypotheque||0),d=c+u,h=Math.min(100,c/1e6*100);return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-indigo-900 text-white",children:[r.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-20 left-10 w-2 h-2 bg-yellow-400 rounded-full animate-pulse"}),r.jsx("div",{className:"absolute top-40 right-20 w-3 h-3 bg-blue-400 rounded-full animate-bounce"}),r.jsx("div",{className:"absolute top-60 left-1/4 w-2 h-2 bg-green-400 rounded-full animate-ping"}),r.jsx("div",{className:"absolute top-80 right-1/3 w-1 h-1 bg-red-400 rounded-full animate-pulse"}),r.jsx("div",{className:"absolute top-96 left-1/2 w-2 h-2 bg-purple-400 rounded-full animate-bounce"}),r.jsx("div",{className:"absolute top-32 right-1/4 w-2 h-2 bg-orange-400 rounded-full animate-pulse"}),r.jsx("div",{className:"absolute top-72 left-1/3 w-1 h-1 bg-pink-400 rounded-full animate-bounce"}),r.jsx("div",{className:"absolute top-48 left-1/5 w-1 h-1 bg-cyan-400 rounded-full animate-ping"}),r.jsx("div",{className:"absolute top-88 right-1/5 w-2 h-2 bg-emerald-400 rounded-full animate-bounce"})]}),r.jsxs("div",{className:"container mx-auto px-6 py-8 relative z-10",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-yellow-400 via-orange-400 to-red-500 bg-clip-text text-transparent drop-shadow-2xl",children:l?"üöÄ √âpargne et placements intelligents":"üöÄ Intelligent Savings and Investments"}),r.jsx("p",{className:"text-xl md:text-2xl text-gray-200 max-w-4xl mx-auto leading-relaxed",children:l?"Transformez votre √©pargne en patrimoine spectaculaire avec notre IA avanc√©e":"Transform your savings into spectacular wealth with our advanced AI"})]}),a&&r.jsxs(Se,{className:"border-yellow-400 bg-yellow-900/20 text-yellow-200 mb-8",children:[r.jsx(Le,{className:"h-5 w-5 text-yellow-400"}),r.jsxs(Ae,{className:"text-lg",children:[r.jsx("strong",{children:l?"Conseils d'√©pargne :":"Savings Tips:"})," ",l?"Remplissez vos comptes d'√©pargne et placements. Les REER offrent des avantages fiscaux imm√©diats, les CELI permettent des retraits libres d'imp√¥t, et les placements non enregistr√©s offrent de la flexibilit√©.":"Fill in your savings and investment accounts. RRSPs offer immediate tax benefits, TFSAs allow tax-free withdrawals, and non-registered investments offer flexibility."]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[r.jsx(C,{className:"bg-gradient-to-br from-green-600/20 to-green-500/20 border border-green-500/30 shadow-2xl backdrop-blur-sm",children:r.jsx(E,{className:"pt-6 text-center",children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mx-auto",children:r.jsx(it,{className:"w-6 h-6 text-white"})}),r.jsx("div",{className:"text-2xl font-bold text-green-400",children:l?st(c):`$${c.toLocaleString()}`}),r.jsx("div",{className:"text-green-200 text-sm",children:l?"Total √©pargne":"Total Savings"}),r.jsx("div",{className:"text-green-300 text-xs",children:l?"Comptes enregistr√©s et non enregistr√©s":"Registered and unregistered accounts"})]})})}),r.jsx(C,{className:"bg-gradient-to-br from-blue-600/20 to-blue-500/20 border border-blue-500/30 shadow-2xl backdrop-blur-sm",children:r.jsx(E,{className:"pt-6 text-center",children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center mx-auto",children:r.jsx(Lr,{className:"w-6 h-6 text-white"})}),r.jsx("div",{className:"text-2xl font-bold text-blue-400",children:l?st(u):`$${u.toLocaleString()}`}),r.jsx("div",{className:"text-blue-200 text-sm",children:l?"Valeur nette r√©sidence":"Net Residence Value"}),r.jsx("div",{className:"text-blue-300 text-xs",children:l?"Valeur - Hypoth√®que":"Value - Mortgage"})]})})}),r.jsx(C,{className:"bg-gradient-to-br from-purple-600/20 to-purple-500/20 border border-purple-500/30 shadow-2xl backdrop-blur-sm",children:r.jsx(E,{className:"pt-6 text-center",children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center mx-auto",children:r.jsx(ct,{className:"w-6 h-6 text-white"})}),r.jsx("div",{className:"text-2xl font-bold text-purple-400",children:l?st(d):`$${d.toLocaleString()}`}),r.jsx("div",{className:"text-purple-200 text-sm",children:l?"Patrimoine total":"Total Net Worth"}),r.jsx("div",{className:"text-purple-300 text-xs",children:l?"√âpargne + R√©sidence nette":"Savings + Net Residence"})]})})}),r.jsx(C,{className:"bg-gradient-to-br from-orange-600/20 to-orange-500/20 border border-orange-500/30 shadow-2xl backdrop-blur-sm",children:r.jsx(E,{className:"pt-6 text-center",children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:r.jsx(Rt,{className:"w-6 h-6 text-white"})}),r.jsx("div",{className:"text-2xl font-bold text-orange-400",children:l?Cy(h):`${h.toFixed(1)}%`}),r.jsx("div",{className:"text-orange-200 text-sm",children:l?"Progression objectif":"Objective Progress"}),r.jsx("div",{className:"text-orange-300 text-xs",children:l?"Vers la libert√© financi√®re":"Towards financial freedom"}),r.jsx(lr,{value:h,className:"w-full h-2 bg-orange-900/30",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-orange-500 to-yellow-500 rounded-full transition-all duration-500",style:{width:`${h}%`}})})]})})})]}),r.jsx(C,{className:"bg-gradient-to-br from-slate-800/90 to-slate-700/90 border-0 shadow-2xl backdrop-blur-sm",children:r.jsx(E,{className:"p-6",children:r.jsxs(Jt,{value:n,onValueChange:s,className:"w-full",children:[r.jsxs(Xt,{className:"grid w-full grid-cols-3 bg-slate-700/50 p-1 rounded-lg h-12",children:[r.jsxs(re,{value:"comptes",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-purple-500 data-[state=active]:text-white data-[state=active]:shadow-lg focus:outline-none focus:ring-0 px-4 py-2 text-sm font-medium transition-all duration-300",children:[r.jsx(Di,{className:"w-4 h-4 mr-2"}),l?"Comptes d'√©pargne":"Savings Accounts"]}),r.jsxs(re,{value:"residence",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-purple-500 data-[state=active]:text-white data-[state=active]:shadow-lg focus:outline-none focus:ring-0 px-4 py-2 text-sm font-medium transition-all duration-300",children:[r.jsx(Lr,{className:"w-4 h-4 mr-2"}),l?"R√©sidence principale":"Primary Residence"]}),r.jsxs(re,{value:"analyse",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-purple-500 data-[state=active]:text-white data-[state=active]:shadow-lg focus:outline-none focus:ring-0 px-4 py-2 text-sm font-medium transition-all duration-300",children:[r.jsx(ct,{className:"w-4 h-4 mr-2"}),l?"Analyse et conseils":"Analysis and Advice"]})]}),r.jsx(ee,{value:"comptes",className:"mt-6",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs(C,{className:"bg-gradient-to-br from-blue-800/90 to-blue-700/90 border-0 shadow-xl backdrop-blur-sm",children:[r.jsx(M,{className:"border-b border-blue-600 bg-gradient-to-r from-blue-600/20 to-purple-600/20",children:r.jsxs(R,{className:"text-xl font-bold text-blue-300 flex items-center gap-3",children:[r.jsx(ls,{className:"w-6 h-6"}),l?"Personne 1 - Comptes d'√©pargne":"Person 1 - Savings Accounts"]})}),r.jsx(E,{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs(A,{className:"text-gray-200 font-semibold flex items-center gap-2",children:[r.jsx(ue,{className:"w-4 h-4 text-green-400"}),"REER"]}),r.jsx(T,{type:"number",value:e.savings?.reer1||0,onChange:f=>o("reer1",Number(f.target.value)),className:"bg-slate-700 border-slate-600 text-white placeholder-gray-400 focus:border-green-400 focus:ring-green-400",placeholder:"0"}),r.jsx("p",{className:"text-green-300 text-sm",children:l?"Avantages fiscaux imm√©diats":"Immediate tax benefits"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(A,{className:"text-gray-200 font-semibold flex items-center gap-2",children:[r.jsx(_t,{className:"w-4 h-4 text-blue-400"}),"CELI"]}),r.jsx(T,{type:"number",value:e.savings?.celi1||0,onChange:f=>o("celi1",Number(f.target.value)),className:"bg-slate-700 border-slate-600 text-white placeholder-gray-400 focus:border-blue-400 focus:ring-blue-400",placeholder:"0"}),r.jsx("p",{className:"text-blue-300 text-sm",children:l?"Retraits libres d'imp√¥t":"Tax-free withdrawals"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(A,{className:"text-gray-200 font-semibold flex items-center gap-2",children:[r.jsx(et,{className:"w-4 h-4 text-purple-400"}),l?"Placements non enregistr√©s":"Unregistered Investments"]}),r.jsx(T,{type:"number",value:e.savings?.placements1||0,onChange:f=>o("placements1",Number(f.target.value)),className:"bg-slate-700 border-slate-600 text-white placeholder-gray-400 focus:border-purple-400 focus:ring-purple-400",placeholder:"0"}),r.jsx("p",{className:"text-purple-300 text-sm",children:l?"Flexibilit√© maximale":"Maximum flexibility"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(A,{className:"text-gray-200 font-semibold flex items-center gap-2",children:[r.jsx(Di,{className:"w-4 h-4 text-yellow-400"}),l?"√âpargne r√©guli√®re":"Regular Savings"]}),r.jsx(T,{type:"number",value:e.savings?.epargne1||0,onChange:f=>o("epargne1",Number(f.target.value)),className:"bg-slate-700 border-slate-600 text-white placeholder-gray-400 focus:border-yellow-400 focus:ring-yellow-400",placeholder:"0"}),r.jsx("p",{className:"text-yellow-300 text-sm",children:l?"Comptes bancaires, etc.":"Bank accounts, etc."})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(A,{className:"text-gray-200 font-semibold flex items-center gap-2",children:[r.jsx(os,{className:"w-4 h-4 text-red-400"}),"CRI (si applicable)"]}),r.jsx(T,{type:"number",value:e.savings?.cri1||0,onChange:f=>o("cri1",Number(f.target.value)),className:"bg-slate-700 border-slate-600 text-white placeholder-gray-400 focus:border-red-400 focus:ring-red-400",placeholder:"0"}),r.jsx("p",{className:"text-red-300 text-sm",children:l?"Compte de retraite immobilis√©":"Locked-in retirement account"})]})]})})]}),r.jsxs(C,{className:"bg-gradient-to-br from-purple-800/90 to-purple-700/90 border-0 shadow-xl backdrop-blur-sm",children:[r.jsx(M,{className:"border-b border-purple-600 bg-gradient-to-r from-purple-600/20 to-pink-600/20",children:r.jsxs(R,{className:"text-xl font-bold text-purple-300 flex items-center gap-3",children:[r.jsx(ls,{className:"w-6 h-6"}),l?"Personne 2 - Comptes d'√©pargne":"Person 2 - Savings Accounts"]})}),r.jsx(E,{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs(A,{className:"text-gray-200 font-semibold flex items-center gap-2",children:[r.jsx(ue,{className:"w-4 h-4 text-green-400"}),"REER"]}),r.jsx(T,{type:"number",value:e.savings?.reer2||0,onChange:f=>o("reer2",Number(f.target.value)),className:"bg-slate-700 border-slate-600 text-white placeholder-gray-400 focus:border-green-400 focus:ring-green-400",placeholder:"0"}),r.jsx("p",{className:"text-green-300 text-sm",children:l?"Avantages fiscaux imm√©diats":"Immediate tax benefits"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(A,{className:"text-gray-200 font-semibold flex items-center gap-2",children:[r.jsx(_t,{className:"w-4 h-4 text-blue-400"}),"CELI"]}),r.jsx(T,{type:"number",value:e.savings?.celi2||0,onChange:f=>o("celi2",Number(f.target.value)),className:"bg-slate-700 border-slate-600 text-white placeholder-gray-400 focus:border-blue-400 focus:ring-blue-400",placeholder:"0"}),r.jsx("p",{className:"text-blue-300 text-sm",children:l?"Retraits libres d'imp√¥t":"Tax-free withdrawals"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(A,{className:"text-gray-200 font-semibold flex items-center gap-2",children:[r.jsx(et,{className:"w-4 h-4 text-purple-400"}),l?"Placements non enregistr√©s":"Unregistered Investments"]}),r.jsx(T,{type:"number",value:e.savings?.placements2||0,onChange:f=>o("placements2",Number(f.target.value)),className:"bg-slate-700 border-slate-600 text-white placeholder-gray-400 focus:border-purple-400 focus:ring-purple-400",placeholder:"0"}),r.jsx("p",{className:"text-purple-300 text-sm",children:l?"Flexibilit√© maximale":"Maximum flexibility"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(A,{className:"text-gray-200 font-semibold flex items-center gap-2",children:[r.jsx(Di,{className:"w-4 h-4 text-yellow-400"}),l?"√âpargne r√©guli√®re":"Regular Savings"]}),r.jsx(T,{type:"number",value:e.savings?.epargne2||0,onChange:f=>o("epargne2",Number(f.target.value)),className:"bg-slate-700 border-slate-600 text-white placeholder-gray-400 focus:border-yellow-400 focus:ring-yellow-400",placeholder:"0"}),r.jsx("p",{className:"text-yellow-300 text-sm",children:l?"Comptes bancaires, etc.":"Bank accounts, etc."})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(A,{className:"text-gray-200 font-semibold flex items-center gap-2",children:[r.jsx(os,{className:"w-4 h-4 text-red-400"}),"CRI (si applicable)"]}),r.jsx(T,{type:"number",value:e.savings?.cri2||0,onChange:f=>o("cri2",Number(f.target.value)),className:"bg-slate-700 border-slate-600 text-white placeholder-gray-400 focus:border-red-400 focus:ring-red-400",placeholder:"0"}),r.jsx("p",{className:"text-red-300 text-sm",children:l?"Compte de retraite immobilis√©":"Locked-in retirement account"})]})]})})]})]})}),r.jsx(ee,{value:"residence",className:"mt-6",children:r.jsxs(C,{className:"bg-gradient-to-br from-indigo-800/90 to-indigo-700/90 border-0 shadow-xl backdrop-blur-sm",children:[r.jsx(M,{className:"border-b border-indigo-600 bg-gradient-to-r from-indigo-600/20 to-blue-600/20",children:r.jsxs(R,{className:"text-xl font-bold text-indigo-300 flex items-center gap-3",children:[r.jsx(Lr,{className:"w-6 h-6"}),l?"R√©sidence principale":"Primary Residence"]})}),r.jsx(E,{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx(A,{className:"text-gray-200 font-semibold",children:l?"Valeur estim√©e de la r√©sidence":"Estimated Residence Value"}),r.jsx(T,{type:"number",value:e.savings?.residenceValeur||0,onChange:f=>o("residenceValeur",Number(f.target.value)),className:"bg-slate-700 border-slate-600 text-white placeholder-gray-400 focus:border-indigo-400 focus:ring-indigo-400",placeholder:"0"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(A,{className:"text-gray-200 font-semibold",children:l?"Solde de l'hypoth√®que":"Mortgage Balance"}),r.jsx(T,{type:"number",value:e.savings?.residenceHypotheque||0,onChange:f=>o("residenceHypotheque",Number(f.target.value)),className:"bg-slate-700 border-slate-600 text-white placeholder-gray-400 focus:border-indigo-400 focus:ring-indigo-400",placeholder:"0"})]})]})})]})}),r.jsx(ee,{value:"analyse",className:"mt-6",children:r.jsxs(C,{className:"bg-gradient-to-br from-emerald-800/90 to-emerald-700/90 border-0 shadow-xl backdrop-blur-sm",children:[r.jsx(M,{className:"border-b border-emerald-600 bg-gradient-to-r from-emerald-600/20 to-green-600/20",children:r.jsxs(R,{className:"text-xl font-bold text-emerald-300 flex items-center gap-3",children:[r.jsx(Ac,{className:"w-6 h-6"}),l?"Analyse et conseils IA":"AI Analysis and Advice"]})}),r.jsx(E,{className:"p-6",children:r.jsxs("div",{className:"text-center text-emerald-200",children:[r.jsx(mt,{className:"w-16 h-16 mx-auto mb-4 text-emerald-400"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:l?"Analyse en cours...":"Analysis in progress..."}),r.jsx("p",{children:l?"Nos algorithmes IA analysent vos donn√©es pour vous fournir des conseils personnalis√©s":"Our AI algorithms are analyzing your data to provide personalized advice"})]})})]})})]})})})]})]})},dd=()=>{if(typeof window<"u"){const e=window.location.pathname;if(e.includes("/en/"))return"en";if(e.includes("/fr/"))return"fr"}return"fr"},md={fr:{title:"D√©penses saisonni√®res avanc√©es",subtitle:"Planifiez vos d√©penses selon les saisons et g√©rez vos factures complexes",help:"Aide",helpText:"Ce module vous permet de planifier vos d√©penses saisonni√®res et de g√©rer vos factures avec des dates de paiement sp√©cifiques. Id√©al pour les taxes, l'√©lectricit√© variable, et les d√©penses comme le d√©neigement ou l'am√©nagement paysager.",seasonal:"Saisonni√®res",complex:"Factures complexes",monthly:"Vue mensuelle",weekly:"Vue hebdomadaire",winter:"Hiver",summer:"√ât√©",snowRemoval:"D√©neigement",additionalHeating:"Chauffage suppl√©mentaire",insulation:"Isolation/R√©parations",winterClothing:"V√™tements d'hiver",landscaping:"Am√©nagement paysager",airConditioning:"Climatisation",exteriorMaintenance:"Entretien ext√©rieur",summerActivities:"Activit√©s estivales",scheduledPayments:"Versements programm√©s",amount:"Montant",totalPayments:"Total des versements",paymentsScheduled:"versements programm√©s",payment:"versement",seasonalExpensesSummary:"R√©sum√© des d√©penses saisonni√®res",winterExpenses:"D√©penses hivernales",summerExpenses:"D√©penses estivales",taxes:"Taxes",variableElectricity:"√âlectricit√© variable",otherBills:"Autres factures",municipalTaxesTitle:"Taxes municipales et scolaires",annualBillsWithDates:"Factures annuelles avec dates de versement",municipalTaxes:"Taxes municipales",schoolTaxes:"Taxes scolaires",firstPayment:"Premier versement",secondPayment:"Deuxi√®me versement",generallyMarch:"(g√©n√©ralement mars)",generallyJune:"(g√©n√©ralement juin)",generallyJuly:"(g√©n√©ralement juillet)",generallyNovember:"(g√©n√©ralement novembre)",totalAnnualTaxes:"Total annuel des taxes",distributedOver:"R√©parti sur",payments:"versements",electricityTitle:"√âlectricit√© variable",bimonthlyBillingWithDates:"Facturation bimestrielle avec dates",winterPeriod:"P√©riode hivernale",summerPeriod:"P√©riode estivale",offSeasonPeriod:"P√©riode intersaisons",decemberJanuary:"D√©cembre-Janvier",februaryMarch:"F√©vrier-Mars",juneJuly:"Juin-Juillet",augustSeptember:"Ao√ªt-Septembre",aprilMay:"Avril-Mai",octoberNovember:"Octobre-Novembre",totalAnnualElectricity:"Total annuel √©lectricit√©",distributedOverBills:"R√©parti sur",bimonthlyBills:"factures bimestrielles",billsWithVariablePeriods:"Factures avec p√©riodes variables",homeInsurance:"Assurance habitation",autoInsurance:"Assurance automobile",cashflowAlerts:"Alertes de tr√©sorerie",importantPaymentsNext3Months:"Paiements importants dans les 3 prochains mois"},en:{title:"Advanced Seasonal Expenses",subtitle:"Plan your seasonal expenses and manage complex bills",help:"Help",helpText:"This module allows you to plan your seasonal expenses and manage bills with specific payment dates. Ideal for taxes, variable electricity, and expenses like snow removal or landscaping.",seasonal:"Seasonal",complex:"Complex Bills",monthly:"Monthly View",weekly:"Weekly View",winter:"Winter",summer:"Summer",snowRemoval:"Snow Removal",additionalHeating:"Additional Heating",insulation:"Insulation/Repairs",winterClothing:"Winter Clothing",landscaping:"Landscaping",airConditioning:"Air Conditioning",exteriorMaintenance:"Exterior Maintenance",summerActivities:"Summer Activities",scheduledPayments:"Scheduled Payments",amount:"Amount",totalPayments:"Total Payments",paymentsScheduled:"payments scheduled",payment:"payment",seasonalExpensesSummary:"Seasonal Expenses Summary",winterExpenses:"Winter Expenses",summerExpenses:"Summer Expenses",taxes:"Taxes",variableElectricity:"Variable Electricity",otherBills:"Other Bills",municipalTaxesTitle:"Municipal and School Taxes",annualBillsWithDates:"Annual bills with payment dates",municipalTaxes:"Municipal Taxes",schoolTaxes:"School Taxes",firstPayment:"First Payment",secondPayment:"Second Payment",generallyMarch:"(generally March)",generallyJune:"(generally June)",generallyJuly:"(generally July)",generallyNovember:"(generally November)",totalAnnualTaxes:"Total Annual Taxes",distributedOver:"Distributed over",payments:"payments",electricityTitle:"Variable Electricity",bimonthlyBillingWithDates:"Bimonthly billing with dates",winterPeriod:"Winter Period",summerPeriod:"Summer Period",offSeasonPeriod:"Off-Season Period",decemberJanuary:"December-January",februaryMarch:"February-March",juneJuly:"June-July",augustSeptember:"August-September",aprilMay:"April-May",octoberNovember:"October-November",totalAnnualElectricity:"Total Annual Electricity",distributedOverBills:"Distributed over",bimonthlyBills:"bimonthly bills",billsWithVariablePeriods:"Bills with variable periods",homeInsurance:"Home Insurance",autoInsurance:"Auto Insurance",cashflowAlerts:"Cashflow Alerts",importantPaymentsNext3Months:"Important payments in the next 3 months"}},JM=({data:e,onUpdate:t})=>{const[n,s]=v.useState("winter"),a=dd(),i=md[a],l=[{key:"deneigement",label:i.snowRemoval,icon:r.jsx(wd,{className:"w-4 h-4 text-blue-500"}),payments:[{key:"septembre",label:a==="fr"?"Versement septembre":"September payment",date:"2024-09-15"},{key:"janvier",label:a==="fr"?"Versement janvier":"January payment",date:"2025-01-15"}]},{key:"chauffage",label:i.additionalHeating,icon:r.jsx(_t,{className:"w-4 h-4 text-orange-500"}),payments:[{key:"novembre",label:a==="fr"?"Versement novembre":"November payment",date:"2024-11-01"},{key:"fevrier",label:a==="fr"?"Versement f√©vrier":"February payment",date:"2025-02-01"}]},{key:"isolation",label:i.insulation,icon:r.jsx(Lr,{className:"w-4 h-4 text-gray-500"}),payments:[{key:"octobre",label:a==="fr"?"Versement octobre":"October payment",date:"2024-10-01"}]},{key:"vetements",label:i.winterClothing,icon:r.jsx(Oy,{className:"w-4 h-4 text-blue-600"}),payments:[{key:"novembre",label:a==="fr"?"Versement novembre":"November payment",date:"2024-11-15"}]}],o=[{key:"amenagement",label:i.landscaping,icon:r.jsx(Xy,{className:"w-4 h-4 text-green-500"}),payments:[{key:"mai",label:a==="fr"?"Versement mai":"May payment",date:"2024-05-01"},{key:"juin",label:a==="fr"?"Versement juin":"June payment",date:"2024-06-01"}]},{key:"climatisation",label:i.airConditioning,icon:r.jsx(_t,{className:"w-4 h-4 text-blue-500"}),payments:[{key:"juin",label:a==="fr"?"Versement juin":"June payment",date:"2024-06-15"}]},{key:"entretien",label:i.exteriorMaintenance,icon:r.jsx(rb,{className:"w-4 h-4 text-gray-500"}),payments:[{key:"avril",label:a==="fr"?"Versement avril":"April payment",date:"2024-04-01"},{key:"septembre",label:a==="fr"?"Versement septembre":"September payment",date:"2024-09-01"}]},{key:"activites",label:i.summerActivities,icon:r.jsx(Pd,{className:"w-4 h-4 text-yellow-500"}),payments:[{key:"juillet",label:a==="fr"?"Versement juillet":"July payment",date:"2024-07-01"},{key:"aout",label:a==="fr"?"Versement ao√ªt":"August payment",date:"2024-08-01"}]}],c=(m,h,f,x)=>{const p=n==="winter"?"winterExpenses":"summerExpenses",g=e[p]||{},y=g[`${m}Payments`]||{};t("advancedExpenses",{[p]:{...g,[`${m}Payments`]:{...y,[h]:{...y[h],[f]:x}}}})},u=n==="winter"?l:o,d=e[n==="winter"?"winterExpenses":"summerExpenses"]||{};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(wd,{className:"w-5 h-5 text-blue-500"}),r.jsx("span",{className:"text-sm font-medium",children:i.winter})]}),r.jsx(_,{variant:n==="winter"?"default":"outline",size:"sm",onClick:()=>s("winter"),className:"bg-blue-500 hover:bg-blue-600",children:i.winter}),r.jsx(_,{variant:n==="summer"?"default":"outline",size:"sm",onClick:()=>s("summer"),className:"bg-orange-500 hover:bg-orange-600",children:i.summer}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Pd,{className:"w-5 h-5 text-orange-500"}),r.jsx("span",{className:"text-sm font-medium",children:i.summer})]})]}),r.jsx("div",{className:"space-y-6",children:u.map(m=>{const h=d[`${m.key}Payments`]||{},f=Object.values(h).reduce((x,p)=>x+(p.amount||0),0);return r.jsxs(C,{className:"border-l-4 border-l-blue-500",children:[r.jsxs(M,{children:[r.jsxs(R,{className:"text-lg flex items-center gap-2",children:[m.icon,m.label]}),r.jsxs(te,{children:[a==="fr"?"Total pr√©vu : ":"Planned total: ",st(f)]})]}),r.jsxs(E,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-semibold text-sm text-gray-700",children:i.scheduledPayments}),m.payments.map(x=>r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{className:"text-sm font-medium",children:x.label}),r.jsx(T,{type:"date",value:h[x.key]?.date||x.date,onChange:p=>c(m.key,x.key,"date",p.target.value),className:"text-sm"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{className:"text-sm font-medium",children:i.amount}),r.jsx(T,{type:"number",value:h[x.key]?.amount||"",onChange:p=>c(m.key,x.key,"amount",parseFloat(p.target.value)||0),placeholder:"0",className:"text-sm"})]})]},x.key))]}),r.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm font-medium text-blue-800",children:i.totalPayments}),r.jsx("span",{className:"text-lg font-bold text-blue-900",children:st(f)})]}),r.jsx("div",{className:"mt-2 text-xs text-blue-600",children:m.payments.length>1?`${m.payments.length} ${i.paymentsScheduled}`:`1 ${i.payment}`})]})]})]},m.key)})}),r.jsxs(C,{className:"bg-gradient-to-r from-blue-50 to-orange-50 border-blue-200",children:[r.jsx(M,{children:r.jsx(R,{className:"text-lg",children:i.seasonalExpensesSummary})}),r.jsx(E,{children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm text-blue-600",children:i.winterExpenses}),r.jsx("p",{className:"text-2xl font-bold text-blue-800",children:st(Object.keys(d).filter(m=>m.includes("Payments")).reduce((m,h)=>{const f=d[h]||{},x=Object.values(f).reduce((p,g)=>{const y=g&&typeof g=="object"&&"amount"in g?Number(g.amount):0;return p+(y||0)},0);return m+x},0))})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm text-orange-600",children:i.summerExpenses}),r.jsx("p",{className:"text-2xl font-bold text-orange-800",children:st(Object.keys(d).filter(m=>m.includes("Payments")).reduce((m,h)=>{const f=d[h]||{},x=Object.values(f).reduce((p,g)=>{const y=g&&typeof g=="object"&&"amount"in g?Number(g.amount):0;return p+(y||0)},0);return m+x},0))})]})]})})]})]})},XM=({data:e,onUpdate:t})=>{const[n,s]=v.useState("taxes"),a=dd(),i=md[a],l=[{key:"taxes",label:i.taxes,icon:r.jsx(Mt,{className:"w-4 h-4 text-red-500"})},{key:"electricite",label:i.variableElectricity,icon:r.jsx(_t,{className:"w-4 h-4 text-yellow-500"})},{key:"autres",label:i.otherBills,icon:r.jsx(eb,{className:"w-4 h-4 text-gray-500"})}],o=(h,f)=>{const x=e.complexBills||{};t("advancedExpenses",{complexBills:{...x,[h]:f}})},c=(h,f,x,p)=>{const g=e.complexBills||{},y=g[`${h}Payments`]||{};t("advancedExpenses",{complexBills:{...g,[`${h}Payments`]:{...y,[f]:{...y[f],[x]:p}}}})},u=e.complexBills||{},m=(()=>{const h=[],f=new Date,x=u.taxesPayments||{};Object.entries(x).forEach(([g,y])=>{if(y.date&&y.amount){const b=new Date(y.date),j=(b.getFullYear()-f.getFullYear())*12+(b.getMonth()-f.getMonth());j<=3&&j>=0&&h.push({type:"taxes",date:y.date,amount:y.amount,monthsAhead:j,urgency:j<=1?"high":j<=2?"medium":"low"})}});const p=u.electricitePayments||{};return Object.entries(p).forEach(([g,y])=>{if(y.date&&y.amount){const b=new Date(y.date),j=(b.getFullYear()-f.getFullYear())*12+(b.getMonth()-f.getMonth());j<=3&&j>=0&&h.push({type:"electricite",date:y.date,amount:y.amount,monthsAhead:j,urgency:j<=1?"high":j<=2?"medium":"low"})}}),h.sort((g,y)=>g.monthsAhead-y.monthsAhead)})();return r.jsxs("div",{className:"space-y-6",children:[m.length>0&&r.jsxs(C,{className:"border-l-4 border-l-orange-500 bg-orange-50",children:[r.jsxs(M,{children:[r.jsxs(R,{className:"text-lg text-orange-800 flex items-center gap-2",children:[r.jsx(kp,{className:"w-5 h-5"}),i.cashflowAlerts]}),r.jsx(te,{className:"text-orange-700",children:i.importantPaymentsNext3Months})]}),r.jsx(E,{children:r.jsx("div",{className:"space-y-3",children:m.map((h,f)=>r.jsx("div",{className:`p-3 rounded-lg border ${h.urgency==="high"?"bg-red-100 border-red-300":h.urgency==="medium"?"bg-orange-100 border-orange-300":"bg-yellow-100 border-yellow-300"}`,children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-semibold text-sm",children:[h.type==="taxes"?"Taxes":"√âlectricit√©"," - ",new Date(h.date).toLocaleDateString("fr-CA")]}),r.jsx("p",{className:"text-sm opacity-80",children:h.monthsAhead===0?"Ce mois-ci":h.monthsAhead===1?"Dans 1 mois":`Dans ${h.monthsAhead} mois`})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-bold text-lg",children:st(h.amount)}),r.jsx("p",{className:"text-xs opacity-70",children:h.urgency==="high"?"‚ö†Ô∏è Urgent":h.urgency==="medium"?"‚ö° Important":"üìÖ √Ä pr√©voir"})]})]})},f))})})]}),r.jsxs(Jt,{value:n,onValueChange:s,children:[r.jsx(Xt,{className:"grid w-full grid-cols-3 bg-gray-100 p-1 rounded-lg",children:l.map(h=>r.jsx(re,{value:h.key,className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white data-[state=active]:shadow-sm focus:outline-none focus:ring-0 px-3 py-1 text-sm font-medium",children:r.jsxs("div",{className:"flex items-center gap-2",children:[h.icon,h.label]})},h.key))}),r.jsx(ee,{value:"taxes",className:"space-y-4 mt-6",children:r.jsxs(C,{children:[r.jsxs(M,{children:[r.jsx(R,{className:"text-lg",children:i.municipalTaxesTitle}),r.jsx(te,{children:i.annualBillsWithDates})]}),r.jsxs(E,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold text-sm text-gray-700",children:i.scheduledPayments}),r.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[r.jsx("h5",{className:"font-medium text-blue-800 mb-3",children:i.municipalTaxes}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(A,{className:"text-sm font-medium",children:[i.firstPayment," ",i.generallyMarch]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx(T,{type:"date",value:u.taxesPayments?.municipales1?.date||"2024-03-01",onChange:h=>c("taxes","municipales1","date",h.target.value),className:"text-sm"}),r.jsx(T,{type:"number",value:u.taxesPayments?.municipales1?.amount||"",onChange:h=>c("taxes","municipales1","amount",parseFloat(h.target.value)||0),placeholder:"Montant",className:"text-sm"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(A,{className:"text-sm font-medium",children:[i.secondPayment," ",i.generallyJune]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx(T,{type:"date",value:u.taxesPayments?.municipales2?.date||"2024-06-01",onChange:h=>c("taxes","municipales2","date",h.target.value),className:"text-sm"}),r.jsx(T,{type:"number",value:u.taxesPayments?.municipales2?.amount||"",onChange:h=>c("taxes","municipales2","amount",parseFloat(h.target.value)||0),placeholder:"Montant",className:"text-sm"})]})]})]})]}),r.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[r.jsx("h5",{className:"font-medium text-green-800 mb-3",children:i.schoolTaxes}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(A,{className:"text-sm font-medium",children:[i.firstPayment," ",i.generallyJuly]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx(T,{type:"date",value:u.taxesPayments?.scolaires1?.date||"2024-07-01",onChange:h=>c("taxes","scolaires1","date",h.target.value),className:"text-sm"}),r.jsx(T,{type:"number",value:u.taxesPayments?.scolaires1?.amount||"",onChange:h=>c("taxes","scolaires1","amount",parseFloat(h.target.value)||0),placeholder:"Montant",className:"text-sm"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(A,{className:"text-sm font-medium",children:[i.secondPayment," ",i.generallyNovember]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx(T,{type:"date",value:u.taxesPayments?.scolaires2?.date||"2024-11-01",onChange:h=>c("taxes","scolaires2","date",h.target.value),className:"text-sm"}),r.jsx(T,{type:"number",value:u.taxesPayments?.scolaires2?.amount||"",onChange:h=>c("taxes","scolaires2","amount",parseFloat(h.target.value)||0),placeholder:"Montant",className:"text-sm"})]})]})]})]})]}),r.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm font-medium text-blue-800",children:i.totalAnnualTaxes}),r.jsx("span",{className:"text-lg font-bold text-blue-900",children:st(Object.values(u.taxesPayments||{}).reduce((h,f)=>{const x=f&&typeof f=="object"&&"amount"in f?Number(f.amount):0;return h+(x||0)},0))})]}),r.jsxs("div",{className:"mt-2 text-xs text-blue-600",children:[i.distributedOver," ",Object.keys(u.taxesPayments||{}).length," ",i.payments]})]})]})]})}),r.jsx(ee,{value:"electricite",className:"space-y-4 mt-6",children:r.jsxs(C,{children:[r.jsxs(M,{children:[r.jsx(R,{className:"text-lg",children:i.electricityTitle}),r.jsx(te,{children:i.bimonthlyBillingWithDates})]}),r.jsxs(E,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold text-sm text-gray-700",children:i.scheduledPayments}),r.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[r.jsx("h5",{className:"font-medium text-blue-800 mb-3",children:i.winterPeriod}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{className:"text-sm font-medium",children:i.decemberJanuary}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx(T,{type:"date",value:u.electricitePayments?.hiver1?.date||"2024-12-15",onChange:h=>c("electricite","hiver1","date",h.target.value),className:"text-sm"}),r.jsx(T,{type:"number",value:u.electricitePayments?.hiver1?.amount||"",onChange:h=>c("electricite","hiver1","amount",parseFloat(h.target.value)||0),placeholder:"Montant",className:"text-sm"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{className:"text-sm font-medium",children:i.februaryMarch}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx(T,{type:"date",value:u.electricitePayments?.hiver2?.date||"2025-02-15",onChange:h=>c("electricite","hiver2","date",h.target.value),className:"text-sm"}),r.jsx(T,{type:"number",value:u.electricitePayments?.hiver2?.amount||"",onChange:h=>c("electricite","hiver2","amount",parseFloat(h.target.value)||0),placeholder:"Montant",className:"text-sm"})]})]})]})]}),r.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg",children:[r.jsx("h5",{className:"font-medium text-orange-800 mb-3",children:i.summerPeriod}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{className:"text-sm font-medium",children:i.juneJuly}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx(T,{type:"date",value:u.electricitePayments?.ete1?.date||"2024-06-15",onChange:h=>c("electricite","ete1","date",h.target.value),className:"text-sm"}),r.jsx(T,{type:"number",value:u.electricitePayments?.ete1?.amount||"",onChange:h=>c("electricite","ete1","amount",parseFloat(h.target.value)||0),placeholder:"Montant",className:"text-sm"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{className:"text-sm font-medium",children:i.augustSeptember}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx(T,{type:"date",value:u.electricitePayments?.ete2?.date||"2024-08-15",onChange:h=>c("electricite","ete2","date",h.target.value),className:"text-sm"}),r.jsx(T,{type:"number",value:u.electricitePayments?.ete2?.amount||"",onChange:h=>c("electricite","ete2","amount",parseFloat(h.target.value)||0),placeholder:"Montant",className:"text-sm"})]})]})]})]}),r.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[r.jsx("h5",{className:"font-medium text-green-800 mb-3",children:i.offSeasonPeriod}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{className:"text-sm font-medium",children:i.aprilMay}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx(T,{type:"date",value:u.electricitePayments?.intersaison1?.date||"2024-04-15",onChange:h=>c("electricite","intersaison1","date",h.target.value),className:"text-sm"}),r.jsx(T,{type:"number",value:u.electricitePayments?.intersaison1?.amount||"",onChange:h=>c("electricite","intersaison1","amount",parseFloat(h.target.value)||0),placeholder:"Montant",className:"text-sm"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{className:"text-sm font-medium",children:i.octoberNovember}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx(T,{type:"date",value:u.electricitePayments?.intersaison2?.date||"2024-10-15",onChange:h=>c("electricite","intersaison2","date",h.target.value),className:"text-sm"}),r.jsx(T,{type:"number",value:u.electricitePayments?.intersaison2?.amount||"",onChange:h=>c("electricite","intersaison2","amount",parseFloat(h.target.value)||0),placeholder:"Montant",className:"text-sm"})]})]})]})]})]}),r.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm font-medium text-yellow-800",children:i.totalAnnualElectricity}),r.jsx("span",{className:"text-lg font-bold text-yellow-900",children:st(Object.values(u.electricitePayments||{}).reduce((h,f)=>{const x=f&&typeof f=="object"&&"amount"in f?Number(f.amount):0;return h+(x||0)},0))})]}),r.jsxs("div",{className:"mt-2 text-xs text-yellow-600",children:[i.distributedOverBills," ",Object.keys(u.electricitePayments||{}).length," ",i.bimonthlyBills]})]})]})]})}),r.jsx(ee,{value:"autres",className:"space-y-4 mt-6",children:r.jsxs(C,{children:[r.jsxs(M,{children:[r.jsx(R,{className:"text-lg",children:i.otherBills}),r.jsx(te,{children:i.billsWithVariablePeriods})]}),r.jsx(E,{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{children:i.homeInsurance}),r.jsx(T,{type:"number",value:u.assuranceHabitation||"",onChange:h=>o("assuranceHabitation",parseFloat(h.target.value)||0),placeholder:"0",className:"text-lg p-3"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{children:i.autoInsurance}),r.jsx(T,{type:"number",value:u.assuranceAuto||"",onChange:h=>o("assuranceAuto",parseFloat(h.target.value)||0),placeholder:"0",className:"text-lg p-3"})]})]})})]})})]})]})},QM=({data:e,onUpdate:t})=>{const[n,s]=v.useState("seasonal"),[a,i]=v.useState(!1),l=dd(),o=md[l],c=(u,d)=>{t("advancedExpenses",{[u]:d})};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-orange-500 rounded-full flex items-center justify-center",children:r.jsx(nt,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:o.title}),r.jsx("p",{className:"text-lg text-gray-600 mt-1",children:o.subtitle})]})]}),r.jsxs("button",{onClick:()=>i(!a),className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:[r.jsx(Le,{className:"w-4 h-4 inline mr-2"}),o.help]})]}),a&&r.jsxs(Se,{className:"border-blue-200 bg-blue-50",children:[r.jsx(Le,{className:"h-5 w-5 text-blue-600"}),r.jsx(Ae,{className:"text-blue-800",children:o.helpText})]}),r.jsx(C,{children:r.jsx(E,{className:"p-6",children:r.jsxs(Jt,{value:n,onValueChange:s,children:[r.jsxs(Xt,{className:"grid w-full grid-cols-4 bg-gray-100 p-1 rounded-lg h-10",children:[r.jsx(re,{value:"seasonal",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white data-[state=active]:shadow-sm focus:outline-none focus:ring-0 px-3 py-1 text-sm font-medium",children:o.seasonal}),r.jsx(re,{value:"complex",className:"data-[state=active]:bg-orange-500 data-[state=active]:text-white data-[state=active]:shadow-sm focus:outline-none focus:ring-0 px-3 py-1 text-sm font-medium",children:o.complex}),r.jsx(re,{value:"monthly",className:"data-[state=active]:bg-green-500 data-[state=active]:text-white data-[state=active]:shadow-sm focus:outline-none focus:ring-0 px-3 py-1 text-sm font-medium",children:o.monthly}),r.jsx(re,{value:"weekly",className:"data-[state=active]:bg-purple-500 data-[state=active]:text-white data-[state=active]:shadow-sm focus:outline-none focus:ring-0 px-3 py-1 text-sm font-medium",children:o.weekly})]}),r.jsx(ee,{value:"seasonal",className:"mt-6",children:r.jsx(JM,{data:e.advancedExpenses||{},onUpdate:c})}),r.jsx(ee,{value:"complex",className:"mt-6",children:r.jsx(XM,{data:e.advancedExpenses||{},onUpdate:c})}),r.jsx(ee,{value:"monthly",className:"mt-6",children:r.jsx("div",{className:"space-y-6",children:r.jsxs(C,{children:[r.jsxs(M,{children:[r.jsx(R,{className:"text-lg",children:"Vue mensuelle des d√©penses"}),r.jsx(te,{children:"R√©partition mensuelle de toutes vos d√©penses"})]}),r.jsx(E,{children:r.jsx("p",{className:"text-gray-600",children:"Fonctionnalit√© en d√©veloppement..."})})]})})}),r.jsx(ee,{value:"weekly",className:"mt-6",children:r.jsx("div",{className:"space-y-6",children:r.jsxs(C,{children:[r.jsxs(M,{children:[r.jsx(R,{className:"text-lg",children:"Vue hebdomadaire des d√©penses"}),r.jsx(te,{children:"Suivi hebdomadaire de vos d√©penses"})]}),r.jsx(E,{children:r.jsx("p",{className:"text-gray-600",children:"Fonctionnalit√© en d√©veloppement..."})})]})})})]})})})]})},ZM=({data:e,calculations:t})=>{const{language:n}=Ct(),[s,a]=v.useState("monte-carlo"),l={fr:{title:"Simulateur de Retraite Avanc√©",subtitle:"Explorez diff√©rents sc√©narios de retraite avec nos outils de simulation sophistiqu√©s. Testez vos hypoth√®ses, analysez les risques et optimisez votre plan de retraite pour maximiser vos chances de succ√®s financier.",overview:"Vue d'ensemble de votre retraite",overviewSubtitle:"R√©sum√© de votre situation actuelle et projections",simulationTypes:"Types de simulation disponibles",monteCarlo:"Simulation Monte Carlo",monteCarloDesc:"Analysez des milliers de sc√©narios possibles pour votre retraite",scenarioComparison:"Comparaison de sc√©narios",scenarioComparisonDesc:"Analysez l'impact de diff√©rents param√®tres",sensitivityAnalysis:"Analyse de sensibilit√©",sensitivityAnalysisDesc:"Testez l'impact de changements sur vos param√®tres cl√©s",monteCarloPillar:"Simulations Monte Carlo",monteCarloPillarDesc:"Analysez des milliers de sc√©narios possibles pour √©valuer les risques et opportunit√©s",riskManagement:"Gestion des Risques",riskManagementDesc:"Identifiez les vuln√©rabilit√©s et renforcez votre plan de retraite",detailedAnalysis:"Analyses D√©taill√©es",detailedAnalysisDesc:"Visualisez vos projections et prenez des d√©cisions √©clair√©es",capitalProjected:"Capital projet√©",sufficiency:"Suffisance",timeRemaining:"Temps restant",importantInfo:"Information importante",disclaimer:"Les simulations sont bas√©es sur des mod√®les math√©matiques et des hypoth√®ses. Les r√©sultats ne garantissent pas les performances futures et doivent √™tre utilis√©s comme guide de planification uniquement.",usageTips:"Conseils d'utilisation",tip1:"Testez diff√©rents param√®tres pour comprendre leur impact",tip2:"Un taux de succ√®s de 90% ou plus est g√©n√©ralement recommand√©",tip3:"Consid√©rez plusieurs sc√©narios (optimiste, pessimiste, r√©aliste)",tip4:"Revisitez vos simulations r√©guli√®rement",tip5:"Consultez un professionnel pour des conseils personnalis√©s",active:"Actif",developmentFeature:"Fonctionnalit√© en d√©veloppement",scenarioComparisonComingSoon:"Comparaison de sc√©narios multiples bient√¥t disponible",sensitivityAnalysisComingSoon:"Analyse de sensibilit√© bient√¥t disponible"},en:{title:"Advanced Retirement Simulator",subtitle:"Explore different retirement scenarios with our sophisticated simulation tools. Test your assumptions, analyze risks and optimize your retirement plan to maximize your chances of financial success.",overview:"Retirement Overview",overviewSubtitle:"Summary of your current situation and projections",simulationTypes:"Available Simulation Types",monteCarlo:"Monte Carlo Simulation",monteCarloDesc:"Analyze thousands of possible scenarios for your retirement",scenarioComparison:"Scenario Comparison",scenarioComparisonDesc:"Analyze the impact of different parameters",sensitivityAnalysis:"Sensitivity Analysis",sensitivityAnalysisDesc:"Test the impact of changes on your key parameters",monteCarloPillar:"Monte Carlo Simulations",monteCarloPillarDesc:"Analyze thousands of possible scenarios to assess risks and opportunities",riskManagement:"Risk Management",riskManagementDesc:"Identify vulnerabilities and strengthen your retirement plan",detailedAnalysis:"Detailed Analysis",detailedAnalysisDesc:"Visualize your projections and make informed decisions",capitalProjected:"Projected Capital",sufficiency:"Sufficiency",timeRemaining:"Time remaining",importantInfo:"Important Information",disclaimer:"Simulations are based on mathematical models and assumptions. Results do not guarantee future performance and should be used as planning guidance only.",usageTips:"Usage Tips",tip1:"Test different parameters to understand their impact",tip2:"A success rate of 90% or higher is generally recommended",tip3:"Consider multiple scenarios (optimistic, pessimistic, realistic)",tip4:"Revisit your simulations regularly",tip5:"Consult a professional for personalized advice",active:"Active",developmentFeature:"Feature in development",scenarioComparisonComingSoon:"Multiple scenario comparison coming soon",sensitivityAnalysisComingSoon:"Sensitivity analysis coming soon"}}[n],o=[{id:"monte-carlo",title:l.monteCarlo,description:l.monteCarloDesc,icon:r.jsx(Nd,{className:"w-5 h-5"}),component:r.jsx(Ey,{userData:e,calculations:t})},{id:"scenario-comparison",title:l.scenarioComparison,description:l.scenarioComparisonDesc,icon:r.jsx(Qy,{className:"w-5 h-5"}),component:r.jsx(ScenarioComparison,{userData:e,calculations:t})},{id:"sensitivity-analysis",title:l.sensitivityAnalysis,description:l.sensitivityAnalysisDesc,icon:r.jsx(Rt,{className:"w-5 h-5"}),component:r.jsx(SensitivityAnalysis,{userData:e,calculations:t})}],c=o.find(u=>u.id===s);return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-indigo-900 text-white",children:[r.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[r.jsx("div",{className:"absolute top-20 left-10 w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),r.jsx("div",{className:"absolute top-40 right-20 w-3 h-3 bg-purple-400 rounded-full animate-bounce"}),r.jsx("div",{className:"absolute bottom-40 left-20 w-2 h-2 bg-green-400 rounded-full animate-ping"}),r.jsx("div",{className:"absolute top-60 left-1/2 w-1 h-1 bg-yellow-400 rounded-full animate-pulse"})]}),r.jsxs("div",{className:"space-y-6 relative z-10 p-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-red-500 bg-clip-text text-transparent drop-shadow-2xl mb-4",children:l.title}),r.jsx("p",{className:"text-xl text-gray-300 max-w-4xl mx-auto leading-relaxed",children:l.subtitle})]}),r.jsxs(C,{className:"bg-gradient-to-br from-slate-800/90 to-slate-700/90 border-0 shadow-2xl backdrop-blur-sm",children:[r.jsxs(M,{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-400 to-purple-600 rounded-full flex items-center justify-center",children:r.jsx(_t,{className:"w-8 h-8 text-white"})})}),r.jsx(R,{className:"text-3xl text-white mb-3",children:l.title}),r.jsx(te,{className:"text-lg text-gray-300 max-w-4xl mx-auto leading-relaxed",children:l.subtitle})]}),r.jsx(E,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx(Nd,{className:"w-6 h-6 text-blue-600"})}),r.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:l.monteCarloPillar}),r.jsx("p",{className:"text-sm text-blue-700",children:l.monteCarloPillarDesc})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx(ue,{className:"w-6 h-6 text-blue-600"})}),r.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:l.riskManagement}),r.jsx("p",{className:"text-sm text-blue-700",children:l.riskManagementDesc})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx(ct,{className:"w-6 h-6 text-blue-600"})}),r.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:l.detailedAnalysis}),r.jsx("p",{className:"text-sm text-blue-700",children:l.detailedAnalysisDesc})]})]})})]}),r.jsxs(C,{className:"bg-gradient-to-br from-purple-50 to-blue-50 border-purple-200",children:[r.jsxs(M,{children:[r.jsxs(R,{className:"flex items-center gap-3 text-2xl",children:[r.jsx(mt,{className:"w-7 h-7 text-purple-600"}),l.overview]}),r.jsx(te,{className:"text-lg",children:l.overviewSubtitle})]}),r.jsx(E,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-white rounded-lg shadow-sm",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:Ve(t.retirementCapital)}),r.jsx("div",{className:"text-sm text-gray-600",children:l.capitalProjected})]}),r.jsxs("div",{className:"text-center p-4 bg-white rounded-lg shadow-sm",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:So(t.sufficiency)}),r.jsx("div",{className:"text-sm text-gray-600",children:l.sufficiency})]}),r.jsxs("div",{className:"text-center p-4 bg-white rounded-lg shadow-sm",children:[r.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[(e.personal.ageRetraiteSouhaite1||65)-Math.floor((new Date().getTime()-new Date(e.personal.naissance1).getTime())/(365.25*24*60*60*1e3))," ",n==="fr"?"ans":"years"]}),r.jsx("div",{className:"text-sm text-gray-600",children:l.timeRemaining})]})]})})]}),r.jsxs(C,{children:[r.jsx(M,{children:r.jsxs(R,{className:"flex items-center gap-2",children:[r.jsx(ky,{className:"w-5 h-5"}),l.simulationTypes]})}),r.jsx(E,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:o.map(u=>r.jsx(tn.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:r.jsxs(_,{variant:s===u.id?"default":"outline",className:`h-auto p-4 flex flex-col items-start gap-2 w-full ${s===u.id?"bg-purple-600 hover:bg-purple-700 text-white":"hover:bg-purple-50"}`,onClick:()=>a(u.id),children:[r.jsxs("div",{className:"flex items-center gap-2",children:[u.icon,r.jsx("span",{className:"font-semibold",children:u.title})]}),r.jsx("p",{className:"text-sm text-left opacity-80",children:u.description}),s===u.id&&r.jsx(Z,{variant:"secondary",className:"mt-2",children:l.active})]})},u.id))})})]}),r.jsxs(Se,{children:[r.jsx(Le,{className:"h-4 w-4"}),r.jsx(Ao,{children:l.importantInfo}),r.jsx(Ae,{children:l.disclaimer})]}),r.jsx(tn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:c?.component},s),r.jsxs(C,{className:"bg-amber-50 border-amber-200",children:[r.jsx(M,{children:r.jsxs(R,{className:"flex items-center gap-2 text-amber-800",children:[r.jsx(Ty,{className:"w-5 h-5"}),l.usageTips]})}),r.jsx(E,{className:"text-amber-700",children:r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsxs("li",{children:["‚Ä¢ ",l.tip1]}),r.jsxs("li",{children:["‚Ä¢ ",l.tip2]}),r.jsxs("li",{children:["‚Ä¢ ",l.tip3]}),r.jsxs("li",{children:["‚Ä¢ ",l.tip4]}),r.jsxs("li",{children:["‚Ä¢ ",l.tip5]})]})})]})]})]})};class eI{pdf;pageWidth;pageHeight;margins={top:20,right:20,bottom:20,left:20};currentY=30;constructor(){this.pdf=new Dy,this.pageWidth=this.pdf.internal.pageSize.width,this.pageHeight=this.pdf.internal.pageSize.height}async generateReport(t){return this.currentY=30,this.addCoverPage(t),this.addExecutiveSummary(t),this.addPersonalProfile(t),this.addFinancialAnalysis(t),this.addProjections(t),t.monteCarloResults&&this.addMonteCarloAnalysis(t),this.addRecommendations(t),this.addActionPlan(t),this.addFooter(),new Promise(n=>{const s=new Blob([this.pdf.output("blob")],{type:"application/pdf"});n(s)})}addCoverPage(t){this.addLogo(30,30),this.pdf.setFontSize(32),this.pdf.setTextColor(44,62,80),this.pdf.text("PLAN DE RETRAITE",this.pageWidth/2,80,{align:"center"}),this.pdf.setFontSize(18),this.pdf.setTextColor(52,73,94),this.pdf.text("Analyse personnalis√©e et recommandations",this.pageWidth/2,110,{align:"center"}),this.pdf.setFontSize(14),this.pdf.setTextColor(0,0,0);const n=`${t.userData.personal.prenom1} ${t.userData.personal.prenom2}`;this.pdf.text(`Pr√©par√© pour : ${n}`,this.pageWidth/2,140,{align:"center"});const s=new Date().toLocaleDateString("fr-CA");this.pdf.text(`Date : ${s}`,this.pageWidth/2,160,{align:"center"}),this.addFooter(),this.pdf.addPage(),this.currentY=30}addLogo(t,n){try{this.pdf.setFillColor(44,62,80),this.pdf.rect(t,n,80,25,"F"),this.pdf.setFillColor(255,193,7),this.pdf.circle(t+15,n+8,4,"F"),this.pdf.setFontSize(16),this.pdf.setTextColor(255,255,255),this.pdf.text("MonPlanRetraite",t+40,n+16,{align:"center"}),this.pdf.setDrawColor(255,193,7),this.pdf.setLineWidth(1),this.pdf.line(t,n+25,t+80,n+25),this.pdf.setFontSize(10),this.pdf.setTextColor(255,193,7),this.pdf.text(".ca",t+70,n+22,{align:"right"})}catch(s){console.warn("Impossible d'ajouter le logo:",s),this.pdf.setFontSize(12),this.pdf.setTextColor(44,62,80),this.pdf.text("MonPlanRetraite.ca",t,n+15)}}addFooter(){const t=this.pageHeight-20;this.pdf.setDrawColor(44,62,80),this.pdf.setLineWidth(1),this.pdf.line(20,t-8,this.pageWidth-20,t-8),this.pdf.setFontSize(8),this.pdf.setTextColor(44,62,80),this.pdf.text("MonPlanRetraite",20,t-2),this.pdf.setFontSize(9),this.pdf.setTextColor(100,100,100),this.pdf.text("Ce rapport a √©t√© pr√©par√© en utilisant la solution de planification MonPlanRetraite.ca",this.pageWidth/2,t-2,{align:"center"});const n=new Date().toLocaleDateString("fr-CA");this.pdf.setTextColor(100,100,100),this.pdf.text(`G√©n√©r√© le: ${n}`,this.pageWidth-20,t-2,{align:"right"})}addSectionHeader(t,n=[52,73,94]){this.checkPageBreak(20),this.pdf.setDrawColor(200,200,200),this.pdf.setLineWidth(.5),this.pdf.line(this.margins.left+5,this.currentY,this.pageWidth-this.margins.right-20,this.currentY),this.currentY+=10,this.pdf.setFontSize(20),this.pdf.setTextColor(n[0],n[1],n[2]),this.pdf.text(t,this.margins.left,this.currentY),this.currentY+=15,this.pdf.line(this.margins.left,this.currentY,this.pageWidth-this.margins.right,this.currentY),this.currentY+=8}addExecutiveSummary(t){this.addSectionHeader("SOMMAIRE EX√âCUTIF",[41,128,185]),this.addMetricCard("Valeur nette actuelle",t.calculations.netWorth,"La somme de tous vos actifs moins vos dettes",[46,204,113]),this.addMetricCard("Capital de retraite n√©cessaire",t.calculations.retirementCapital,"Montant estim√© pour maintenir votre niveau de vie",[231,76,60]),this.addMetricCard("Suffisance actuelle",t.calculations.sufficiency,"Pourcentage de vos besoins actuellement couverts",[155,89,182]),this.addAssetAllocationChart(t),this.pdf.addPage(),this.currentY=30}addMetricCard(t,n,s,a){this.checkPageBreak(60);const i=this.currentY,l=50,o=this.pageWidth-this.margins.left-this.margins.right;this.pdf.setFillColor(a[0],a[1],a[2]),this.pdf.rect(this.margins.left,i,o,l,"F"),this.pdf.setDrawColor(a[0],a[1],a[2]),this.pdf.setLineWidth(1),this.pdf.rect(this.margins.left,i,o,l),this.pdf.setFontSize(12),this.pdf.setTextColor(a[0],a[1],a[2]),this.pdf.text(t,this.margins.left+10,i+15),this.pdf.setFontSize(18),this.pdf.setTextColor(0,0,0);const c=n.toLocaleString("fr-CA",{style:"currency",currency:"CAD",maximumFractionDigits:0});this.pdf.text(c,this.margins.left+10,i+35),this.pdf.setFontSize(8),this.pdf.setTextColor(100,100,100),this.splitText(s,o-20).forEach((d,m)=>{this.pdf.text(d,this.margins.left+10,i+45+m*8)}),this.currentY+=l+15}addAssetAllocationChart(t){this.checkPageBreak(100);const n=this.margins.left,s=this.currentY,a=this.pageWidth-this.margins.left-this.margins.right,i=80,l=[{label:"REER",value:t.userData.savings.reer1+t.userData.savings.reer2,color:[52,152,219]},{label:"CELI",value:t.userData.savings.celi1+t.userData.savings.celi2,color:[46,204,113]},{label:"Placements",value:t.userData.savings.placements1+t.userData.savings.placements2,color:[155,89,182]},{label:"√âpargne",value:t.userData.savings.epargne1+t.userData.savings.epargne2,color:[241,196,15]},{label:"R√©sidence",value:t.userData.savings.residenceValeur-t.userData.savings.residenceHypotheque,color:[230,126,34]}],o=l.reduce((h,f)=>h+f.value,0),c=l.filter(h=>h.value>0).map(h=>({label:h.label,value:h.value,percentage:h.value/o*100,angle:h.value/o,color:h.color}));let u=0;c.forEach(h=>{const f=u+h.angle*2*Math.PI;this.pdf.setFillColor(h.color[0],h.color[1],h.color[2]),u=f}),this.pdf.text("R√©partition des actifs",n+a/2,this.currentY-5,{align:"center"});const d=n+a/2+20;let m=s+10;c.forEach((h,f)=>{this.pdf.setFillColor(h.color[0],h.color[1],h.color[2]),this.pdf.rect(d,m,8,8,"F"),this.pdf.setFontSize(10),this.pdf.setTextColor(0,0,0),this.pdf.text(`${h.label}: ${h.percentage.toFixed(1)}%`,d+12,m+6),m+=12}),this.currentY+=i+20}addPersonalProfile(t){this.addSectionHeader("PROFIL PERSONNEL",[231,76,60]),this.addInfoSection("Informations personnelles",[{label:"Conjoint 1",value:`${t.userData.personal.prenom1}, ${this.calculateAge(t.userData.personal.naissance1)} ans`},{label:"Conjoint 2",value:`${t.userData.personal.prenom2}, ${this.calculateAge(t.userData.personal.naissance2)} ans`},{label:"Revenus annuels",value:`${t.userData.personal.salaire1+t.userData.personal.salaire2} $`}]),this.addInfoSection("Objectifs de retraite",[{label:"√Çge de retraite souhait√©",value:`${t.userData.personal.ageRetraiteSouhaite1||65} ans`},{label:"D√©penses de retraite estim√©es",value:`${t.userData.personal.depensesRetraite||0} $ / mois`},{label:"Esp√©rance de vie",value:`${t.userData.retirement.esperanceVie1} ans`}]),this.pdf.addPage(),this.currentY=30}addInfoSection(t,n){this.checkPageBreak(30+n.length*15),this.pdf.setFontSize(14),this.pdf.setTextColor(52,73,94),this.pdf.text(t,this.margins.left,this.currentY),this.currentY+=20,n.forEach(s=>{this.pdf.setFontSize(10),this.pdf.setTextColor(0,0,0),this.pdf.text(`${s.label}:`,this.margins.left+10,this.currentY),this.pdf.text(s.value,this.margins.left+80,this.currentY),this.currentY+=12}),this.currentY+=10}addFinancialAnalysis(t){this.addSectionHeader("ANALYSE FINANCI√àRE",[46,204,113]),this.addFinancialTable("Actifs",[{label:"REER (total)",value:t.userData.savings.reer1+t.userData.savings.reer2},{label:"CELI (total)",value:t.userData.savings.celi1+t.userData.savings.celi2},{label:"Placements (total)",value:t.userData.savings.placements1+t.userData.savings.placements2},{label:"√âpargne (total)",value:t.userData.savings.epargne1+t.userData.savings.epargne2},{label:"Valeur r√©sidence",value:t.userData.savings.residenceValeur}]),this.addFinancialTable("Passifs",[{label:"Hypoth√®que r√©sidence",value:t.userData.savings.residenceHypotheque}]),this.addFinancialTable("Flux de tr√©sorerie mensuel",[{label:"Logement",value:t.userData.cashflow.logement},{label:"Alimentation",value:t.userData.cashflow.alimentation},{label:"Transport",value:t.userData.cashflow.transport},{label:"Loisirs",value:t.userData.cashflow.loisirs},{label:"Total mensuel",value:Object.values(t.userData.cashflow).reduce((n,s)=>n+(typeof s=="number"?s:0),0)}]),this.pdf.addPage(),this.currentY=30}addFinancialTable(t,n){this.checkPageBreak(40+n.length*12),this.pdf.setFontSize(12),this.pdf.setTextColor(52,73,94),this.pdf.text(t,this.margins.left,this.currentY),this.currentY+=15,this.pdf.setFontSize(9),this.pdf.setTextColor(100,100,100),this.pdf.text("Description",this.margins.left+10,this.currentY),this.pdf.text("Montant",this.pageWidth-this.margins.right-50,this.currentY),this.currentY+=5,this.pdf.setDrawColor(200,200,200),this.pdf.line(this.margins.left+10,this.currentY,this.pageWidth-this.margins.right-10,this.currentY),this.currentY+=8,n.forEach(s=>{this.pdf.setFontSize(10),this.pdf.setTextColor(0,0,0),this.pdf.text(s.label,this.margins.left+10,this.currentY);const a=s.value.toLocaleString("fr-CA",{style:"currency",currency:"CAD",maximumFractionDigits:0});this.pdf.text(a,this.pageWidth-this.margins.right-10,this.currentY,{align:"right"}),this.currentY+=12}),this.currentY+=10}addProjections(t){this.addSectionHeader("PROJECTIONS DE RETRAITE",[155,89,182]),this.addProjectionsChart(t),this.addScenariosTable(t),this.pdf.addPage(),this.currentY=30}addProjectionsChart(t){this.checkPageBreak(120);const n=this.currentY,s=100,a=this.pageWidth-this.margins.left-this.margins.right;this.pdf.setDrawColor(200,200,200),this.pdf.rect(this.margins.left,n,a,s),this.pdf.setFontSize(12),this.pdf.setTextColor(0,0,0),this.pdf.text("Projection de la valeur du portefeuille",this.margins.left,n-5),this.pdf.setFontSize(8),this.pdf.setTextColor(100,100,100),this.pdf.text("√Çge",this.margins.left+a/2,n+s+15,{align:"center"});const i=this.calculateAge(t.userData.personal.naissance1),o=(t.userData.personal.ageRetraiteSouhaite1||65)-i,c=[];for(let u=0;u<=o;u++){const d=this.margins.left+u/o*a,h=t.calculations.netWorth*Math.pow(1+.06,u),f=n+s-h/(t.calculations.netWorth*3)*s;c.push({x:d,y:f})}this.pdf.setDrawColor(52,152,219),this.pdf.setLineWidth(2);for(let u=0;u<c.length-1;u++)this.pdf.line(c[u].x,c[u].y,c[u+1].x,c[u+1].y);this.currentY+=s+30}addScenariosTable(t){this.checkPageBreak(80);const n=[{name:"Conservateur (4%)",rate:.04},{name:"Mod√©r√© (6%)",rate:.06},{name:"Agressif (8%)",rate:.08}];this.pdf.setFontSize(12),this.pdf.setTextColor(52,73,94),this.pdf.text("Sc√©narios de croissance",this.margins.left,this.currentY),this.currentY+=20,n.forEach(s=>{const a=this.calculateAge(t.userData.personal.naissance1),l=(t.userData.personal.ageRetraiteSouhaite1||65)-a,o=t.calculations.netWorth*Math.pow(1+s.rate,l);this.pdf.setFontSize(10),this.pdf.setTextColor(0,0,0),this.pdf.text(s.name,this.margins.left+10,this.currentY);const c=o.toLocaleString("fr-CA",{style:"currency",currency:"CAD",maximumFractionDigits:0});this.pdf.text(c,this.pageWidth-this.margins.right-10,this.currentY,{align:"right"}),this.currentY+=15}),this.currentY+=20}addMonteCarloAnalysis(t){this.addSectionHeader("ANALYSE MONTE CARLO",[230,126,34]),this.pdf.setFontSize(10),this.pdf.setTextColor(0,0,0),this.splitText("L'analyse Monte Carlo simule 10 000 sc√©narios diff√©rents pour √©valuer la probabilit√© de succ√®s de votre plan de retraite.",this.pageWidth-this.margins.left-this.margins.right).forEach(a=>{this.pdf.text(a,this.margins.left,this.currentY),this.currentY+=12}),this.currentY+=10,this.addInfoSection("R√©sultats de simulation",[{label:"Probabilit√© de succ√®s",value:"85%"},{label:"Valeur m√©diane √† 95 ans",value:"1 250 000 $"},{label:"Sc√©nario pessimiste (5e percentile)",value:"450 000 $"},{label:"Sc√©nario optimiste (95e percentile)",value:"2 850 000 $"}]),this.pdf.addPage(),this.currentY=30}addRecommendations(t){this.addSectionHeader("RECOMMANDATIONS",[231,76,60]),["Maximisez vos cotisations REER annuelles pour b√©n√©ficier des d√©ductions fiscales.","Diversifiez votre portefeuille avec un m√©lange d'actions et d'obligations selon votre profil de risque.","Consid√©rez reporter votre RRQ jusqu'√† 70 ans pour augmenter vos prestations de 42%.","√âtablissez un fonds d'urgence √©quivalent √† 6 mois de d√©penses courantes.","R√©viser votre plan annuellement et ajuster selon l'√©volution de votre situation."].forEach((s,a)=>{this.checkPageBreak(20),this.pdf.setFontSize(10),this.pdf.setTextColor(0,0,0),this.pdf.text(`${a+1}.`,this.margins.left+10,this.currentY);const i=this.splitText(s,this.pageWidth-this.margins.left-this.margins.right-20);i.forEach((l,o)=>{this.pdf.text(l,this.margins.left+20,this.currentY+o*12)}),this.currentY+=i.length*12+8}),this.pdf.addPage(),this.currentY=30}addActionPlan(t){this.addSectionHeader("PLAN D'ACTION",[46,204,113]);const n=[{priority:"Haute",action:"Maximiser les cotisations REER avant la fin de l'ann√©e fiscale",timeline:"3 mois"},{priority:"Haute",action:"R√©√©quilibrer le portefeuille selon l'allocation cible",timeline:"1 mois"},{priority:"Moyenne",action:"Obtenir une √©valuation de la pension d'employeur",timeline:"6 mois"},{priority:"Moyenne",action:"R√©viser les b√©n√©ficiaires des comptes enregistr√©s",timeline:"6 mois"},{priority:"Basse",action:"Planifier la strat√©gie de d√©caissement √† la retraite",timeline:"12 mois"}];this.pdf.setFontSize(9),this.pdf.setTextColor(100,100,100),this.pdf.text("Priorit√©",this.margins.left+10,this.currentY),this.pdf.text("Action recommand√©e",this.margins.left+50,this.currentY),this.pdf.text("D√©lai",this.pageWidth-this.margins.right-30,this.currentY),this.currentY+=5,this.pdf.setDrawColor(200,200,200),this.pdf.line(this.margins.left+10,this.currentY,this.pageWidth-this.margins.right-10,this.currentY),this.currentY+=10,n.forEach(s=>{this.checkPageBreak(15);let a=[0,0,0];s.priority==="Haute"?a=[231,76,60]:s.priority==="Moyenne"?a=[243,156,18]:a=[46,204,113],this.pdf.setFontSize(9),this.pdf.setTextColor(a[0],a[1],a[2]),this.pdf.text(s.priority,this.margins.left+10,this.currentY),this.pdf.setTextColor(0,0,0);const i=this.splitText(s.action,100);i.forEach((l,o)=>{this.pdf.text(l,this.margins.left+50,this.currentY+o*10)}),this.pdf.text(s.timeline,this.pageWidth-this.margins.right-10,this.currentY,{align:"right"}),this.currentY+=Math.max(i.length*10,12)+5})}calculateAge(t){const n=new Date,s=new Date(t);let a=n.getFullYear()-s.getFullYear();const i=n.getMonth()-s.getMonth();return(i<0||i===0&&n.getDate()<s.getDate())&&a--,a}splitText(t,n){const s=t.split(" "),a=[];let i="";return s.forEach(l=>{const o=i+(i?" ":"")+l;this.pdf.getTextWidth(o)<=n?i=o:i?(a.push(i),i=l):a.push(l)}),i&&a.push(i),a}checkPageBreak(t){this.currentY+t>this.pageHeight-this.margins.bottom&&(this.addFooter(),this.pdf.addPage(),this.currentY=this.margins.top)}truncateText(t,n){return t.length>n?t.substring(0,n)+"...":t}addBezierCurve(t,n,s,a,i,l,o,c){this.pdf.line(t,n,o,c)}drawAreaChart(t,n,s,a,i){if(t.length===0)return;const l=a/(t.length-1),o=Math.max(...t),c=Math.min(...t),u=o-c||1;this.pdf.setDrawColor(200,200,200),this.pdf.line(n,s+i,n+a,s+i),this.pdf.setDrawColor(52,152,219),this.pdf.setLineWidth(1);for(let d=0;d<t.length-1;d++){const m=n+d*l,h=s+i-(t[d]-c)/u*i,f=n+(d+1)*l,x=s+i-(t[d+1]-c)/u*i;this.pdf.line(m,h,f,x)}}addTrendLine(t,n,s,a,i=[52,152,219]){this.pdf.setDrawColor(i[0],i[1],i[2]),this.pdf.setLineWidth(1);const l=Math.sqrt(Math.pow(s-t,2)+Math.pow(a-n,2)),o=Math.floor(l/5);for(let c=0;c<o;c+=2){const u=t+(s-t)*c/o,d=n+(a-n)*c/o,m=t+(s-t)*(c+1)/o,h=n+(a-n)*(c+1)/o;this.pdf.line(u,d,m,h)}}addBarChart(t,n,s,a,i){if(t.length===0)return;const l=a/t.length,o=Math.max(...t.map(c=>c.value));t.forEach((c,u)=>{const d=c.value/o*i,m=n+u*l,h=s+i-d,f=c.color||[52,152,219];this.pdf.setFillColor(f[0],f[1],f[2]),this.pdf.rect(m+5,h,l-10,d,"F"),this.pdf.setFontSize(8),this.pdf.setTextColor(0,0,0),this.splitText(c.label,l-10).forEach((g,y)=>{this.pdf.text(g,m+l/2,s+i+10+y*8,{align:"center"})});const p=c.value.toLocaleString("fr-CA",{style:"currency",currency:"CAD",maximumFractionDigits:0});this.pdf.text(p,m+l/2,h-5,{align:"center"})})}addProgressChart(t,n,s,a,i,l){this.checkPageBreak(40),this.pdf.setFontSize(10),this.pdf.setTextColor(0,0,0),this.pdf.text(s,a,i);const o=i+15,c=20;this.pdf.setFillColor(240,240,240),this.pdf.rect(a,o,l,c,"F");const u=t/n*l,d=t>=n?[46,204,113]:t>=n*.7?[243,156,18]:[231,76,60];this.pdf.setFillColor(d[0],d[1],d[2]),this.pdf.rect(a,o,Math.min(u,l),c,"F"),this.pdf.setDrawColor(200,200,200),this.pdf.rect(a,o,l,c);const m=t/n*100;this.pdf.setFontSize(12),this.pdf.setTextColor(255,255,255),this.pdf.text(`${m.toFixed(1)}%`,a+l/2,o+c/2+3,{align:"center"}),this.pdf.setFontSize(8),this.pdf.setTextColor(0,0,0),this.pdf.text(`Actuel: ${t.toLocaleString("fr-CA",{style:"currency",currency:"CAD"})}`,a,o+c+12),this.pdf.text(`Cible: ${n.toLocaleString("fr-CA",{style:"currency",currency:"CAD"})}`,a+l,o+c+12,{align:"right"})}addDonutChart(t,n,s,a,i){const l=t.reduce((c,u)=>c+u.value,0);if(l===0)return;let o=0;t.forEach(c=>{const u=c.value/l*2*Math.PI,d=o+u;this.pdf.setFillColor(c.color[0],c.color[1],c.color[2]);const m=Math.max(10,Math.floor(u*20));for(let h=0;h<m;h++){const f=o+u*h/m,x=o+u*(h+1)/m,p=n+Math.cos(f)*a,g=s+Math.sin(f)*a,y=n+Math.cos(x)*a,b=s+Math.sin(x)*a;this.pdf.triangle(n,s,p,g,y,b,"F")}o=d}),this.pdf.setFillColor(255,255,255),this.pdf.rect(n-i,s-i,i*2,i*2,"F")}addLegend(t,n,s){t.forEach((a,i)=>{const l=s+i*15;this.pdf.setFillColor(a.color[0],a.color[1],a.color[2]),this.pdf.rect(n,l,10,10,"F"),this.pdf.setFontSize(9),this.pdf.setTextColor(0,0,0),this.pdf.text(a.label,n+15,l+7)})}triangle(t,n,s,a,i,l,o="S"){this.pdf.line(t,n,s,a),this.pdf.line(s,a,i,l),this.pdf.line(i,l,t,n)}}const tI=({userData:e,calculations:t,monteCarloResults:n,recommendations:s})=>{const{t:a}=Ct(),[i,l]=v.useState(!1),[o,c]=v.useState(0),[u,d]=v.useState(!1),[m,h]=v.useState(null),f=async()=>{l(!0),c(0);try{const p=setInterval(()=>{c(j=>j>=90?(clearInterval(p),90):j+10)},200),g={userData:e,calculations:t,monteCarloResults:n,recommendations:s,generatedAt:new Date},b=await new eI().generateReport(g);clearInterval(p),c(100),h(b),x(b),setTimeout(()=>{l(!1),c(0)},2e3)}catch(p){console.error("Erreur lors de la g√©n√©ration du PDF:",p),l(!1),c(0)}},x=p=>{const g=URL.createObjectURL(p),y=document.createElement("a");y.href=g,y.download=`Plan-Retraite-${e.personal.nom1}-${new Date().toISOString().split("T")[0]}.pdf`,y.click(),URL.revokeObjectURL(g)};return r.jsx("div",{className:"space-y-6",children:r.jsxs(C,{children:[r.jsxs(M,{children:[r.jsxs(R,{className:"flex items-center gap-2",children:[r.jsx(ht,{className:"w-5 h-5 text-blue-600"}),a("reports.professionalExport")]}),r.jsx(te,{children:a("reports.reportDescription")})]}),r.jsxs(E,{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Sp,{icon:r.jsx(ht,{className:"w-4 h-4"}),title:a("reports.reportContent"),items:[a("reports.coverPage"),a("reports.executiveSummary"),a("reports.detailedAnalysis"),a("reports.retirementProjections"),n?a("reports.monteCarloAnalysis"):null,a("reports.priorityRecommendations"),a("reports.structuredActionPlan")].filter(Boolean)}),r.jsx(Sp,{icon:r.jsx(My,{className:"w-4 h-4"}),title:a("reports.reportFeatures"),items:[a("reports.modernDesign"),a("reports.chartsAndVisualizations"),a("reports.colorCodedPriorities"),a("reports.a4Optimized"),a("reports.customFooter")]})]}),r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx(Tp,{mode:"wait",children:i?r.jsxs(tn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"w-full max-w-md space-y-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(Iy,{className:"w-8 h-8 animate-spin mx-auto mb-2 text-blue-600"}),r.jsx("p",{className:"text-sm font-medium",children:a("reports.generatingReport")})]}),r.jsx(lr,{value:o,className:"h-2"}),r.jsxs("div",{className:"text-center text-xs text-gray-600",children:[o<20&&a("reports.generatingReport"),o>=20&&o<40&&a("reports.generatingReport"),o>=40&&o<60&&a("reports.generatingReport"),o>=60&&o<80&&a("reports.generatingReport"),o>=80&&o<100&&a("reports.generatingReport"),o===100&&a("reports.reportGenerated")]})]}):r.jsx(tn.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},children:r.jsxs(_,{size:"lg",onClick:f,className:"bg-blue-600 hover:bg-blue-700",children:[r.jsx(Jy,{className:"w-5 h-5 mr-2"}),a("reports.generateReport")]})})}),o===100&&r.jsxs(tn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center gap-2 text-green-600",children:[r.jsx(ir,{className:"w-5 h-5"}),r.jsx("span",{className:"font-medium",children:a("reports.downloadSuccess")})]})]}),r.jsxs(Se,{children:[r.jsx(Le,{className:"h-4 w-4"}),r.jsxs(Ae,{children:[a("reports.reportIncludes")," ",a("reports.reviewRegularly")," ",a("reports.keepSafe")]})]})]})]})})},Sp=({icon:e,title:t,items:n})=>r.jsx(C,{className:"h-full",children:r.jsx(E,{className:"pt-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg text-blue-600",children:e}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium text-sm mb-2",children:t}),r.jsx("ul",{className:"space-y-1",children:n.map((s,a)=>r.jsxs(tn.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:a*.1},className:"text-xs text-gray-600 flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-600 mt-0.5",children:"‚Ä¢"}),r.jsx("span",{children:s})]},a))})]})]})})}),rI=({data:e,calculations:t})=>{const{language:n}=Ct(),s=n==="fr",[a,i]=v.useState("comprehensive"),l=[{id:"comprehensive",title:s?"Rapport complet":"Comprehensive Report",description:s?"Analyse d√©taill√©e de votre plan de retraite":"Detailed analysis of your retirement plan",icon:ht,color:"from-blue-600 to-indigo-600",features:[s?"Page de couverture personnalis√©e":"Custom cover page",s?"R√©sum√© ex√©cutif":"Executive summary",s?"Analyse d√©taill√©e":"Detailed analysis",s?"Projections de retraite":"Retirement projections",s?"Recommandations prioritaires":"Priority recommendations",s?"Plan d'action structur√©":"Structured action plan"]},{id:"summary",title:s?"R√©sum√© ex√©cutif":"Executive Summary",description:s?"Vue d'ensemble concise de votre situation":"Concise overview of your situation",icon:ct,color:"from-green-600 to-emerald-600",features:[s?"M√©triques cl√©s":"Key metrics",s?"Graphiques visuels":"Visual charts",s?"Recommandations principales":"Main recommendations",s?"Prochaines √©tapes":"Next steps"]},{id:"projections",title:s?"Projections financi√®res":"Financial Projections",description:s?"Sc√©narios d√©taill√©s et projections":"Detailed scenarios and projections",icon:et,color:"from-purple-600 to-pink-600",features:[s?"Projections de revenus":"Income projections",s?"Analyse de flux de tr√©sorerie":"Cashflow analysis",s?"Sc√©narios optimistes/pessimistes":"Optimistic/pessimistic scenarios",s?"Analyse de sensibilit√©":"Sensitivity analysis"]}],o=[{icon:Cc,title:s?"Design moderne":"Modern Design",description:s?"Interface professionnelle et √©l√©gante":"Professional and elegant interface"},{icon:ct,title:s?"Graphiques et visualisations":"Charts & Visualizations",description:s?"Donn√©es pr√©sent√©es visuellement":"Data presented visually"},{icon:Rt,title:s?"Priorit√©s cod√©es par couleur":"Color-coded Priorities",description:s?"Identification rapide des actions importantes":"Quick identification of important actions"},{icon:_y,title:s?"Optimis√© pour l'impression":"Print Optimized",description:s?"Format A4 parfaitement adapt√©":"Perfectly adapted A4 format"}];return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 text-white",children:[r.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),r.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),r.jsx("div",{className:"absolute top-40 left-1/2 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})]}),r.jsxs("div",{className:"relative z-10 container mx-auto px-6 py-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("div",{className:"inline-flex items-center gap-3 mb-4 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full text-sm font-bold shadow-2xl",children:[r.jsx(ht,{className:"w-5 h-5"}),s?"RAPPORTS PROFESSIONNELS":"PROFESSIONAL REPORTS"]}),r.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent drop-shadow-2xl",children:s?"üìä Rapports de retraite":"üìä Retirement Reports"}),r.jsx("p",{className:"text-xl text-blue-200 max-w-4xl mx-auto leading-relaxed",children:s?"Transformez vos donn√©es financi√®res en rapports professionnels et insights strat√©giques":"Transform your financial data into professional reports and strategic insights"})]}),r.jsxs("div",{className:"mb-12",children:[r.jsx("h2",{className:"text-2xl font-bold text-center mb-8 text-blue-200",children:s?"Choisissez votre type de rapport":"Choose Your Report Type"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:l.map(c=>r.jsxs(C,{className:`cursor-pointer transition-all duration-300 hover:scale-105 hover:shadow-2xl ${a===c.id?"ring-4 ring-blue-400 bg-gradient-to-br from-white/20 to-white/10":"bg-white/10"} backdrop-blur-sm border-white/20`,onClick:()=>i(c.id),children:[r.jsxs(M,{className:"text-center",children:[r.jsx("div",{className:`w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r ${c.color} flex items-center justify-center shadow-xl`,children:r.jsx(c.icon,{className:"w-8 h-8 text-white"})}),r.jsx(R,{className:"text-white text-xl",children:c.title}),r.jsx(te,{className:"text-blue-200",children:c.description})]}),r.jsxs(E,{children:[r.jsx("ul",{className:"space-y-2",children:c.features.map((u,d)=>r.jsxs("li",{className:"flex items-center gap-2 text-sm text-blue-100",children:[r.jsx(ir,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),u]},d))}),a===c.id&&r.jsx(Z,{className:"mt-4 bg-blue-500 text-white",children:s?"S√©lectionn√©":"Selected"})]})]},c.id))})]}),r.jsxs(C,{className:"bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-sm border-white/20 mb-12",children:[r.jsxs(M,{className:"text-center",children:[r.jsxs(R,{className:"text-2xl font-bold text-white flex items-center justify-center gap-3",children:[r.jsx(Ry,{className:"w-7 h-7 text-yellow-400"}),s?"Fonctionnalit√©s avanc√©es":"Advanced Features"]}),r.jsx(te,{className:"text-blue-200",children:s?"Tous nos rapports incluent ces fonctionnalit√©s professionnelles":"All our reports include these professional features"})]}),r.jsx(E,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:o.map((c,u)=>r.jsxs("div",{className:"text-center p-4 rounded-lg bg-white/5 hover:bg-white/10 transition-all duration-300",children:[r.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center",children:r.jsx(c.icon,{className:"w-6 h-6 text-white"})}),r.jsx("h3",{className:"font-semibold text-white mb-2",children:c.title}),r.jsx("p",{className:"text-sm text-blue-200",children:c.description})]},u))})})]}),r.jsxs(C,{className:"bg-gradient-to-br from-indigo-800/50 to-purple-800/50 backdrop-blur-sm border-purple-300/30 mb-12",children:[r.jsx(M,{className:"text-center",children:r.jsxs(R,{className:"text-2xl font-bold text-purple-200 flex items-center justify-center gap-3",children:[r.jsx(_t,{className:"w-7 h-7 text-yellow-400"}),s?"G√©n√©rateur de rapport":"Report Generator"]})}),r.jsxs(E,{className:"space-y-6",children:[r.jsxs("div",{className:"text-center p-6 bg-white/10 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:s?"√âtat de pr√©paration du rapport":"Report Preparation Status"}),r.jsx(lr,{value:85,className:"h-3 mb-4"}),r.jsx("p",{className:"text-blue-200",children:s?"85% des donn√©es collect√©es":"85% of data collected"})]}),r.jsx("div",{className:"bg-white/5 rounded-lg p-6",children:r.jsx(tI,{userData:e,calculations:t})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs(_,{className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white",children:[r.jsx(Fy,{className:"w-4 h-4 mr-2"}),s?"Aper√ßu":"Preview"]}),r.jsxs(_,{className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white",children:[r.jsx(Dp,{className:"w-4 h-4 mr-2"}),s?"T√©l√©charger PDF":"Download PDF"]}),r.jsxs(_,{className:"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white",children:[r.jsx(tb,{className:"w-4 h-4 mr-2"}),s?"Partager":"Share"]})]})]})]}),r.jsxs(C,{className:"bg-gradient-to-br from-amber-800/30 to-orange-800/30 backdrop-blur-sm border-amber-300/30",children:[r.jsx(M,{children:r.jsxs(R,{className:"flex items-center gap-3 text-amber-200",children:[r.jsx(Le,{className:"w-6 h-6"}),s?"Informations importantes":"Important Information"]})}),r.jsx(E,{className:"text-amber-100 space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[r.jsx(ue,{className:"w-5 h-5 text-green-400"}),s?"Confidentialit√©":"Privacy"]}),r.jsx("p",{className:"text-sm",children:s?"Vos rapports sont g√©n√©r√©s localement et ne sont jamais transmis √† nos serveurs.":"Your reports are generated locally and never transmitted to our servers."})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[r.jsx(ln,{className:"w-5 h-5 text-blue-400"}),s?"Mise √† jour":"Updates"]}),r.jsx("p",{className:"text-sm",children:s?"R√©g√©n√©rez vos rapports apr√®s chaque mise √† jour de vos donn√©es pour des analyses actualis√©es.":"Regenerate your reports after each data update for current analyses."})]})]})})]})]})]})},nI=({className:e})=>{const t=window.location.pathname.includes("/fr/")||!window.location.pathname.includes("/en/"),s={fr:{title:"R√©gime de pensions du Canada (CPP)",subtitle:"Calculez votre pension f√©d√©rale canadienne avec pr√©cision",description:"Le CPP est une prestation mensuelle imposable qui assure un remplacement partiel du revenu au moment de la retraite. Contrairement au RRQ qu√©b√©cois, le CPP couvre tous les Canadiens.",features:["Calcul bas√© sur les r√®gles officielles 2025","Exclusion des 8 ann√©es les plus faibles","Facteurs d'ajustement selon l'√¢ge de retraite","Projections √† diff√©rents √¢ges (60, 65, 70, 75 ans)","Historique d√©taill√© des cotisations","Support multilingue fran√ßais/anglais"],differences:["CPP : Pension f√©d√©rale canadienne","RRQ : Pension provinciale qu√©b√©coise","R√®gles tr√®s similaires avec quelques diff√©rences","Possibilit√© de recevoir les deux pensions"],officialLink:"https://www.canada.ca/fr/services/prestations/pensionspubliques/rpc.html",officialText:"Site officiel du CPP",note:"Note : Ce calculateur utilise les param√®tres officiels 2025 du CPP. Les montants r√©els peuvent varier selon votre situation personnelle."},en:{title:"Canada Pension Plan (CPP)",subtitle:"Calculate your federal Canadian pension with precision",description:"The CPP is a taxable monthly benefit that provides partial income replacement at retirement. Unlike the Quebec RRQ, the CPP covers all Canadians.",features:["Calculation based on official 2025 rules","Exclusion of the 8 lowest years","Adjustment factors based on retirement age","Projections at different ages (60, 65, 70, 75 years)","Detailed contribution history","French/English multilingual support"],differences:["CPP: Federal Canadian pension","RRQ: Provincial Quebec pension","Very similar rules with some differences","Possibility to receive both pensions"],officialLink:"https://www.canada.ca/en/services/benefits/publicpensions/cpp.html",officialText:"Official CPP website",note:"Note: This calculator uses the official 2025 CPP parameters. Actual amounts may vary based on your personal situation."}}[t?"fr":"en"];return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-indigo-900 text-white",children:r.jsx("div",{className:"container mx-auto px-6 py-8",children:r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-red-500 bg-clip-text text-transparent drop-shadow-2xl mb-4",children:s.title}),r.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:s.subtitle})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border-purple-300/30 rounded-lg p-6",children:[r.jsxs("h2",{className:"text-2xl font-bold text-yellow-400 mb-4 flex items-center gap-3",children:[r.jsx("span",{className:"text-3xl",children:"üèÅ"}),t?"√Ä propos du CPP":"About CPP"]}),r.jsx("p",{className:"text-gray-200 text-lg leading-relaxed",children:s.description})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border-blue-300/30 rounded-lg p-6",children:[r.jsxs("h2",{className:"text-2xl font-bold text-blue-400 mb-4 flex items-center gap-3",children:[r.jsx("span",{className:"text-3xl",children:"‚ú®"}),t?"Fonctionnalit√©s principales":"Key Features"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.features.map((a,i)=>r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-green-400 text-xl",children:"‚úì"}),r.jsx("span",{className:"text-gray-200",children:a})]},i))})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border-green-300/30 rounded-lg p-6",children:[r.jsxs("h2",{className:"text-2xl font-bold text-green-400 mb-4 flex items-center gap-3",children:[r.jsx("span",{className:"text-3xl",children:"üìä"}),t?"CPP vs RRQ : Les diff√©rences":"CPP vs RRQ: The Differences"]}),r.jsx("div",{className:"space-y-3",children:s.differences.map((a,i)=>r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-blue-400 text-xl",children:"‚ÑπÔ∏è"}),r.jsx("span",{className:"text-gray-200",children:a})]},i))})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border-yellow-300/30 rounded-lg p-6",children:[r.jsxs("h2",{className:"text-2xl font-bold text-yellow-400 mb-4 flex items-center gap-3",children:[r.jsx("span",{className:"text-3xl",children:"üîó"}),t?"Informations officielles":"Official Information"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-gray-200",children:t?"Pour plus d'informations officielles sur le CPP :":"For more official information about CPP:"}),r.jsxs("a",{href:s.officialLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-yellow-400 hover:text-yellow-300 transition-colors bg-yellow-900/20 px-4 py-2 rounded-lg border border-yellow-400/30",children:[r.jsx("span",{className:"text-xl",children:"üåê"}),s.officialText]})]})]}),r.jsx("div",{className:"bg-yellow-900/50 border-yellow-400/30 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-yellow-400 text-xl",children:"‚ö†Ô∏è"}),r.jsxs("div",{className:"text-yellow-200",children:[r.jsx("p",{className:"font-semibold mb-2",children:t?"Information importante":"Important information"}),r.jsx("p",{children:s.note})]})]})}),r.jsx("div",{className:"text-center",children:r.jsxs("div",{className:"bg-green-500 text-white px-6 py-3 rounded-lg text-lg font-bold inline-block",children:["‚úÖ ",t?"CPP Disponible":"CPP Available"]})})]})})})},Ap=({className:e})=>{const t=window.location.pathname.includes("/fr/")||!window.location.pathname.includes("/en/"),s={fr:{title:"Planification Combin√©e CPP + RRQ",subtitle:"Optimisez votre retraite en combinant les prestations gouvernementales et l'√©pargne personnelle",features:"Fonctionnalit√©s",overview:"Vue d'ensemble",planner:"Planificateur",comparison:"Comparaison CPP vs RRQ",description:"Cette section vous permet de planifier votre retraite en tenant compte de tous vos revenus : la pension du R√©gime de pensions du Canada (CPP), la rente du R√©gime des rentes du Qu√©bec (RRQ) et votre √©pargne personnelle.",keyFeatures:["Calcul combin√© CPP + RRQ + √âpargne personnelle","Sc√©narios de retraite personnalis√©s","Simulation Monte Carlo pour l'√©valuation des risques","Optimisation fiscale et planification successorale","Recommandations personnalis√©es bas√©es sur votre situation"],benefits:"Avantages de la planification combin√©e",benefitsList:["Vision compl√®te de vos revenus de retraite","Identification des lacunes dans votre planification","Optimisation de l'√¢ge de retraite","R√©duction des risques financiers","Maximisation des prestations gouvernementales"],startPlanning:"Commencer la planification",learnMore:"En savoir plus sur CPP vs RRQ",officialCPP:"Site officiel du CPP",officialRRQ:"Site officiel du RRQ"},en:{title:"Combined CPP + RRQ Planning",subtitle:"Optimize your retirement by combining government benefits and personal savings",features:"Features",overview:"Overview",planner:"Planner",comparison:"CPP vs RRQ Comparison",description:"This section allows you to plan your retirement by considering all your income sources: Canada Pension Plan (CPP) benefits, Quebec Pension Plan (RRQ) benefits, and your personal savings.",keyFeatures:["Combined CPP + RRQ + Personal savings calculation","Personalized retirement scenarios","Monte Carlo simulation for risk assessment","Tax optimization and estate planning","Personalized recommendations based on your situation"],benefits:"Benefits of combined planning",benefitsList:["Complete view of your retirement income","Identify gaps in your planning","Optimize retirement age","Reduce financial risks","Maximize government benefits"],startPlanning:"Start planning",learnMore:"Learn more about CPP vs RRQ",officialCPP:"Official CPP website",officialRRQ:"Official RRQ website"}}[t?"fr":"en"];return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-indigo-900 text-white",children:r.jsx("div",{className:"container mx-auto px-6 py-8",children:r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-red-400 bg-clip-text text-transparent drop-shadow-2xl mb-4",children:s.title}),r.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:s.subtitle})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border-purple-300/30 rounded-lg p-6",children:[r.jsxs("h2",{className:"text-2xl font-bold text-purple-400 mb-4 flex items-center gap-3",children:[r.jsx("span",{className:"text-3xl",children:"üõ°Ô∏è"}),t?"Vue d'ensemble":"Overview"]}),r.jsx("p",{className:"text-gray-200 text-lg leading-relaxed",children:s.description})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border-blue-300/30 rounded-lg p-6",children:[r.jsxs("h2",{className:"text-2xl font-bold text-blue-400 mb-4 flex items-center gap-3",children:[r.jsx("span",{className:"text-3xl",children:"‚ú®"}),s.features]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.keyFeatures.map((a,i)=>r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-green-400 text-xl",children:"‚úì"}),r.jsx("span",{className:"text-gray-200",children:a})]},i))})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border-green-300/30 rounded-lg p-6",children:[r.jsxs("h2",{className:"text-2xl font-bold text-green-400 mb-4 flex items-center gap-3",children:[r.jsx("span",{className:"text-3xl",children:"üìà"}),s.benefits]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.benefitsList.map((a,i)=>r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-yellow-400 text-xl",children:"‚ö°"}),r.jsx("span",{className:"text-gray-200",children:a})]},i))})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border-purple-300/30 rounded-lg p-6",children:[r.jsxs("h3",{className:"text-xl font-bold text-purple-400 mb-4 flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:"üìä"}),s.overview]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-gray-200",children:t?"La plupart des Qu√©b√©cois peuvent recevoir √† la fois le CPP (pension f√©d√©rale) et le RRQ (pension provinciale). Cette combinaison peut repr√©senter jusqu'√† 50% de vos revenus de retraite.":"Most Quebecers can receive both CPP (federal pension) and RRQ (provincial pension). This combination can represent up to 50% of your retirement income."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[r.jsxs("div",{className:"p-4 bg-purple-900/20 rounded-lg border border-purple-300/20",children:[r.jsx("h4",{className:"font-semibold text-purple-300 mb-2",children:"CPP"}),r.jsx("p",{className:"text-purple-200 text-sm",children:t?"Pension f√©d√©rale canadienne":"Federal Canadian pension"})]}),r.jsxs("div",{className:"p-4 bg-blue-900/20 rounded-lg border border-blue-300/20",children:[r.jsx("h4",{className:"font-semibold text-blue-300 mb-2",children:"RRQ"}),r.jsx("p",{className:"text-blue-200 text-sm",children:t?"Pension provinciale qu√©b√©coise":"Provincial Quebec pension"})]})]})]})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border-blue-300/30 rounded-lg p-6",children:[r.jsxs("h3",{className:"text-xl font-bold text-blue-400 mb-4 flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:"üßÆ"}),s.planner]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-gray-200",children:t?"Le planificateur avanc√© vous permet de simuler diff√©rents sc√©narios de retraite en tenant compte de tous vos revenus.":"The advanced planner allows you to simulate different retirement scenarios considering all your income sources."}),r.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors",children:s.startPlanning})]})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border-green-300/30 rounded-lg p-6",children:[r.jsxs("h3",{className:"text-xl font-bold text-green-400 mb-4 flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:"üéØ"}),s.comparison]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-gray-200",children:t?"Comparez les prestations CPP et RRQ pour optimiser votre strat√©gie de retraite.":"Compare CPP and RRQ benefits to optimize your retirement strategy."}),r.jsx("button",{className:"border-green-400 text-green-400 hover:bg-green-600 hover:text-white px-6 py-3 rounded-lg font-semibold transition-colors border-2",children:s.learnMore})]})]})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border-yellow-300/30 rounded-lg p-6",children:[r.jsxs("h2",{className:"text-2xl font-bold text-yellow-400 mb-4 flex items-center gap-3",children:[r.jsx("span",{className:"text-3xl",children:"üîó"}),t?"Sites officiels":"Official Websites"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("a",{href:"https://www.canada.ca/fr/services/prestations/pensionspubliques/rpc.html",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-blue-400 hover:text-blue-300 transition-colors bg-blue-900/20 px-4 py-2 rounded-lg border border-blue-400/30",children:[r.jsx("span",{className:"text-xl",children:"üåê"}),s.officialCPP]}),r.jsxs("a",{href:"https://www.rrq.gouv.qc.ca/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-green-400 hover:text-green-300 transition-colors bg-green-900/20 px-4 py-2 rounded-lg border border-green-400/30",children:[r.jsx("span",{className:"text-xl",children:"üåê"}),s.officialRRQ]})]})]}),r.jsx("div",{className:"text-center",children:r.jsxs("div",{className:"bg-purple-500 text-white px-6 py-3 rounded-lg text-lg font-bold inline-block",children:["üöÄ ",t?"Planification Combin√©e Disponible":"Combined Planning Available"]})})]})})})};class Po{static async runAdvancedMonteCarlo(t,n){try{const s=await this.generateMarketScenarios(t,n),a=this.calculateAdvancedRiskMetrics(s),i=this.generateMarketRecommendations(s,a),l=this.generateAdvancedCharts(s,a);return{summary:{totalScenarios:s.length,successfulScenarios:s.filter(c=>c.sustainability>.7).length,successRate:s.filter(c=>c.sustainability>.7).length/s.length,averageIncome:s.reduce((c,u)=>c+u.netIncome,0)/s.length,medianIncome:this.calculateMedian(s.map(c=>c.netIncome)),worstCaseIncome:Math.min(...s.map(c=>c.netIncome)),bestCaseIncome:Math.max(...s.map(c=>c.netIncome)),volatility:this.calculateVolatility(s.map(c=>c.netIncome))},scenarios:s,riskMetrics:a,recommendations:i,charts:l}}catch(s){throw console.error("Erreur lors de la simulation Monte Carlo avanc√©e:",s),new Error("√âchec de la simulation Monte Carlo avanc√©e")}}static async generateMarketScenarios(t,n){const s=[];for(let a=0;a<n.iterations;a++){const i=this.generateRandomFromDistribution(n.inflationRange.mean,n.inflationRange.stdDev,n.inflationRange.min,n.inflationRange.max),l=this.generateRandomFromDistribution(n.investmentReturnRange.mean,n.investmentReturnRange.stdDev,n.investmentReturnRange.min,n.investmentReturnRange.max),o=this.generateRandomFromDistribution(n.gdpGrowthRange.mean,n.gdpGrowthRange.stdDev,n.gdpGrowthRange.min,n.gdpGrowthRange.max),c=this.calculateMarketScenario(t,{inflation:i,investmentReturn:l,gdpGrowth:o,iteration:a});s.push(c),a%100===0&&await new Promise(u=>setTimeout(u,0))}return s}static generateRandomFromDistribution(t,n,s,a){let i=0,l=0;for(;i===0;)i=Math.random();for(;l===0;)l=Math.random();const o=Math.sqrt(-2*Math.log(i))*Math.cos(2*Math.PI*l);let c=t+o*n;return Math.max(s,Math.min(a,c))}static calculateMarketScenario(t,n){const a=1+(n.investmentReturn-n.inflation)*.1,i=1+n.gdpGrowth*.05,l=15e3*a*i,o=l*(.3+n.inflation*.5),c=l-o,u=Math.max(0,Math.min(1,c/l));return{id:`scenario_${n.iteration}`,name:`Sc√©nario ${n.iteration+1}`,probability:1/1e3,income:l,expenses:o,netIncome:c,sustainability:u,riskLevel:this.calculateRiskLevel(u),parameters:{inflation:n.inflation,investmentReturn:n.investmentReturn,interestRate:n.investmentReturn*.8,gdpGrowth:n.gdpGrowth,unemploymentRate:.05+n.gdpGrowth*-.1,lifeExpectancy:85+n.gdpGrowth*2}}}static calculateRiskLevel(t){return t>=.7?"low":t>=.4?"medium":"high"}static calculateAdvancedRiskMetrics(t){const n=t.map(s=>s.netIncome);return{valueAtRisk:{p95:this.calculatePercentile(n,.05),p99:this.calculatePercentile(n,.01)},conditionalValueAtRisk:{p95:this.calculateConditionalVaR(n,.05),p99:this.calculateConditionalVaR(n,.01)},sharpeRatio:this.calculateSharpeRatio(n),sortinoRatio:this.calculateSortinoRatio(n),maximumDrawdown:this.calculateMaximumDrawdown(n),calmarRatio:this.calculateCalmarRatio(n),ulcerIndex:this.calculateUlcerIndex(n)}}static calculateTaxOptimization(t){const n=this.calculateCurrentTax(t),s=this.calculateOptimizedTax(t),a=this.generateTaxStrategies(t),i=this.calculateTaxSavings(n,s),l=this.generateTaxRecommendations(a,i);return{currentTax:n,optimizedTax:s,strategies:a,savings:i,recommendations:l}}static calculateCurrentTax(t){const o=this.calculateFederalTax(67146),c=this.calculateProvincialTax(67146);return{grossIncome:8e4,cppDeduction:3754,rrqDeduction:4100,otherDeductions:5e3,taxableIncome:67146,federalTax:o,provincialTax:c,totalTax:o+c,effectiveTaxRate:(o+c)/8e4,marginalTaxRate:this.getMarginalTaxRate(67146)}}static calculateOptimizedTax(t){const n=this.calculateCurrentTax(t);return n.cppDeduction=Math.min(n.cppDeduction,3754),n.rrqDeduction=Math.min(n.rrqDeduction,4100),n.otherDeductions=Math.max(n.otherDeductions,8e3),n.taxableIncome=n.grossIncome-n.cppDeduction-n.rrqDeduction-n.otherDeductions,n.federalTax=this.calculateFederalTax(n.taxableIncome),n.provincialTax=this.calculateProvincialTax(n.taxableIncome),n.totalTax=n.federalTax+n.provincialTax,n.effectiveTaxRate=n.totalTax/n.grossIncome,n}static calculateSurvivorBenefits(t){const n=this.calculateCPPSurvivorBenefits(t),s=this.calculateRRQSurvivorBenefits(t),a=this.calculateCombinedSurvivorBenefits(n,s),i=this.generateSurvivorPlanning(n,s);return{cpp:n,rrq:s,combined:a,planning:i}}static calculateCPPSurvivorBenefits(t){return{deathBenefit:2500,survivorPension:9e3,childrenBenefit:3750,eligibility:{age:65,maritalStatus:"married",dependentChildren:!0,contributionYears:40,minimumContributions:!0},calculation:{baseAmount:15e3,ageAdjustment:1,contributionAdjustment:1,finalAmount:9e3,paymentFrequency:"monthly"}}}static calculateMedian(t){const n=[...t].sort((a,i)=>a-i),s=Math.floor(n.length/2);return n.length%2===0?(n[s-1]+n[s])/2:n[s]}static calculateVolatility(t){const n=t.reduce((a,i)=>a+i,0)/t.length,s=t.reduce((a,i)=>a+Math.pow(i-n,2),0)/t.length;return Math.sqrt(s)}static calculatePercentile(t,n){const s=[...t].sort((i,l)=>i-l),a=Math.floor(n*s.length);return s[a]}static calculateConditionalVaR(t,n){const s=this.calculatePercentile(t,n),a=t.filter(i=>i<=s);return a.reduce((i,l)=>i+l,0)/a.length}static calculateSharpeRatio(t){const n=t.reduce((a,i)=>a+i,0)/t.length,s=this.calculateVolatility(t);return n/s}static calculateSortinoRatio(t){const n=t.reduce((i,l)=>i+l,0)/t.length,s=t.filter(i=>i<n),a=Math.sqrt(s.reduce((i,l)=>i+Math.pow(l-n,2),0)/s.length);return n/a}static calculateMaximumDrawdown(t){let n=0,s=t[0];for(const a of t){a>s&&(s=a);const i=(s-a)/s;n=Math.max(n,i)}return n}static calculateCalmarRatio(t){const n=t.reduce((a,i)=>a+i,0)/t.length,s=this.calculateMaximumDrawdown(t);return n/s}static calculateUlcerIndex(t){let n=t[0],s=0;for(const a of t){a>n&&(n=a);const i=(n-a)/n;s+=i*i}return Math.sqrt(s/t.length)}static calculateFederalTax(t){return t<=53359?t*.15:t<=106717?8004+(t-53359)*.205:t<=165430?18942+(t-106717)*.26:t<=235675?34226+(t-165430)*.29:54608+(t-235675)*.33}static calculateProvincialTax(t){return t<=49275?t*.14:t<=98540?6899+(t-49275)*.19:t<=119910?16266+(t-98540)*.24:21366+(t-119910)*.2575}static getMarginalTaxRate(t){const n=this.getFederalMarginalRate(t),s=this.getProvincialMarginalRate(t);return n+s}static getFederalMarginalRate(t){return t<=53359?.15:t<=106717?.205:t<=165430?.26:t<=235675?.29:.33}static getProvincialMarginalRate(t){return t<=49275?.14:t<=98540?.19:t<=119910?.24:.2575}static generateTaxStrategies(t){return[{id:"income_splitting",name:"Fractionnement du revenu",description:"R√©partir le revenu entre conjoints pour r√©duire l'imp√¥t",type:"income_splitting",impact:{taxSavings:2e3,complexity:"medium",risk:"low",implementation:["V√©rifier l'√©ligibilit√©","Calculer les √©conomies","Soumettre les formulaires"]},requirements:["Conjoint admissible","Formulaires T1032"],limitations:["Limites annuelles","Restrictions d'√¢ge"]}]}static calculateTaxSavings(t,n){const s=t.totalTax-n.totalTax,a=s*25,i=s/t.totalTax*100;return{annual:s,lifetime:a,percentage:i,byStrategy:{income_splitting:s*.6}}}static generateTaxRecommendations(t,n){return t.map(s=>({priority:n.annual>3e3?"high":"medium",strategy:s,reason:`√âconomies potentielles de ${n.annual.toFixed(0)}$ par ann√©e`,actionItems:s.impact.implementation,timeline:"Prochain exercice fiscal"}))}static calculateRRQSurvivorBenefits(t){return this.calculateCPPSurvivorBenefits(t)}static calculateCombinedSurvivorBenefits(t,n){return{totalDeathBenefit:t.deathBenefit+n.deathBenefit,totalSurvivorPension:t.survivorPension+n.survivorPension,totalChildrenBenefit:t.childrenBenefit+n.childrenBenefit,coordination:{cppReduction:0,rrqReduction:0,netBenefit:t.survivorPension+n.survivorPension,explanation:"Aucune r√©duction de coordination applicable"},optimization:{strategies:[],recommendations:["Consulter un conseiller en planification successorale"],documents:[]}}}static generateSurvivorPlanning(t,n){return{currentDocuments:[],missingDocuments:[],nextSteps:["V√©rifier l'√©ligibilit√©","Pr√©parer la documentation"],timeline:"3-6 mois",estimatedBenefits:t.survivorPension+n.survivorPension}}static generateMarketRecommendations(t,n){const s=[];return n.valueAtRisk.p95<0&&s.push("Consid√©rer des strat√©gies de r√©duction des risques"),n.sharpeRatio<1&&s.push("Optimiser le ratio risque/rendement"),n.maximumDrawdown>.2&&s.push("Limiter l'exposition aux march√©s volatils"),s}static generateAdvancedCharts(t,n){return[{type:"line",title:"Distribution des revenus",data:t.map(s=>({x:s.netIncome,y:s.probability})),options:{}},{type:"bar",title:"M√©triques de risque",data:[{metric:"VaR 95%",value:n.valueAtRisk.p95},{metric:"Sharpe Ratio",value:n.sharpeRatio},{metric:"Max Drawdown",value:n.maximumDrawdown}],options:{}}]}}const sI=(e,t)=>{const n={free:0,professional:1,ultimate:2};return n[e]>=n[t]},aI=e=>{switch(e){case"professional":return r.jsx(Cc,{className:"w-6 h-6 text-blue-600"});case"ultimate":return r.jsx(es,{className:"w-6 h-6 text-purple-600"});default:return r.jsx(os,{className:"w-6 h-6 text-gray-500"})}},Cp=e=>{switch(e){case"professional":return"text-blue-600";case"ultimate":return"text-purple-600";default:return"text-gray-500"}},bn=(e,t)=>({fr:{free:"Gratuit",professional:"Professionnel",ultimate:"Ultimate"},en:{free:"Free",professional:"Professional",ultimate:"Ultimate"}})[t][e],iI=(e,t)=>({fr:{professional:["simulations illimit√©es","rapports illimit√©s","3 profils utilisateurs","analyses avanc√©es","simulations Monte Carlo","export PDF","optimisation fiscale"],ultimate:["tout du plan Professionnel","profils illimit√©s","conseils IA","collaboration conseiller","support prioritaire","formation personnalis√©e"]},en:{professional:["Unlimited simulations","Unlimited reports","3 user profiles","Advanced analytics","Monte Carlo simulations","PDF export","Tax optimization"],ultimate:["Everything from Professional","Unlimited profiles","AI advice","Advisor collaboration","Priority support","Personalized training"]}})[t][e]||[],by=({sectionId:e,requiredPlan:t,children:n,fallback:s,showUpgrade:a=!0})=>{const{user:i}=Pc(),{language:l}=Ct();if(!i)return r.jsxs(C,{className:"border-dashed border-2 border-gray-300",children:[r.jsx(M,{children:r.jsxs(R,{className:"flex items-center gap-2",children:[r.jsx(os,{className:"w-5 h-5 text-gray-500"}),l==="fr"?"Connexion requise":"Login required"]})}),r.jsxs(E,{children:[r.jsx("p",{className:"text-muted-foreground mb-4",children:l==="fr"?"Connectez-vous pour acc√©der √† cette fonctionnalit√©":"Please login to access this feature"}),r.jsx(_,{variant:"outline",className:"w-full",children:l==="fr"?"Se connecter":"Login"})]})]});const o=i.plan;if(sI(o,t))return r.jsx(r.Fragment,{children:n});if(s)return r.jsx(r.Fragment,{children:s});if(!a)return null;const u=iI(t,l);return r.jsxs(C,{className:"border-dashed border-2 border-amber-300 bg-amber-50",children:[r.jsxs(M,{children:[r.jsxs(R,{className:"flex items-center gap-2 text-amber-800",children:[aI(t),l==="fr"?`Plan ${bn(t,l)} requis`:`${bn(t,l)} plan required`]}),r.jsx("p",{className:"text-amber-700",children:l==="fr"?"Cette section n√©cessite un plan sup√©rieur":"This section requires a higher plan"})]}),r.jsx(E,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-white rounded-lg p-4 border border-amber-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"text-sm font-medium text-amber-800",children:l==="fr"?"Votre plan actuel :":"Your current plan:"}),r.jsx("span",{className:fd("font-medium",Cp(o)),children:bn(o,l)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium text-amber-800",children:l==="fr"?"Plan requis :":"Required plan:"}),r.jsx("span",{className:fd("font-medium",Cp(t)),children:bn(t,l)})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-amber-800 mb-2",children:l==="fr"?`Fonctionnalit√©s du plan ${bn(t,l)} :`:`${bn(t,l)} plan features:`}),r.jsx("div",{className:"space-y-2",children:u.map((d,m)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ir,{className:"w-4 h-4 text-green-600"}),r.jsx("span",{className:"text-sm text-amber-700",children:d})]},m))})]}),r.jsxs(_,{className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",onClick:()=>{window.location.href=l==="fr"?"/fr/retraite":"/en/retirement"},children:[r.jsx(_t,{className:"w-4 h-4 mr-2"}),l==="fr"?"Passer au plan sup√©rieur":"Upgrade to higher plan",r.jsx(Ep,{className:"w-4 h-4 ml-2"})]})]})})]})},lI=({cppData:e,className:t})=>{const{language:n}=Ct(),[s,a]=v.useState("monte-carlo"),[i,l]=v.useState(!1),[o,c]=v.useState(!1),[u,d]=v.useState(!1),[m,h]=v.useState(!1),[f,x]=v.useState({iterations:1e3,timeHorizon:30,confidenceLevel:.95,inflationRange:{min:.01,max:.08,mean:.025,stdDev:.015},investmentReturnRange:{min:.03,max:.12,mean:.07,stdDev:.025},gdpGrowthRange:{min:.01,max:.05,mean:.025,stdDev:.01}}),[p,g]=v.useState(null),[y,b]=v.useState(null),[j,N]=v.useState(null),[w,S]=v.useState(null),k={fr:{title:"Fonctionnalit√©s Premium CPP",description:"Outils avanc√©s pour la planification de retraite",tabs:{monteCarlo:"Monte Carlo Avanc√©",taxOptimization:"Optimisation Fiscale",survivorBenefits:"Prestations Survivant",apiIntegration:"Int√©gration API"},monteCarlo:{title:"Mod√©lisation Monte Carlo Avanc√©e",description:"Simulations de march√© avec param√®tres √©conomiques r√©alistes",parameters:"Param√®tres de simulation",iterations:"Nombre d'it√©rations",timeHorizon:"Horizon temporel (ann√©es)",confidenceLevel:"Niveau de confiance",inflationRange:"Plage d'inflation",investmentReturnRange:"Plage de rendement",gdpGrowthRange:"Plage de croissance PIB",runSimulation:"Lancer la simulation",stopSimulation:"Arr√™ter la simulation",resetParameters:"R√©initialiser",results:"R√©sultats de simulation",summary:"R√©sum√©",scenarios:"Sc√©narios",riskMetrics:"M√©triques de risque",recommendations:"Recommandations"},taxOptimization:{title:"Optimisation Fiscale CPP + RRQ",description:"Strat√©gies pour minimiser l'imp√¥t sur les prestations",calculate:"Calculer l'optimisation",currentTax:"Imp√¥t actuel",optimizedTax:"Imp√¥t optimis√©",strategies:"Strat√©gies disponibles",savings:"√âconomies d'imp√¥t",recommendations:"Recommandations"},survivorBenefits:{title:"Planification Successorale",description:"Calcul des prestations de survivant CPP et RRQ",calculate:"Calculer les prestations",cppBenefits:"Prestations CPP",rrqBenefits:"Prestations RRQ",combinedBenefits:"Prestations combin√©es",planning:"Planification",documents:"Documents requis"},apiIntegration:{title:"Int√©gration API Gouvernementale",description:"Donn√©es en temps r√©el des services gouvernementaux",checkStatus:"V√©rifier le statut",cppAPI:"API CPP",rrqAPI:"API RRQ",craAPI:"API CRA",dataTypes:"Types de donn√©es",lastUpdate:"Derni√®re mise √† jour",status:"Statut"}},en:{title:"CPP Premium Features",description:"Advanced retirement planning tools",tabs:{monteCarlo:"Advanced Monte Carlo",taxOptimization:"Tax Optimization",survivorBenefits:"Survivor Benefits",apiIntegration:"API Integration"},monteCarlo:{title:"Advanced Monte Carlo Modeling",description:"Market simulations with realistic economic parameters",parameters:"Simulation parameters",iterations:"Number of iterations",timeHorizon:"Time horizon (years)",confidenceLevel:"Confidence level",inflationRange:"Inflation range",investmentReturnRange:"Investment return range",gdpGrowthRange:"GDP growth range",runSimulation:"Run simulation",stopSimulation:"Stop simulation",resetParameters:"Reset",results:"Simulation results",summary:"Summary",scenarios:"Scenarios",riskMetrics:"Risk metrics",recommendations:"Recommendations"},taxOptimization:{title:"CPP + RRQ Tax Optimization",description:"Strategies to minimize tax on benefits",calculate:"Calculate optimization",currentTax:"Current tax",optimizedTax:"Optimized tax",strategies:"Available strategies",savings:"Tax savings",recommendations:"Recommendations"},survivorBenefits:{title:"Survivor Planning",description:"Calculation of CPP and RRQ survivor benefits",calculate:"Calculate benefits",cppBenefits:"CPP Benefits",rrqBenefits:"RRQ Benefits",combinedBenefits:"Combined benefits",planning:"Planning",documents:"Required documents"},apiIntegration:{title:"Government API Integration",description:"Real-time data from government services",checkStatus:"Check status",cppAPI:"CPP API",rrqAPI:"RRQ API",craAPI:"CRA API",dataTypes:"Data types",lastUpdate:"Last update",status:"Status"}}}[n],F=async()=>{l(!0);try{const V=await Po.runAdvancedMonteCarlo(e,f);g(V)}catch(V){console.error("Erreur Monte Carlo:",V)}finally{l(!1)}},H=()=>{x({iterations:1e3,timeHorizon:30,confidenceLevel:.95,inflationRange:{min:.01,max:.08,mean:.025,stdDev:.015},investmentReturnRange:{min:.03,max:.12,mean:.07,stdDev:.025},gdpGrowthRange:{min:.01,max:.05,mean:.025,stdDev:.01}}),g(null)},z=async()=>{c(!0);try{const V=Po.calculateTaxOptimization(e);b(V)}catch(V){console.error("Erreur optimisation fiscale:",V)}finally{c(!1)}},q=async()=>{d(!0);try{const V=Po.calculateSurvivorBenefits(e);N(V)}catch(V){console.error("Erreur prestations survivant:",V)}finally{d(!1)}},G=async()=>{h(!0);try{await new Promise(V=>setTimeout(V,2e3)),S({cpp:"online",rrq:"online",cra:"maintenance",lastCheck:new Date,errors:[]})}catch(V){console.error("Erreur v√©rification API:",V)}finally{h(!1)}};return r.jsx(by,{sectionId:"premium-features",requiredPlan:"ultimate",className:t,children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:k.title}),r.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-2",children:k.description})]}),r.jsxs(Jt,{value:s,onValueChange:a,className:"w-full",children:[r.jsxs(Xt,{className:"grid w-full grid-cols-4",children:[r.jsxs(re,{value:"monte-carlo",className:"flex items-center gap-2",children:[r.jsx(ct,{className:"w-4 h-4"}),k.tabs.monteCarlo]}),r.jsxs(re,{value:"tax-optimization",className:"flex items-center gap-2",children:[r.jsx(mt,{className:"w-4 h-4"}),k.tabs.taxOptimization]}),r.jsxs(re,{value:"survivor-benefits",className:"flex items-center gap-2",children:[r.jsx(ue,{className:"w-4 h-4"}),k.tabs.survivorBenefits]}),r.jsxs(re,{value:"api-integration",className:"flex items-center gap-2",children:[r.jsx(_t,{className:"w-4 h-4"}),k.tabs.apiIntegration]})]}),r.jsx(ee,{value:"monte-carlo",className:"space-y-6",children:r.jsxs(C,{children:[r.jsxs(M,{children:[r.jsxs(R,{className:"flex items-center gap-2",children:[r.jsx(ct,{className:"w-5 h-5"}),k.monteCarlo.title]}),r.jsx(te,{children:k.monteCarlo.description})]}),r.jsxs(E,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:k.monteCarlo.parameters}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"iterations",children:k.monteCarlo.iterations}),r.jsx(T,{id:"iterations",type:"number",value:f.iterations,onChange:V=>x(P=>({...P,iterations:parseInt(V.target.value)||1e3})),min:"100",max:"10000",step:"100"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"timeHorizon",children:k.monteCarlo.timeHorizon}),r.jsx(T,{id:"timeHorizon",type:"number",value:f.timeHorizon,onChange:V=>x(P=>({...P,timeHorizon:parseInt(V.target.value)||30})),min:"10",max:"50"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"confidenceLevel",children:k.monteCarlo.confidenceLevel}),r.jsxs(ye,{value:f.confidenceLevel.toString(),onValueChange:V=>x(P=>({...P,confidenceLevel:parseFloat(V)})),children:[r.jsx(be,{children:r.jsx(je,{})}),r.jsxs(Ne,{children:[r.jsx(ae,{value:"0.90",children:"90%"}),r.jsx(ae,{value:"0.95",children:"95%"}),r.jsx(ae,{value:"0.99",children:"99%"})]})]})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(_,{onClick:F,disabled:i,className:"flex items-center gap-2",children:i?r.jsxs(r.Fragment,{children:[r.jsx(Mp,{className:"w-4 h-4"}),k.monteCarlo.stopSimulation]}):r.jsxs(r.Fragment,{children:[r.jsx(Ip,{className:"w-4 h-4"}),k.monteCarlo.runSimulation]})}),r.jsxs(_,{variant:"outline",onClick:H,disabled:i,className:"flex items-center gap-2",children:[r.jsx(Rp,{className:"w-4 h-4"}),k.monteCarlo.resetParameters]})]})]}),p&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-lg font-semibold",children:k.monteCarlo.results}),r.jsxs(C,{children:[r.jsx(M,{children:r.jsx(R,{children:k.monteCarlo.summary})}),r.jsx(E,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[p.summary.successRate.toFixed(1),"%"]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Taux de succ√®s"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",p.summary.averageIncome.toFixed(0)]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Revenu moyen"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:["$",p.summary.medianIncome.toFixed(0)]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Revenu m√©dian"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:p.summary.volatility.toFixed(2)}),r.jsx("div",{className:"text-sm text-gray-600",children:"Volatilit√©"})]})]})})]}),r.jsxs(C,{children:[r.jsx(M,{children:r.jsx(R,{children:k.monteCarlo.riskMetrics})}),r.jsx(E,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-600",children:"VaR 95%"}),r.jsxs("div",{className:"text-lg font-semibold",children:["$",p.riskMetrics.valueAtRisk.p95.toFixed(0)]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Sharpe Ratio"}),r.jsx("div",{className:"text-lg font-semibold",children:p.riskMetrics.sharpeRatio.toFixed(2)})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Max Drawdown"}),r.jsxs("div",{className:"text-lg font-semibold",children:[(p.riskMetrics.maximumDrawdown*100).toFixed(1),"%"]})]})]})})]}),p.recommendations.length>0&&r.jsxs(C,{children:[r.jsx(M,{children:r.jsx(R,{children:k.monteCarlo.recommendations})}),r.jsx(E,{children:r.jsx("ul",{className:"space-y-2",children:p.recommendations.map((V,P)=>r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Le,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:V})]},P))})})]})]})]})]})}),r.jsx(ee,{value:"tax-optimization",className:"space-y-6",children:r.jsxs(C,{children:[r.jsxs(M,{children:[r.jsxs(R,{className:"flex items-center gap-2",children:[r.jsx(mt,{className:"w-5 h-5"}),k.taxOptimization.title]}),r.jsx(te,{children:k.taxOptimization.description})]}),r.jsxs(E,{className:"space-y-6",children:[r.jsxs(_,{onClick:z,disabled:o,className:"flex items-center gap-2",children:[r.jsx(mt,{className:"w-4 h-4"}),o?"Calcul en cours...":k.taxOptimization.calculate]}),y&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs(C,{children:[r.jsx(M,{children:r.jsx(R,{children:k.taxOptimization.currentTax})}),r.jsx(E,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Imp√¥t total:"}),r.jsxs("span",{className:"font-semibold text-red-600",children:["$",y.currentTax.totalTax.toFixed(0)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Taux effectif:"}),r.jsxs("span",{className:"font-semibold",children:[(y.currentTax.effectiveTaxRate*100).toFixed(1),"%"]})]})]})})]}),r.jsxs(C,{children:[r.jsx(M,{children:r.jsx(R,{children:k.taxOptimization.optimizedTax})}),r.jsx(E,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Imp√¥t total:"}),r.jsxs("span",{className:"font-semibold text-green-600",children:["$",y.optimizedTax.totalTax.toFixed(0)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Taux effectif:"}),r.jsxs("span",{className:"font-semibold",children:[(y.optimizedTax.effectiveTaxRate*100).toFixed(1),"%"]})]})]})})]})]}),r.jsxs(C,{children:[r.jsx(M,{children:r.jsx(R,{children:k.taxOptimization.savings})}),r.jsx(E,{children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["$",y.savings.annual.toFixed(0)]}),r.jsx("div",{className:"text-lg text-gray-600",children:"√âconomies annuelles"}),r.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:[y.savings.percentage.toFixed(1),"% de r√©duction"]})]})})]}),r.jsxs(C,{children:[r.jsx(M,{children:r.jsx(R,{children:k.taxOptimization.recommendations})}),r.jsx(E,{children:r.jsx("div",{className:"space-y-3",children:y.recommendations.map((V,P)=>r.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[r.jsx(Z,{variant:V.priority==="high"?"destructive":"secondary",children:V.priority==="high"?"√âlev√©":"Moyen"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold",children:V.strategy.name}),r.jsx("div",{className:"text-sm text-gray-600",children:V.reason}),r.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Timeline: ",V.timeline]})]})]},P))})})]})]})]})]})}),r.jsx(ee,{value:"survivor-benefits",className:"space-y-6",children:r.jsxs(C,{children:[r.jsxs(M,{children:[r.jsxs(R,{className:"flex items-center gap-2",children:[r.jsx(ue,{className:"w-5 h-5"}),k.survivorBenefits.title]}),r.jsx(te,{children:k.survivorBenefits.description})]}),r.jsxs(E,{className:"space-y-6",children:[r.jsxs(_,{onClick:q,disabled:u,className:"flex items-center gap-2",children:[r.jsx(ue,{className:"w-4 h-4"}),u?"Calcul en cours...":k.survivorBenefits.calculate]}),j&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs(C,{children:[r.jsx(M,{children:r.jsx(R,{children:k.survivorBenefits.combinedBenefits})}),r.jsx(E,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["$",j.combined.totalDeathBenefit.toFixed(0)]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Prestation de d√©c√®s"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",j.combined.totalSurvivorPension.toFixed(0)]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Pension de survivant"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:["$",j.combined.totalChildrenBenefit.toFixed(0)]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Prestation enfants"})]})]})})]}),r.jsxs(C,{children:[r.jsx(M,{children:r.jsx(R,{children:k.survivorBenefits.planning})}),r.jsx(E,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Prestations estim√©es"}),r.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",j.planning.estimatedBenefits.toFixed(0),"/an"]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Timeline"}),r.jsx("div",{className:"text-lg font-semibold",children:j.planning.timeline})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Prochaines √©tapes"}),r.jsx("ul",{className:"mt-2 space-y-1",children:j.planning.nextSteps.map((V,P)=>r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(ir,{className:"w-4 h-4 text-green-600"}),r.jsx("span",{children:V})]},P))})]})]})})]})]})]})]})}),r.jsx(ee,{value:"api-integration",className:"space-y-6",children:r.jsxs(C,{children:[r.jsxs(M,{children:[r.jsxs(R,{className:"flex items-center gap-2",children:[r.jsx(_t,{className:"w-5 h-5"}),k.apiIntegration.title]}),r.jsx(te,{children:k.apiIntegration.description})]}),r.jsxs(E,{className:"space-y-6",children:[r.jsxs(_,{onClick:G,disabled:m,className:"flex items-center gap-2",children:[r.jsx(cs,{className:`w-4 h-4 ${m?"animate-spin":""}`}),m?"V√©rification...":k.apiIntegration.checkStatus]}),w&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs(C,{children:[r.jsx(M,{children:r.jsxs(R,{className:"flex items-center gap-2",children:[r.jsx(Zn,{className:"w-4 h-4"}),k.apiIntegration.cppAPI]})}),r.jsx(E,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${w.cpp==="online"?"bg-green-500":w.cpp==="maintenance"?"bg-yellow-500":"bg-red-500"}`}),r.jsx(Z,{variant:w.cpp==="online"?"default":w.cpp==="maintenance"?"secondary":"destructive",children:w.cpp==="online"?"En ligne":w.cpp==="maintenance"?"Maintenance":"Hors ligne"})]})})]}),r.jsxs(C,{children:[r.jsx(M,{children:r.jsxs(R,{className:"flex items-center gap-2",children:[r.jsx(Zn,{className:"w-4 h-4"}),k.apiIntegration.rrqAPI]})}),r.jsx(E,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${w.rrq==="online"?"bg-green-500":w.rrq==="maintenance"?"bg-yellow-500":"bg-red-500"}`}),r.jsx(Z,{variant:w.rrq==="online"?"default":w.rrq==="maintenance"?"secondary":"destructive",children:w.rrq==="online"?"En ligne":w.rrq==="maintenance"?"Maintenance":"Hors ligne"})]})})]}),r.jsxs(C,{children:[r.jsx(M,{children:r.jsxs(R,{className:"flex items-center gap-2",children:[r.jsx(Zn,{className:"w-4 h-4"}),k.apiIntegration.craAPI]})}),r.jsx(E,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${w.cra==="online"?"bg-green-500":w.cra==="maintenance"?"bg-yellow-500":"bg-red-500"}`}),r.jsx(Z,{variant:w.cra==="online"?"default":w.cra==="maintenance"?"secondary":"destructive",children:w.cra==="online"?"En ligne":w.cra==="maintenance"?"Maintenance":"Hors ligne"})]})})]})]}),r.jsxs(C,{children:[r.jsx(M,{children:r.jsx(R,{children:"Informations syst√®me"})}),r.jsx(E,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Derni√®re v√©rification:"}),r.jsx("span",{className:"font-mono",children:w.lastCheck.toLocaleString()})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Erreurs d√©tect√©es:"}),r.jsx("span",{className:"font-semibold",children:w.errors.length})]})]})})]})]})]})]})})]})]})})},oI=({className:e})=>{const{language:t}=Ct(),s={fr:{title:"Fonctionnalit√©s Premium CPP",subtitle:"Outils avanc√©s exclusifs au plan Ultimate",description:"Acc√©dez aux fonctionnalit√©s les plus avanc√©es pour une planification de retraite de niveau professionnel",features:{monteCarlo:{title:"Mod√©lisation Monte Carlo Avanc√©e",description:"Simulations de march√© avec param√®tres √©conomiques r√©alistes et m√©triques de risque sophistiqu√©es",benefits:["1000+ it√©rations de simulation","Param√®tres de march√© configurables","M√©triques de risque avanc√©es (VaR, Sharpe Ratio, Drawdown)","Recommandations personnalis√©es"]},taxOptimization:{title:"Optimisation Fiscale CPP + RRQ",description:"Strat√©gies avanc√©es pour minimiser l'imp√¥t sur les prestations de retraite",benefits:["Calcul des taxes actuelles vs optimis√©es","Strat√©gies de fractionnement du revenu","Optimisation des d√©ductions","Recommandations d'action prioritaires"]},survivorBenefits:{title:"Planification Successorale Compl√®te",description:"Calcul d√©taill√© des prestations de survivant et planification successorale",benefits:["Prestations CPP et RRQ combin√©es","Calcul des prestations enfants","Planification documentaire","Timeline d'impl√©mentation"]},apiIntegration:{title:"Int√©gration API Gouvernementale",description:"Donn√©es en temps r√©el des services gouvernementaux canadiens",benefits:["Statut en temps r√©el des APIs","Donn√©es CPP, RRQ et CRA","Mise √† jour automatique des param√®tres","Surveillance de la sant√© des services"]}},upgradeCTA:{title:"D√©bloquez toutes les fonctionnalit√©s premium",description:"Passez au plan Ultimate pour acc√©der √† ces outils avanc√©s",button:"Mettre √† niveau vers Ultimate",currentPlan:"Plan actuel:"},officialLinks:{title:"Liens officiels",cpp:"Canada Pension Plan",rrq:"R√©gime des rentes du Qu√©bec",cra:"Agence du revenu du Canada"}},en:{title:"CPP Premium Features",subtitle:"Advanced tools exclusive to Ultimate plan",description:"Access the most advanced features for professional-level retirement planning",features:{monteCarlo:{title:"Advanced Monte Carlo Modeling",description:"Market simulations with realistic economic parameters and sophisticated risk metrics",benefits:["1000+ simulation iterations","Configurable market parameters","Advanced risk metrics (VaR, Sharpe Ratio, Drawdown)","Personalized recommendations"]},taxOptimization:{title:"CPP + RRQ Tax Optimization",description:"Advanced strategies to minimize tax on retirement benefits",benefits:["Current vs optimized tax calculation","Income splitting strategies","Deduction optimization","Priority action recommendations"]},survivorBenefits:{title:"Complete Survivor Planning",description:"Detailed calculation of survivor benefits and estate planning",benefits:["Combined CPP and RRQ benefits","Children benefit calculation","Documentary planning","Implementation timeline"]},apiIntegration:{title:"Government API Integration",description:"Real-time data from Canadian government services",benefits:["Real-time API status","CPP, RRQ and CRA data","Automatic parameter updates","Service health monitoring"]}},upgradeCTA:{title:"Unlock all premium features",description:"Upgrade to Ultimate plan to access these advanced tools",button:"Upgrade to Ultimate",currentPlan:"Current plan:"},officialLinks:{title:"Official links",cpp:"Canada Pension Plan",rrq:"Quebec Pension Plan",cra:"Canada Revenue Agency"}}}[t];return r.jsx(by,{sectionId:"premium-features",requiredPlan:"ultimate",className:e,children:r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"text-center space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx(es,{className:"w-8 h-8 text-yellow-600"}),r.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:s.title})]}),r.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:s.subtitle}),r.jsx("p",{className:"text-lg text-gray-500 dark:text-gray-500 max-w-3xl mx-auto",children:s.description})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs(C,{className:"border-2 border-blue-200 hover:border-blue-300 transition-colors",children:[r.jsxs(M,{children:[r.jsxs(R,{className:"flex items-center gap-2 text-blue-700",children:[r.jsx(ct,{className:"w-5 h-5"}),s.features.monteCarlo.title]}),r.jsx(te,{children:s.features.monteCarlo.description})]}),r.jsx(E,{children:r.jsx("ul",{className:"space-y-2",children:s.features.monteCarlo.benefits.map((a,i)=>r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(et,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{className:"text-sm",children:a})]},i))})})]}),r.jsxs(C,{className:"border-2 border-green-200 hover:border-green-300 transition-colors",children:[r.jsxs(M,{children:[r.jsxs(R,{className:"flex items-center gap-2 text-green-700",children:[r.jsx(mt,{className:"w-5 h-5"}),s.features.taxOptimization.title]}),r.jsx(te,{children:s.features.taxOptimization.description})]}),r.jsx(E,{children:r.jsx("ul",{className:"space-y-2",children:s.features.taxOptimization.benefits.map((a,i)=>r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Rt,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{className:"text-sm",children:a})]},i))})})]}),r.jsxs(C,{className:"border-2 border-purple-200 hover:border-purple-300 transition-colors",children:[r.jsxs(M,{children:[r.jsxs(R,{className:"flex items-center gap-2 text-purple-700",children:[r.jsx(ue,{className:"w-5 h-5"}),s.features.survivorBenefits.title]}),r.jsx(te,{children:s.features.survivorBenefits.description})]}),r.jsx(E,{children:r.jsx("ul",{className:"space-y-2",children:s.features.survivorBenefits.benefits.map((a,i)=>r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Ly,{className:"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{className:"text-sm",children:a})]},i))})})]}),r.jsxs(C,{className:"border-2 border-orange-200 hover:border-orange-300 transition-colors",children:[r.jsxs(M,{children:[r.jsxs(R,{className:"flex items-center gap-2 text-orange-700",children:[r.jsx(Zn,{className:"w-5 h-5"}),s.features.apiIntegration.title]}),r.jsx(te,{children:s.features.apiIntegration.description})]}),r.jsx(E,{children:r.jsx("ul",{className:"space-y-2",children:s.features.apiIntegration.benefits.map((a,i)=>r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(_t,{className:"w-4 h-4 text-orange-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{className:"text-sm",children:a})]},i))})})]})]}),r.jsxs(C,{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border-2 border-yellow-200",children:[r.jsxs(M,{className:"text-center",children:[r.jsxs(R,{className:"flex items-center justify-center gap-2 text-yellow-800",children:[r.jsx(es,{className:"w-6 h-6"}),s.upgradeCTA.title]}),r.jsx(te,{className:"text-yellow-700",children:s.upgradeCTA.description})]}),r.jsx(E,{className:"text-center",children:r.jsxs(_,{size:"lg",className:"bg-yellow-600 hover:bg-yellow-700 text-white",children:[r.jsx(es,{className:"w-4 h-4 mr-2"}),s.upgradeCTA.button]})})]}),r.jsxs(C,{children:[r.jsx(M,{children:r.jsxs(R,{className:"flex items-center gap-2",children:[r.jsx(Le,{className:"w-5 h-5"}),s.officialLinks.title]})}),r.jsx(E,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("a",{href:"https://www.canada.ca/fr/services/prestations/pensionspubliques/rpc.html",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 border rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(Mi,{className:"w-4 h-4 text-blue-600"}),r.jsx("span",{children:s.officialLinks.cpp})]}),r.jsxs("a",{href:"https://www.rrq.gouv.qc.ca/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 border rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(Mi,{className:"w-4 h-4 text-green-600"}),r.jsx("span",{children:s.officialLinks.rrq})]}),r.jsxs("a",{href:"https://www.canada.ca/fr/agence-revenu.html",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 border rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(Mi,{className:"w-4 h-4 text-red-600"}),r.jsx("span",{children:s.officialLinks.cra})]})]})})]}),r.jsx("div",{className:"mt-12",children:r.jsx(lI,{cppData:{}})})]})})};class Mr{static STORAGE_KEY="emergency_info_data";static BACKUP_KEY="emergency_info_backup";static getData(){try{const t=localStorage.getItem(this.STORAGE_KEY);if(t)return JSON.parse(t)}catch(t){console.error("Erreur lors de la lecture des donn√©es d'urgence :",t)}return this.getDefaultData()}static saveData(t){try{return t.dateDerniereRevision=new Date().toLocaleDateString("fr-CA"),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(t)),this.createBackup(t),!0}catch(n){return console.error("Erreur lors de la sauvegarde des donn√©es d'urgence :",n),!1}}static createBackup(t){try{const n={data:t,timestamp:new Date().toISOString(),version:"1.0"};localStorage.setItem(this.BACKUP_KEY,JSON.stringify(n))}catch(n){console.error("Erreur lors de la cr√©ation de la sauvegarde :",n)}}static restoreFromBackup(){try{const t=localStorage.getItem(this.BACKUP_KEY);if(t)return JSON.parse(t).data}catch(t){console.error("Erreur lors de la restauration depuis la sauvegarde :",t)}return null}static resetData(){try{localStorage.removeItem(this.STORAGE_KEY),localStorage.removeItem(this.BACKUP_KEY)}catch(t){console.error("Erreur lors de la r√©initialisation des donn√©es :",t)}}static exportData(){const t=this.getData();return JSON.stringify(t,null,2)}static importData(t){try{const n=JSON.parse(t);return this.validateData(n)?(this.saveData(n),!0):!1}catch(n){return console.error("Erreur lors de l'importation des donn√©es :",n),!1}}static validateData(t){return t&&Array.isArray(t.contactsUrgence)&&typeof t.informationsMedicales=="object"&&Array.isArray(t.personnesCharge)&&typeof t.dateDerniereRevision=="string"}static getDefaultData(){return{contactsUrgence:[{nom:"",telephone:"",adresseCourriel:"",lien:""},{nom:"",telephone:"",adresseCourriel:"",lien:""},{nom:"",telephone:"",adresseCourriel:"",lien:""}],informationsMedicales:{groupeSanguin:"",allergiesMedicamenteuses:"",conditionsMedicalesChroniques:"",medicamentsActuels:[],contactsUrgenceMedicale:"",directivesMedicalesAnticipees:!1,dateMiseAJour:new Date().toLocaleDateString("fr-CA")},personnesCharge:[{nom:"",coordonnees:"",instructionsSpeciales:""},{nom:"",coordonnees:"",instructionsSpeciales:""},{nom:"",coordonnees:"",instructionsSpeciales:""},{nom:"",coordonnees:"",instructionsSpeciales:""}],animauxCompagnie:[{nomAnimal:"",veterinaire:"",personneDesignee:""},{nomAnimal:"",veterinaire:"",personneDesignee:""},{nomAnimal:"",veterinaire:"",personneDesignee:""}],emploiPrestations:{nomEntreprise:"",adresse:"",superieurImmediat:"",telephoneCourriel:"",personneRessourceRH:"",telephoneCourrielRH:"",numeroEmploye:"",avantagesSociaux:"",reerCollectif:""},documentsImportants:[],contactsMedicaux:[{nom:"",specialite:"",telephone:"",courriel:""},{nom:"",specialite:"",telephone:"",courriel:""},{nom:"",specialite:"",telephone:"",courriel:""}],contactsImportants:{familleProche:[{nom:"",telephone:"",adresseCourriel:"",lien:""},{nom:"",telephone:"",adresseCourriel:"",lien:""},{nom:"",telephone:"",adresseCourriel:"",lien:""}],amisProches:[{nom:"",telephone:"",adresseCourriel:""},{nom:"",telephone:"",adresseCourriel:""},{nom:"",telephone:"",adresseCourriel:""}],professionnels:[{nom:"",telephone:"",adresseCourriel:""},{nom:"",telephone:"",adresseCourriel:""},{nom:"",telephone:"",adresseCourriel:""}]},proprietes:[],biensEntreposes:{nomEntreprise:"",adresse:"",numeroLocalUnite:"",codeAccesCle:"",listeContenuPrincipal:""},informationsFinancieres:{cartesCredit:[],comptesBancaires:[],servicesBancairesEnLigne:[],authentificationDeuxFacteurs:!1,codesRecuperation:"",comptesEtranger:"",cryptomonnaies:"",dettesObligations:"",pretsPersonnels:[],autresDettes:[]},investissements:[],comptesEnLigne:[],accesNumerique:{gestionnaireMotDePasse:"",motDePasseGestionnaire:"",numeroTelephoneCellulaire:"",methodeDeverrouillage:"code",motDePasseTelephone:"",motDePasseOrdinateur:""},comptesCourriels:[],reseauxSociaux:[],assurances:[],testamentSuccession:{},preferencesFuneraires:{},dateDerniereRevision:new Date().toLocaleDateString("fr-CA"),signature:""}}static getUsageStats(){const t=this.getData();let n=0,s=0;t.contactsUrgence.forEach(l=>{l.nom&&l.telephone&&n++}),t.informationsMedicales.groupeSanguin&&s++,t.emploiPrestations.nomEntreprise&&s++,t.proprietes.length>0&&s++,t.informationsFinancieres.cartesCredit.length>0&&s++;const a=8,i=Math.round(s/a*100);return{contactsCompletes:n,sectionsCompletes:s,totalSections:a,pourcentageCompletion:i}}}const cI=({data:e,onUpdate:t})=>{const n=(o,c,u)=>{const d=[...e];d[o]={...d[o],[c]:u},t(d)},s=()=>{if(e.length<5){const o={nom:"",telephone:"",adresseCourriel:"",lien:""};t([...e,o])}},a=o=>{if(e.length>1){const c=e.filter((u,d)=>d!==o);t(c)}},i=o=>o.nom.trim()!==""&&o.telephone.trim()!=="",l=e.filter(i).length;return r.jsxs("div",{className:"space-y-6",children:[r.jsx(C,{className:"border-red-200 bg-red-50",children:r.jsxs(M,{children:[r.jsxs(R,{className:"flex items-center gap-2 text-red-900",children:[r.jsx(_p,{className:"w-5 h-5"}),"Contacts d'urgence - √† consulter en premier"]}),r.jsx(te,{className:"text-red-700",children:"Ces contacts seront les premiers √† √™tre appel√©s en cas d'urgence, d'accident ou d'incapacit√©."})]})}),r.jsxs(Se,{className:"border-orange-200 bg-orange-50",children:[r.jsx(wt,{className:"h-4 w-4 text-orange-600"}),r.jsxs(Ae,{className:"text-orange-800",children:[r.jsx("strong",{children:"Important :"})," Assurez-vous que ces personnes savent qu'elles sont vos contacts d'urgence et qu'elles ont acc√®s √† ce document en cas de besoin."]})]}),r.jsxs(C,{children:[r.jsx(M,{children:r.jsx(R,{className:"text-lg",children:"Progression des contacts"})}),r.jsx(E,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:l}),r.jsx("div",{className:"text-sm text-blue-600",children:"Contacts complets"})]}),r.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.length}),r.jsx("div",{className:"text-sm text-green-600",children:"Contacts totaux"})]}),r.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.length>0?Math.round(l/e.length*100):0}),r.jsx("div",{className:"text-sm text-purple-600",children:"% compl√©t√©s"})]}),r.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:Math.max(0,3-l)}),r.jsx("div",{className:"text-sm text-orange-600",children:"√Ä compl√©ter"})]})]})})]}),r.jsx("div",{className:"space-y-4",children:e.map((o,c)=>r.jsxs(C,{className:`border-2 ${i(o)?"border-green-200 bg-green-50":"border-gray-200"}`,children:[r.jsx(M,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(R,{className:"flex items-center gap-2 text-lg",children:[r.jsx(Ht,{className:"w-5 h-5"}),"Contact d'urgence ",c+1,i(o)&&r.jsx(Z,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Complet"})]}),e.length>1&&r.jsx("button",{onClick:()=>a(c),className:"text-red-600 hover:text-red-800 text-sm",children:"Supprimer"})]})}),r.jsxs(E,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:`nom-${c}`,className:"text-sm font-medium",children:"Nom complet *"}),r.jsx(T,{id:`nom-${c}`,value:o.nom,onChange:u=>n(c,"nom",u.target.value),placeholder:"Ex : Jean Tremblay",className:o.nom.trim()===""?"border-red-300":""}),o.nom.trim()===""&&r.jsx("p",{className:"text-red-600 text-xs",children:"Le nom est obligatoire"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:`telephone-${c}`,className:"text-sm font-medium",children:"T√©l√©phone *"}),r.jsx(T,{id:`telephone-${c}`,value:o.telephone,onChange:u=>n(c,"telephone",u.target.value),placeholder:"Ex : 514 555-0123",className:o.telephone.trim()===""?"border-red-300":""}),o.telephone.trim()===""&&r.jsx("p",{className:"text-red-600 text-xs",children:"Le t√©l√©phone est obligatoire"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:`courriel-${c}`,className:"text-sm font-medium",children:"Adresse courriel"}),r.jsx(T,{id:`courriel-${c}`,type:"email",value:o.adresseCourriel,onChange:u=>n(c,"adresseCourriel",u.target.value),placeholder:"Ex : jean.tremblay@email.com"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:`lien-${c}`,className:"text-sm font-medium",children:"Lien de parent√©"}),r.jsx(T,{id:`lien-${c}`,value:o.lien,onChange:u=>n(c,"lien",u.target.value),placeholder:"Ex : Conjoint, Enfant, Ami"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:`notes-${c}`,className:"text-sm font-medium",children:"Notes ou instructions sp√©ciales"}),r.jsx(De,{id:`notes-${c}`,value:o.relation||"",onChange:u=>n(c,"relation",u.target.value),placeholder:"Ex : Disponible 24 h/24, M√©decin de famille, Avocat...",rows:2})]})]})]},c))}),e.length<5&&r.jsx(C,{className:"border-dashed border-2 border-gray-300 bg-gray-50",children:r.jsx(E,{className:"pt-6",children:r.jsxs("button",{onClick:s,className:"w-full p-4 text-center text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx(Ht,{className:"w-6 h-6 mx-auto mb-2"}),r.jsx("span",{className:"font-medium",children:"Ajouter un contact d'urgence"})]})})}),e.length>=5&&r.jsxs(Se,{className:"border-blue-200 bg-blue-50",children:[r.jsx(Le,{className:"h-4 w-4 text-blue-600"}),r.jsxs(Ae,{className:"text-blue-800",children:[r.jsx("strong",{children:"Limite de la version gratuite :"})," Vous avez atteint le maximum de 5 contacts d'urgence. Passez au plan Professionnel pour ajouter plus de contacts et acc√©der √† toutes les fonctionnalit√©s."]})]}),r.jsxs(C,{className:"border-blue-200 bg-blue-50",children:[r.jsx(M,{children:r.jsx(R,{className:"text-blue-900",children:"Conseils pour vos contacts d'urgence"})}),r.jsxs(E,{className:"space-y-3 text-blue-800",children:[r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2 flex-shrink-0"}),r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Choisissez des personnes de confiance"})," qui peuvent prendre des d√©cisions importantes en votre nom"]})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2 flex-shrink-0"}),r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Assurez-vous qu'elles sont disponibles"})," et peuvent √™tre jointes rapidement"]})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2 flex-shrink-0"}),r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Informez-les de leur r√¥le"})," et donnez-leur acc√®s √† ce document"]})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2 flex-shrink-0"}),r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Mettez √† jour r√©guli√®rement"})," leurs coordonn√©es et informations"]})]})]})]})]})},uI=({data:e,onUpdate:t})=>{const[n,s]=v.useState({nom:"",dosage:"",frequence:""}),a=(u,d)=>{t({...e,[u]:d})},i=()=>{if(n.nom.trim()&&n.dosage.trim()){const u=[...e.medicamentsActuels,{...n}];a("medicamentsActuels",u),s({nom:"",dosage:"",frequence:""})}},l=u=>{const d=e.medicamentsActuels.filter((m,h)=>h!==u);a("medicamentsActuels",d)},o=(u,d,m)=>{const h=[...e.medicamentsActuels];h[u]={...h[u],[d]:m},a("medicamentsActuels",h)},c=e.medicamentsActuels.length;return r.jsxs("div",{className:"space-y-6",children:[r.jsx(C,{className:"border-red-200 bg-red-50",children:r.jsxs(M,{children:[r.jsxs(R,{className:"flex items-center gap-2 text-red-900",children:[r.jsx(Sn,{className:"w-5 h-5"}),"Informations m√©dicales critiques"]}),r.jsx(te,{className:"text-red-700",children:"Ces informations sont essentielles en cas d'urgence m√©dicale ou d'hospitalisation."})]})}),r.jsxs(Se,{className:"border-orange-200 bg-orange-50",children:[r.jsx(wt,{className:"h-4 w-4 text-orange-600"}),r.jsxs(Ae,{className:"text-orange-800",children:[r.jsx("strong",{children:"Important :"})," Ces informations m√©dicales peuvent sauver votre vie en cas d'urgence. Assurez-vous qu'elles sont √† jour et pr√©cises."]})]}),r.jsxs(C,{children:[r.jsx(M,{children:r.jsx(R,{className:"text-lg",children:"Informations de base"})}),r.jsxs(E,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"groupe-sanguin",className:"text-sm font-medium",children:"Groupe sanguin"}),r.jsx(T,{id:"groupe-sanguin",value:e.groupeSanguin||"",onChange:u=>a("groupeSanguin",u.target.value),placeholder:"Ex : O+, A-, B+, AB-"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"date-mise-a-jour",className:"text-sm font-medium",children:"Mis √† jour le"}),r.jsx(T,{id:"date-mise-a-jour",type:"date",value:e.dateMiseAJour,onChange:u=>a("dateMiseAJour",u.target.value)})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"contacts-urgence-medicale",className:"text-sm font-medium",children:"Personnes √† contacter en cas d'urgence m√©dicale"}),r.jsx(T,{id:"contacts-urgence-medicale",value:e.contactsUrgenceMedicale||"",onChange:u=>a("contactsUrgenceMedicale",u.target.value),placeholder:"Ex : Conjoint, Enfant, M√©decin de famille"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{className:"text-sm font-medium",children:"Directives m√©dicales anticip√©es"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ft,{id:"directives-oui",checked:e.directivesMedicalesAnticipees===!0,onCheckedChange:u=>a("directivesMedicalesAnticipees",u)}),r.jsx(A,{htmlFor:"directives-oui",children:"Oui"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ft,{id:"directives-non",checked:e.directivesMedicalesAnticipees===!1,onCheckedChange:u=>a("directivesMedicalesAnticipees",!u)}),r.jsx(A,{htmlFor:"directives-non",children:"Non"})]})]})]})]})]}),r.jsxs(C,{children:[r.jsx(M,{children:r.jsx(R,{className:"text-lg",children:"Allergies m√©dicamenteuses"})}),r.jsx(E,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"allergies",className:"text-sm font-medium",children:"Liste de vos allergies m√©dicamenteuses"}),r.jsx(De,{id:"allergies",value:e.allergiesMedicamenteuses||"",onChange:u=>a("allergiesMedicamenteuses",u.target.value),placeholder:"Ex : P√©nicilline, Aspirine, Ibuprof√®ne, Sulfamides...",rows:3,className:"resize-none"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Incluez le nom du m√©dicament et la r√©action allergique (ex : √©ruption cutan√©e, difficult√© respiratoire)"})]})})]}),r.jsxs(C,{children:[r.jsx(M,{children:r.jsx(R,{className:"text-lg",children:"Conditions m√©dicales chroniques"})}),r.jsx(E,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"conditions",className:"text-sm font-medium",children:"Liste de vos conditions m√©dicales chroniques"}),r.jsx(De,{id:"conditions",value:e.conditionsMedicalesChroniques||"",onChange:u=>a("conditionsMedicalesChroniques",u.target.value),placeholder:"Ex : Diab√®te de type 2, Hypertension art√©rielle, Asthme, Maladie cardiaque...",rows:3,className:"resize-none"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Incluez la date de diagnostic et le nom de votre m√©decin traitant si applicable"})]})})]}),r.jsxs(C,{children:[r.jsx(M,{children:r.jsxs(R,{className:"flex items-center gap-2 text-lg",children:[r.jsx($y,{className:"w-5 h-5"}),"M√©dicaments actuels",r.jsx(Z,{variant:"secondary",children:c})]})}),r.jsxs(E,{className:"space-y-4",children:[e.medicamentsActuels.map((u,d)=>r.jsx(C,{className:"border-2 border-blue-200 bg-blue-50",children:r.jsxs(E,{className:"pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("h4",{className:"font-medium text-blue-900",children:["M√©dicament ",d+1]}),r.jsx(_,{variant:"ghost",size:"sm",onClick:()=>l(d),className:"text-red-600 hover:text-red-800",children:r.jsx(Lt,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(A,{className:"text-xs text-blue-700",children:"Nom"}),r.jsx(T,{value:u.nom,onChange:m=>o(d,"nom",m.target.value),placeholder:"Nom du m√©dicament",className:"text-sm"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(A,{className:"text-xs text-blue-700",children:"Dosage"}),r.jsx(T,{value:u.dosage,onChange:m=>o(d,"dosage",m.target.value),placeholder:"Ex : 10 mg",className:"text-sm"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(A,{className:"text-xs text-blue-700",children:"Fr√©quence"}),r.jsx(T,{value:u.frequence,onChange:m=>o(d,"frequence",m.target.value),placeholder:"Ex : 2 fois par jour",className:"text-sm"})]})]})]})},d)),r.jsx(C,{className:"border-dashed border-2 border-gray-300 bg-gray-50",children:r.jsxs(E,{className:"pt-4",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Ajouter un nouveau m√©dicament"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-3",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(A,{className:"text-xs text-gray-700",children:"Nom"}),r.jsx(T,{value:n.nom,onChange:u=>s(d=>({...d,nom:u.target.value})),placeholder:"Nom du m√©dicament",className:"text-sm"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(A,{className:"text-xs text-gray-700",children:"Dosage"}),r.jsx(T,{value:n.dosage,onChange:u=>s(d=>({...d,dosage:u.target.value})),placeholder:"Ex : 10 mg",className:"text-sm"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(A,{className:"text-xs text-gray-700",children:"Fr√©quence"}),r.jsx(T,{value:n.frequence,onChange:u=>s(d=>({...d,frequence:u.target.value})),placeholder:"Ex : 2 fois par jour",className:"text-sm"})]})]}),r.jsxs(_,{onClick:i,disabled:!n.nom.trim()||!n.dosage.trim(),className:"w-full",children:[r.jsx($t,{className:"w-4 h-4 mr-2"}),"Ajouter le m√©dicament"]})]})})]})]}),r.jsxs(C,{className:"border-blue-200 bg-blue-50",children:[r.jsx(M,{children:r.jsx(R,{className:"text-blue-900",children:"Conseils pour vos informations m√©dicales"})}),r.jsxs(E,{className:"space-y-3 text-blue-800",children:[r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2 flex-shrink-0"}),r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Mettez √† jour r√©guli√®rement"})," vos informations m√©dicales, surtout apr√®s un changement de traitement"]})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2 flex-shrink-0"}),r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Incluez tous vos m√©dicaments"})," : prescrits, en vente libre, vitamines et suppl√©ments"]})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2 flex-shrink-0"}),r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Pr√©cisez les allergies"})," et leurs r√©actions pour √©viter les complications"]})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2 flex-shrink-0"}),r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Partagez ce document"})," avec vos proches et votre m√©decin traitant"]})]})]})]}),c>=5&&r.jsxs(Se,{className:"border-blue-200 bg-blue-50",children:[r.jsx(Le,{className:"h-4 w-4 text-blue-600"}),r.jsxs(Ae,{className:"text-blue-800",children:[r.jsx("strong",{children:"Limite de la version gratuite :"})," Vous avez atteint le maximum de 5 m√©dicaments. Passez au plan Professionnel pour ajouter plus de m√©dicaments et acc√©der √† toutes les fonctionnalit√©s."]})]})]})},dI=({data:e,onUpdate:t})=>{const n=(i,l,o)=>{const c=[...e];c[i]={...c[i],[l]:o},t(c)},s=()=>{if(e.length<4){const i={nom:"",coordonnees:"",instructionsSpeciales:""};t([...e,i])}},a=i=>{if(e.length>1){const l=e.filter((o,c)=>c!==i);t(l)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx(C,{className:"border-blue-200 bg-blue-50",children:r.jsxs(M,{children:[r.jsxs(R,{className:"flex items-center gap-2 text-blue-900",children:[r.jsx(ls,{className:"w-5 h-5"}),"Personnes √† charge"]}),r.jsx(te,{className:"text-blue-700",children:"Informations sur les personnes qui d√©pendent de vous financi√®rement ou autrement."})]})}),r.jsx("div",{className:"space-y-4",children:e.map((i,l)=>r.jsxs(C,{className:"border-2 border-gray-200",children:[r.jsx(M,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(R,{className:"text-lg",children:["Personne √† charge ",l+1]}),e.length>1&&r.jsx("button",{onClick:()=>a(l),className:"text-red-600 hover:text-red-800 text-sm",title:"Supprimer cette personne √† charge","aria-label":"Supprimer cette personne √† charge",children:r.jsx(Lt,{className:"w-4 h-4"})})]})}),r.jsxs(E,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:`nom-${l}`,children:"Nom"}),r.jsx(T,{id:`nom-${l}`,value:i.nom,onChange:o=>n(l,"nom",o.target.value),placeholder:"Nom complet"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:`coordonnees-${l}`,children:"Coordonn√©es"}),r.jsx(T,{id:`coordonnees-${l}`,value:i.coordonnees,onChange:o=>n(l,"coordonnees",o.target.value),placeholder:"T√©l√©phone, courriel, adresse"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:`instructions-${l}`,children:"Instructions sp√©ciales"}),r.jsx(De,{id:`instructions-${l}`,value:i.instructionsSpeciales||"",onChange:o=>n(l,"instructionsSpeciales",o.target.value),placeholder:"Besoins particuliers, allergies, m√©dicaments...",rows:2})]})]})]},l))}),e.length<4&&r.jsx(C,{className:"border-dashed border-2 border-gray-300 bg-gray-50",children:r.jsx(E,{className:"pt-6",children:r.jsxs("button",{onClick:s,className:"w-full p-4 text-center text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx($t,{className:"w-6 h-6 mx-auto mb-2"}),r.jsx("span",{className:"font-medium",children:"Ajouter une personne √† charge"})]})})}),e.length>=4&&r.jsx(C,{className:"border-blue-200 bg-blue-50",children:r.jsx(E,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center gap-2 text-blue-800",children:[r.jsx(Le,{className:"w-5 h-5"}),r.jsxs("span",{className:"text-sm",children:[r.jsx("strong",{children:"Limite de la version gratuite :"})," Maximum 4 personnes √† charge. Passez au plan Professionnel pour plus de fonctionnalit√©s."]})]})})})]})},mI=({data:e,onUpdate:t})=>{const n=(s,a)=>{t({...e,[s]:a})};return r.jsxs("div",{className:"space-y-6",children:[r.jsx(C,{className:"border-blue-200 bg-blue-50",children:r.jsxs(M,{children:[r.jsxs(R,{className:"flex items-center gap-2 text-blue-900",children:[r.jsx(Fp,{className:"w-5 h-5"}),"Emploi et prestations"]}),r.jsx(te,{className:"text-blue-700",children:"Informations sur votre emploi actuel et vos prestations sociales."})]})}),r.jsxs(C,{children:[r.jsx(M,{children:r.jsx(R,{className:"text-lg",children:"Informations de l'entreprise"})}),r.jsxs(E,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"nom-entreprise",children:"Nom de l'entreprise"}),r.jsx(T,{id:"nom-entreprise",value:e.nomEntreprise,onChange:s=>n("nomEntreprise",s.target.value),placeholder:"Nom de votre employeur"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"adresse-entreprise",children:"Adresse"}),r.jsx(T,{id:"adresse-entreprise",value:e.adresse,onChange:s=>n("adresse",s.target.value),placeholder:"Adresse de l'entreprise"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"numero-employe",children:"Num√©ro d'employ√©"}),r.jsx(T,{id:"numero-employe",value:e.numeroEmploye,onChange:s=>n("numeroEmploye",s.target.value),placeholder:"Votre num√©ro d'employ√©"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"superieur",children:"Sup√©rieur imm√©diat"}),r.jsx(T,{id:"superieur",value:e.superieurImmediat,onChange:s=>n("superieurImmediat",s.target.value),placeholder:"Nom de votre superviseur"})]})]})]})]}),r.jsxs(C,{children:[r.jsx(M,{children:r.jsx(R,{className:"text-lg",children:"Contacts et coordonn√©es"})}),r.jsxs(E,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"telephone-courriel",children:"T√©l√©phone/Courriel principal"}),r.jsx(T,{id:"telephone-courriel",value:e.telephoneCourriel,onChange:s=>n("telephoneCourriel",s.target.value),placeholder:"T√©l√©phone ou courriel principal"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"personne-rh",children:"Personne-ressource RH"}),r.jsx(T,{id:"personne-rh",value:e.personneRessourceRH,onChange:s=>n("personneRessourceRH",s.target.value),placeholder:"Nom de la personne RH"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"telephone-courriel-rh",children:"T√©l√©phone/Courriel RH"}),r.jsx(T,{id:"telephone-courriel-rh",value:e.telephoneCourrielRH,onChange:s=>n("telephoneCourrielRH",s.target.value),placeholder:"Coordonn√©es de la personne RH"})]})]})]}),r.jsxs(C,{children:[r.jsx(M,{children:r.jsx(R,{className:"text-lg",children:"Prestations et avantages"})}),r.jsxs(E,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"avantages-sociaux",children:"Avantages sociaux"}),r.jsx(De,{id:"avantages-sociaux",value:e.avantagesSociaux||"",onChange:s=>n("avantagesSociaux",s.target.value),placeholder:"Assurance collective, cong√©s pay√©s, autres avantages...",rows:3})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"reer-collectif",children:"REER collectif"}),r.jsx(De,{id:"reer-collectif",value:e.reerCollectif||"",onChange:s=>n("reerCollectif",s.target.value),placeholder:"D√©tails de votre REER collectif, contribution de l'employeur...",rows:3})]})]})]})]})},hI=({data:e,onUpdate:t})=>{const[n,s]=v.useState(!1),[a,i]=v.useState(null),[l,o]=v.useState({name:"",type:"personal",location:"",description:"",expiryDate:null,renewalReminder:!1,renewalFrequency:"yearly",isDigital:!1,backupLocation:"",notes:""}),c=[{value:"personal",label:"Personnel"},{value:"medical",label:"M√©dical"},{value:"financial",label:"Financier"},{value:"legal",label:"L√©gal"},{value:"property",label:"Propri√©t√©"},{value:"insurance",label:"Assurance"},{value:"employment",label:"Emploi"},{value:"other",label:"Autre"}],u=[{value:"monthly",label:"Mensuel"},{value:"quarterly",label:"Trimestriel"},{value:"yearly",label:"Annuel"},{value:"biennial",label:"Biennal"},{value:"custom",label:"Personnalis√©"}],d=()=>{if(!l.name||!l.type)return;const y={id:Date.now().toString(),name:l.name,type:l.type,location:l.location||"",description:l.description||"",expiryDate:l.expiryDate,renewalReminder:l.renewalReminder||!1,renewalFrequency:l.renewalFrequency||"yearly",isDigital:l.isDigital||!1,backupLocation:l.backupLocation||"",notes:l.notes||"",createdAt:new Date,updatedAt:new Date};t([...e,y]),o({name:"",type:"personal",location:"",description:"",expiryDate:null,renewalReminder:!1,renewalFrequency:"yearly",isDigital:!1,backupLocation:"",notes:""}),s(!1)},m=y=>{const b=e[y];o({name:b.name,type:b.type,location:b.location,description:b.description,expiryDate:b.expiryDate,renewalReminder:b.renewalReminder,renewalFrequency:b.renewalFrequency,isDigital:b.isDigital,backupLocation:b.backupLocation,notes:b.notes}),i(y),s(!0)},h=()=>{if(a===null||!l.name||!l.type)return;const y=[...e];y[a]={...y[a],...l,updatedAt:new Date},t(y),i(null),s(!1),o({name:"",type:"personal",location:"",description:"",expiryDate:null,renewalReminder:!1,renewalFrequency:"yearly",isDigital:!1,backupLocation:"",notes:""})},f=y=>{const b=e.filter((j,N)=>N!==y);t(b)},x=y=>{const b={personal:"bg-blue-100 text-blue-800",medical:"bg-red-100 text-red-800",financial:"bg-green-100 text-green-800",legal:"bg-purple-100 text-purple-800",property:"bg-orange-100 text-orange-800",insurance:"bg-yellow-100 text-yellow-800",employment:"bg-indigo-100 text-indigo-800",other:"bg-gray-100 text-gray-800"};return b[y]||b.other},g=(()=>{const y=new Date,b=new Date(y.getTime()+720*60*60*1e3);return e.filter(j=>j.expiryDate&&new Date(j.expiryDate)<=b&&new Date(j.expiryDate)>=y)})();return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(C,{children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ht,{className:"h-5 w-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total des documents"}),r.jsx("p",{className:"text-2xl font-bold",children:e.length})]})]})})}),r.jsx(C,{children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ln,{className:"h-5 w-5 text-orange-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Expirent bient√¥t"}),r.jsx("p",{className:"text-2xl font-bold",children:g.length})]})]})})}),r.jsx(C,{children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ue,{className:"h-5 w-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Avec sauvegarde"}),r.jsx("p",{className:"text-2xl font-bold",children:e.filter(y=>y.backupLocation).length})]})]})})})]}),g.length>0&&r.jsxs(Se,{className:"border-orange-200 bg-orange-50",children:[r.jsx(wt,{className:"h-4 w-4 text-orange-600"}),r.jsxs(Ae,{children:[r.jsx("strong",{children:g.length})," document(s) expire(nt) dans les 30 prochains jours. V√©rifiez vos renouvellements."]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Documents importants"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"G√©rez vos documents essentiels avec des rappels de renouvellement"})]}),r.jsxs(_,{onClick:()=>s(!0),className:"flex items-center space-x-2",children:[r.jsx($t,{className:"h-4 w-4"}),r.jsx("span",{children:"Ajouter un document"})]})]}),n&&r.jsxs(C,{children:[r.jsxs(M,{children:[r.jsx(R,{children:a!==null?"Modifier le document":"Ajouter un document"}),r.jsx(te,{children:"Renseignez les informations sur votre document important"})]}),r.jsxs(E,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"document-name",children:"Nom du document *"}),r.jsx(T,{id:"document-name",value:l.name,onChange:y=>o({...l,name:y.target.value}),placeholder:"Ex : Passeport, Permis de conduire"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"document-type",children:"Type de document *"}),r.jsxs(ye,{value:l.type,onValueChange:y=>o({...l,type:y}),children:[r.jsx(be,{children:r.jsx(je,{placeholder:"S√©lectionner un type"})}),r.jsx(Ne,{children:c.map(y=>r.jsx(ae,{value:y.value,children:y.label},y.value))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"document-location",children:"Emplacement physique"}),r.jsx(T,{id:"document-location",value:l.location,onChange:y=>o({...l,location:y.target.value}),placeholder:"Ex : Coffre-fort, Tiroir bureau"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"document-expiry",children:"Date d'expiration"}),r.jsxs(aa,{children:[r.jsx(ia,{asChild:!0,children:r.jsxs(_,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[r.jsx(nt,{className:"mr-2 h-4 w-4"}),l.expiryDate?_r(l.expiryDate,"PPP",{locale:Fr}):"S√©lectionner une date"]})}),r.jsx(la,{className:"w-auto p-0",children:r.jsx(oa,{mode:"single",selected:l.expiryDate,onSelect:y=>o({...l,expiryDate:y}),initialFocus:!0})})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"document-description",children:"Description"}),r.jsx(De,{id:"document-description",value:l.description,onChange:y=>o({...l,description:y.target.value}),placeholder:"Description d√©taill√©e du document",rows:3})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"document-backup",children:"Emplacement de sauvegarde"}),r.jsx(T,{id:"document-backup",value:l.backupLocation,onChange:y=>o({...l,backupLocation:y.target.value}),placeholder:"Ex : Cloud, Disque externe"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"document-frequency",children:"Fr√©quence de renouvellement"}),r.jsxs(ye,{value:l.renewalFrequency,onValueChange:y=>o({...l,renewalFrequency:y}),children:[r.jsx(be,{children:r.jsx(je,{})}),r.jsx(Ne,{children:u.map(y=>r.jsx(ae,{value:y.value,children:y.label},y.value))})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"document-notes",children:"Notes additionnelles"}),r.jsx(De,{id:"document-notes",value:l.notes,onChange:y=>o({...l,notes:y.target.value}),placeholder:"Informations suppl√©mentaires, instructions sp√©ciales...",rows:2})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ft,{id:"renewal-reminder",checked:l.renewalReminder,onCheckedChange:y=>o({...l,renewalReminder:y})}),r.jsx(A,{htmlFor:"renewal-reminder",children:"Activer les rappels de renouvellement"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ft,{id:"is-digital",checked:l.isDigital,onCheckedChange:y=>o({...l,isDigital:y})}),r.jsx(A,{htmlFor:"is-digital",children:"Document num√©rique"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(_,{variant:"outline",onClick:()=>{s(!1),i(null),o({name:"",type:"personal",location:"",description:"",expiryDate:null,renewalReminder:!1,renewalFrequency:"yearly",isDigital:!1,backupLocation:"",notes:""})},children:"Annuler"}),r.jsx(_,{onClick:a!==null?h:d,disabled:!l.name||!l.type,children:a!==null?"Mettre √† jour":"Ajouter"})]})]})]}),r.jsx("div",{className:"space-y-4",children:e.length===0?r.jsx(C,{children:r.jsxs(E,{className:"p-8 text-center",children:[r.jsx(ht,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:"Aucun document enregistr√©"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"Commencez par ajouter vos documents importants pour les garder organis√©s"}),r.jsx(_,{onClick:()=>s(!0),children:"Ajouter votre premier document"})]})}):r.jsx("div",{className:"grid gap-4",children:e.map((y,b)=>r.jsx(C,{className:"hover:shadow-md transition-shadow",children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("h4",{className:"font-semibold text-lg",children:y.name}),r.jsx(Z,{className:x(y.type),children:c.find(j=>j.value===y.type)?.label}),y.isDigital&&r.jsx(Z,{variant:"secondary",children:"Num√©rique"}),y.renewalReminder&&r.jsx(Z,{variant:"outline",className:"text-orange-600",children:"Rappels actifs"})]}),y.description&&r.jsx("p",{className:"text-muted-foreground",children:y.description}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[y.location&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(zy,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Emplacement :"})," ",y.location]})]}),y.expiryDate&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(nt,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Expire le :"})," ",_r(new Date(y.expiryDate),"PPP",{locale:Fr})]})]}),y.backupLocation&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ue,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Sauvegarde :"})," ",y.backupLocation]})]}),y.renewalFrequency&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ln,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Renouvellement :"})," ",u.find(j=>j.value===y.renewalFrequency)?.label]})]})]}),y.notes&&r.jsx("div",{className:"mt-2 p-2 bg-muted rounded-md",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:y.notes})})]}),r.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[r.jsx(_,{variant:"outline",size:"sm",onClick:()=>m(b),children:"Modifier"}),r.jsx(_,{variant:"outline",size:"sm",onClick:()=>f(b),className:"text-red-600 hover:text-red-700",children:r.jsx(Lt,{className:"h-4 w-4"})})]})]})})},y.id))})})]})},fI=({data:e,onUpdate:t})=>{const[n,s]=v.useState(!1),[a,i]=v.useState(!1),[l,o]=v.useState(null),[c,u]=v.useState(null),[d,m]=v.useState({type:"residential",address:"",city:"",province:"",postalCode:"",description:"",estimatedValue:"",mortgageInfo:"",insuranceInfo:"",maintenanceNotes:"",isPrimary:!1}),[h,f]=v.useState({name:"",category:"furniture",location:"",description:"",estimatedValue:"",condition:"good",isInsured:!1,insuranceDetails:"",storageNotes:""}),x=[{value:"residential",label:"R√©sidentiel"},{value:"commercial",label:"Commercial"},{value:"vacation",label:"Vacances"},{value:"investment",label:"Investissement"},{value:"land",label:"Terrain"},{value:"other",label:"Autre"}],p=[{value:"furniture",label:"Meubles"},{value:"electronics",label:"√âlectronique"},{value:"jewelry",label:"Bijoux"},{value:"art",label:"Art"},{value:"collectibles",label:"Collection"},{value:"documents",label:"Documents"},{value:"clothing",label:"V√™tements"},{value:"tools",label:"Outils"},{value:"other",label:"Autre"}],g=[{value:"excellent",label:"Excellent"},{value:"good",label:"Bon"},{value:"fair",label:"Acceptable"},{value:"poor",label:"Mauvais"},{value:"damaged",label:"Endommag√©"}],y=["Alberta","Colombie-Britannique","Manitoba","Nouveau-Brunswick","Terre-Neuve-et-Labrador","Nouvelle-√âcosse","Ontario","√éle-du-Prince-√âdouard","Qu√©bec","Saskatchewan","Territoires du Nord-Ouest","Nunavut","Yukon"],b=()=>{if(!d.type||!d.address||!d.city)return;const P={id:Date.now().toString(),type:d.type,address:d.address,city:d.city,province:d.province||"",postalCode:d.postalCode||"",description:d.description||"",estimatedValue:d.estimatedValue||"",mortgageInfo:d.mortgageInfo||"",insuranceInfo:d.insuranceInfo||"",maintenanceNotes:d.maintenanceNotes||"",isPrimary:d.isPrimary||!1,createdAt:new Date,updatedAt:new Date},L=[...e.properties,P];t({...e,properties:L}),m({type:"residential",address:"",city:"",province:"",postalCode:"",description:"",estimatedValue:"",mortgageInfo:"",insuranceInfo:"",maintenanceNotes:"",isPrimary:!1}),s(!1)},j=()=>{if(!h.name||!h.category||!h.location)return;const P={id:Date.now().toString(),name:h.name,category:h.category,location:h.location,description:h.description||"",estimatedValue:h.estimatedValue||"",condition:h.condition||"good",isInsured:h.isInsured||!1,insuranceDetails:h.insuranceDetails||"",storageNotes:h.storageNotes||"",createdAt:new Date,updatedAt:new Date},L=[...e.storedGoods,P];t({...e,storedGoods:L}),f({name:"",category:"furniture",location:"",description:"",estimatedValue:"",condition:"good",isInsured:!1,insuranceDetails:"",storageNotes:""}),i(!1)},N=P=>{const L=e.properties[P];m({type:L.type,address:L.address,city:L.city,province:L.province,postalCode:L.postalCode,description:L.description,estimatedValue:L.estimatedValue,mortgageInfo:L.mortgageInfo,insuranceInfo:L.insuranceInfo,maintenanceNotes:L.maintenanceNotes,isPrimary:L.isPrimary}),o(P),s(!0)},w=P=>{const L=e.storedGoods[P];f({name:L.name,category:L.category,location:L.location,description:L.description,estimatedValue:L.estimatedValue,condition:L.condition,isInsured:L.isInsured,insuranceDetails:L.insuranceDetails,storageNotes:L.storageNotes}),u(P),i(!0)},S=()=>{if(l===null||!d.type||!d.address||!d.city)return;const P=[...e.properties];P[l]={...P[l],...d,updatedAt:new Date},t({...e,properties:P}),o(null),s(!1),m({type:"residential",address:"",city:"",province:"",postalCode:"",description:"",estimatedValue:"",mortgageInfo:"",insuranceInfo:"",maintenanceNotes:"",isPrimary:!1})},O=()=>{if(c===null||!h.name||!h.category||!h.location)return;const P=[...e.storedGoods];P[c]={...P[c],...h,updatedAt:new Date},t({...e,storedGoods:P}),u(null),i(!1),f({name:"",category:"furniture",location:"",description:"",estimatedValue:"",condition:"good",isInsured:!1,insuranceDetails:"",storageNotes:""})},k=P=>{const L=e.properties.filter((X,J)=>J!==P);t({...e,properties:L})},F=P=>{const L=e.storedGoods.filter((X,J)=>J!==P);t({...e,storedGoods:L})},H=P=>{const L={residential:"bg-blue-100 text-blue-800",commercial:"bg-green-100 text-green-800",vacation:"bg-yellow-100 text-yellow-800",investment:"bg-purple-100 text-purple-800",land:"bg-orange-100 text-orange-800",other:"bg-gray-100 text-gray-800"};return L[P]||L.other},z=P=>{const L={furniture:"bg-brown-100 text-brown-800",electronics:"bg-blue-100 text-blue-800",jewelry:"bg-yellow-100 text-yellow-800",art:"bg-purple-100 text-purple-800",collectibles:"bg-red-100 text-red-800",documents:"bg-gray-100 text-gray-800",clothing:"bg-pink-100 text-pink-800",tools:"bg-orange-100 text-orange-800",other:"bg-gray-100 text-gray-800"};return L[P]||L.other},q=P=>{const L={excellent:"bg-green-100 text-green-800",good:"bg-blue-100 text-blue-800",fair:"bg-yellow-100 text-yellow-800",poor:"bg-orange-100 text-orange-800",damaged:"bg-red-100 text-red-800"};return L[P]||L.good},G=e.properties.reduce((P,L)=>{const X=parseFloat(L.estimatedValue.replace(/[^0-9.,]/g,"").replace(",","."))||0;return P+X},0),V=e.storedGoods.reduce((P,L)=>{const X=parseFloat(L.estimatedValue.replace(/[^0-9.,]/g,"").replace(",","."))||0;return P+X},0);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(C,{children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Mt,{className:"h-5 w-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Propri√©t√©s"}),r.jsx("p",{className:"text-2xl font-bold",children:e.properties.length})]})]})})}),r.jsx(C,{children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ri,{className:"h-5 w-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Biens entrepos√©s"}),r.jsx("p",{className:"text-2xl font-bold",children:e.storedGoods.length})]})]})})}),r.jsx(C,{children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(it,{className:"h-5 w-5 text-purple-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Valeur propri√©t√©s"}),r.jsxs("p",{className:"text-2xl font-bold",children:[G.toLocaleString("fr-CA")," $"]})]})]})})}),r.jsx(C,{children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ue,{className:"h-5 w-5 text-orange-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Valeur biens"}),r.jsxs("p",{className:"text-2xl font-bold",children:[V.toLocaleString("fr-CA")," $"]})]})]})})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center space-x-2",children:[r.jsx(Mt,{className:"h-5 w-5"}),r.jsx("span",{children:"Propri√©t√©s"})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"G√©rez vos propri√©t√©s immobili√®res et leurs informations"})]}),r.jsxs(_,{onClick:()=>s(!0),className:"flex items-center space-x-2",children:[r.jsx($t,{className:"h-4 w-4"}),r.jsx("span",{children:"Ajouter une propri√©t√©"})]})]}),n&&r.jsxs(C,{children:[r.jsxs(M,{children:[r.jsx(R,{children:l!==null?"Modifier la propri√©t√©":"Ajouter une propri√©t√©"}),r.jsx(te,{children:"Renseignez les informations sur votre propri√©t√©"})]}),r.jsxs(E,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"property-type",children:"Type de propri√©t√© *"}),r.jsxs(ye,{value:d.type,onValueChange:P=>m({...d,type:P}),children:[r.jsx(be,{children:r.jsx(je,{placeholder:"S√©lectionner un type"})}),r.jsx(Ne,{children:x.map(P=>r.jsx(ae,{value:P.value,children:P.label},P.value))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"property-address",children:"Adresse *"}),r.jsx(T,{id:"property-address",value:d.address,onChange:P=>m({...d,address:P.target.value}),placeholder:"123 Rue Principale"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"property-city",children:"Ville *"}),r.jsx(T,{id:"property-city",value:d.city,onChange:P=>m({...d,city:P.target.value}),placeholder:"Montr√©al"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"property-province",children:"Province"}),r.jsxs(ye,{value:d.province,onValueChange:P=>m({...d,province:P}),children:[r.jsx(be,{children:r.jsx(je,{placeholder:"S√©lectionner"})}),r.jsx(Ne,{children:y.map(P=>r.jsx(ae,{value:P,children:P},P))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"property-postal",children:"Code postal"}),r.jsx(T,{id:"property-postal",value:d.postalCode,onChange:P=>m({...d,postalCode:P.target.value}),placeholder:"H1A 1A1"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"property-description",children:"Description"}),r.jsx(De,{id:"property-description",value:d.description,onChange:P=>m({...d,description:P.target.value}),placeholder:"Description d√©taill√©e de la propri√©t√©",rows:3})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"property-value",children:"Valeur estim√©e"}),r.jsx(T,{id:"property-value",value:d.estimatedValue,onChange:P=>m({...d,estimatedValue:P.target.value}),placeholder:"500 000 $"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"property-mortgage",children:"Informations hypoth√©caires"}),r.jsx(T,{id:"property-mortgage",value:d.mortgageInfo,onChange:P=>m({...d,mortgageInfo:P.target.value}),placeholder:"Montant restant, taux d'int√©r√™t"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"property-insurance",children:"Informations d'assurance"}),r.jsx(T,{id:"property-insurance",value:d.insuranceInfo,onChange:P=>m({...d,insuranceInfo:P.target.value}),placeholder:"Num√©ro de police, couverture"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"property-maintenance",children:"Notes d'entretien"}),r.jsx(T,{id:"property-maintenance",value:d.maintenanceNotes,onChange:P=>m({...d,maintenanceNotes:P.target.value}),placeholder:"Travaux r√©cents, entretien requis"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ft,{id:"property-primary",checked:d.isPrimary,onCheckedChange:P=>m({...d,isPrimary:P})}),r.jsx(A,{htmlFor:"property-primary",children:"Propri√©t√© principale"})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(_,{variant:"outline",onClick:()=>{s(!1),o(null),m({type:"residential",address:"",city:"",province:"",postalCode:"",description:"",estimatedValue:"",mortgageInfo:"",insuranceInfo:"",maintenanceNotes:"",isPrimary:!1})},children:"Annuler"}),r.jsx(_,{onClick:l!==null?S:b,disabled:!d.type||!d.address||!d.city,children:l!==null?"Mettre √† jour":"Ajouter"})]})]})]}),r.jsx("div",{className:"space-y-4",children:e.properties.length===0?r.jsx(C,{children:r.jsxs(E,{className:"p-8 text-center",children:[r.jsx(Mt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:"Aucune propri√©t√© enregistr√©e"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"Commencez par ajouter vos propri√©t√©s immobili√®res"}),r.jsx(_,{onClick:()=>s(!0),children:"Ajouter votre premi√®re propri√©t√©"})]})}):r.jsx("div",{className:"grid gap-4",children:e.properties.map((P,L)=>r.jsx(C,{className:"hover:shadow-md transition-shadow",children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("h4",{className:"font-semibold text-lg",children:P.address}),r.jsx(Z,{className:H(P.type),children:x.find(X=>X.value===P.type)?.label}),P.isPrimary&&r.jsx(Z,{variant:"secondary",children:"Principale"})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[r.jsx(Zt,{className:"h-4 w-4"}),r.jsxs("span",{children:[P.city,", ",P.province," ",P.postalCode]})]}),P.description&&r.jsx("p",{className:"text-muted-foreground",children:P.description}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[P.estimatedValue&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(it,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Valeur :"})," ",P.estimatedValue]})]}),P.mortgageInfo&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Mt,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Hypoth√®que :"})," ",P.mortgageInfo]})]}),P.insuranceInfo&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ue,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Assurance :"})," ",P.insuranceInfo]})]})]}),P.maintenanceNotes&&r.jsx("div",{className:"mt-2 p-2 bg-muted rounded-md",children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.jsx("strong",{children:"Entretien :"})," ",P.maintenanceNotes]})})]}),r.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[r.jsx(_,{variant:"outline",size:"sm",onClick:()=>N(L),children:r.jsx(gr,{className:"h-4 w-4"})}),r.jsx(_,{variant:"outline",size:"sm",onClick:()=>k(L),className:"text-red-600 hover:text-red-700",children:r.jsx(Lt,{className:"h-4 w-4"})})]})]})})},P.id))})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center space-x-2",children:[r.jsx(Ri,{className:"h-5 w-5"}),r.jsx("span",{children:"Biens entrepos√©s"})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Inventaire de vos biens entrepos√©s et leur valeur"})]}),r.jsxs(_,{onClick:()=>i(!0),className:"flex items-center space-x-2",children:[r.jsx($t,{className:"h-4 w-4"}),r.jsx("span",{children:"Ajouter des biens"})]})]}),a&&r.jsxs(C,{children:[r.jsxs(M,{children:[r.jsx(R,{children:c!==null?"Modifier les biens":"Ajouter des biens"}),r.jsx(te,{children:"Renseignez les informations sur vos biens entrepos√©s"})]}),r.jsxs(E,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"goods-name",children:"Nom des biens *"}),r.jsx(T,{id:"goods-name",value:h.name,onChange:P=>f({...h,name:P.target.value}),placeholder:"Ex : Meubles de salon, Collection de livres"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"goods-category",children:"Cat√©gorie *"}),r.jsxs(ye,{value:h.category,onValueChange:P=>f({...h,category:P}),children:[r.jsx(be,{children:r.jsx(je,{placeholder:"S√©lectionner une cat√©gorie"})}),r.jsx(Ne,{children:p.map(P=>r.jsx(ae,{value:P.value,children:P.label},P.value))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"goods-location",children:"Emplacement *"}),r.jsx(T,{id:"goods-location",value:h.location,onChange:P=>f({...h,location:P.target.value}),placeholder:"Ex : Entrep√¥t, Cave, Garage"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"goods-condition",children:"√âtat"}),r.jsxs(ye,{value:h.condition,onValueChange:P=>f({...h,condition:P}),children:[r.jsx(be,{children:r.jsx(je,{})}),r.jsx(Ne,{children:g.map(P=>r.jsx(ae,{value:P.value,children:P.label},P.value))})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"goods-description",children:"Description"}),r.jsx(De,{id:"goods-description",value:h.description,onChange:P=>f({...h,description:P.target.value}),placeholder:"Description d√©taill√©e des biens",rows:3})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"goods-value",children:"Valeur estim√©e"}),r.jsx(T,{id:"goods-value",value:h.estimatedValue,onChange:P=>f({...h,estimatedValue:P.target.value}),placeholder:"1 500 $"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"goods-insurance-details",children:"D√©tails d'assurance"}),r.jsx(T,{id:"goods-insurance-details",value:h.insuranceDetails,onChange:P=>f({...h,insuranceDetails:P.target.value}),placeholder:"Num√©ro de police, couverture"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"goods-storage-notes",children:"Notes d'entreposage"}),r.jsx(De,{id:"goods-storage-notes",value:h.storageNotes,onChange:P=>f({...h,storageNotes:P.target.value}),placeholder:"Instructions sp√©ciales, conditions d'entreposage",rows:2})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ft,{id:"goods-insured",checked:h.isInsured,onCheckedChange:P=>f({...h,isInsured:P})}),r.jsx(A,{htmlFor:"goods-insured",children:"Biens assur√©s"})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(_,{variant:"outline",onClick:()=>{i(!1),u(null),f({name:"",category:"furniture",location:"",description:"",estimatedValue:"",condition:"good",isInsured:!1,insuranceDetails:"",storageNotes:""})},children:"Annuler"}),r.jsx(_,{onClick:c!==null?O:j,disabled:!h.name||!h.category||!h.location,children:c!==null?"Mettre √† jour":"Ajouter"})]})]})]}),r.jsx("div",{className:"space-y-4",children:e.storedGoods.length===0?r.jsx(C,{children:r.jsxs(E,{className:"p-8 text-center",children:[r.jsx(Ri,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:"Aucun bien entrepos√© enregistr√©"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"Commencez par ajouter vos biens entrepos√©s"}),r.jsx(_,{onClick:()=>i(!0),children:"Ajouter vos premiers biens"})]})}):r.jsx("div",{className:"grid gap-4",children:e.storedGoods.map((P,L)=>r.jsx(C,{className:"hover:shadow-md transition-shadow",children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("h4",{className:"font-semibold text-lg",children:P.name}),r.jsx(Z,{className:z(P.category),children:p.find(X=>X.value===P.category)?.label}),r.jsx(Z,{className:q(P.condition),children:g.find(X=>X.value===P.condition)?.label}),P.isInsured&&r.jsx(Z,{variant:"secondary",children:"Assur√©"})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[r.jsx(Zt,{className:"h-4 w-4"}),r.jsx("span",{children:P.location})]}),P.description&&r.jsx("p",{className:"text-muted-foreground",children:P.description}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[P.estimatedValue&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(it,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Valeur :"})," ",P.estimatedValue]})]}),P.insuranceDetails&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ue,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Assurance :"})," ",P.insuranceDetails]})]})]}),P.storageNotes&&r.jsx("div",{className:"mt-2 p-2 bg-muted rounded-md",children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.jsx("strong",{children:"Notes :"})," ",P.storageNotes]})})]}),r.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[r.jsx(_,{variant:"outline",size:"sm",onClick:()=>w(L),children:r.jsx(gr,{className:"h-4 w-4"})}),r.jsx(_,{variant:"outline",size:"sm",onClick:()=>F(L),className:"text-red-600 hover:text-red-700",children:r.jsx(Lt,{className:"h-4 w-4"})})]})]})})},P.id))})})]})]})},pI=({data:e,onUpdate:t})=>{const[n,s]=v.useState("accounts"),[a,i]=v.useState(!1),[l,o]=v.useState(!1),[c,u]=v.useState(!1),[d,m]=v.useState(!1),[h,f]=v.useState(null),[x,p]=v.useState(null),[g,y]=v.useState(null),[b,j]=v.useState(null),[N,w]=v.useState({bankName:"",cardType:"credit",cardNumber:"",expiryDate:"",creditLimit:"",currentBalance:"",monthlyPayment:"",interestRate:"",notes:""}),[S,O]=v.useState({bankName:"",accountType:"checking",accountNumber:"",routingNumber:"",currentBalance:"",monthlyFee:"",notes:""}),[k,F]=v.useState({lenderName:"",loanType:"personal",loanAmount:"",currentBalance:"",monthlyPayment:"",interestRate:"",startDate:"",endDate:"",notes:""}),[H,z]=v.useState({institutionName:"",investmentType:"stocks",accountNumber:"",currentValue:"",monthlyContribution:"",notes:""}),q=[{value:"credit",label:"Carte de cr√©dit"},{value:"debit",label:"Carte de d√©bit"},{value:"prepaid",label:"Carte pr√©pay√©e"},{value:"business",label:"Carte d'entreprise"}],G=[{value:"checking",label:"Compte ch√®ques"},{value:"savings",label:"Compte √©pargne"},{value:"investment",label:"Compte d'investissement"},{value:"business",label:"Compte d'entreprise"},{value:"joint",label:"Compte conjoint"}],V=()=>{if(!N.bankName||!N.cardType)return;const I={id:Date.now().toString(),bankName:N.bankName,cardType:N.cardType,cardNumber:N.cardNumber||"",expiryDate:N.expiryDate||"",creditLimit:N.creditLimit||"",currentBalance:N.currentBalance||"",monthlyPayment:N.monthlyPayment||"",interestRate:N.interestRate||"",notes:N.notes||"",createdAt:new Date,updatedAt:new Date},ne=[...e.creditCards,I];t({...e,creditCards:ne}),w({bankName:"",cardType:"credit",cardNumber:"",expiryDate:"",creditLimit:"",currentBalance:"",monthlyPayment:"",interestRate:"",notes:""}),i(!1)},P=()=>{if(!S.bankName||!S.accountType)return;const I={id:Date.now().toString(),bankName:S.bankName,accountType:S.accountType,accountNumber:S.accountNumber||"",routingNumber:S.routingNumber||"",currentBalance:S.currentBalance||"",monthlyFee:S.monthlyFee||"",notes:S.notes||"",createdAt:new Date,updatedAt:new Date},ne=[...e.bankAccounts,I];t({...e,bankAccounts:ne}),O({bankName:"",accountType:"checking",accountNumber:"",routingNumber:"",currentBalance:"",monthlyFee:"",notes:""}),o(!1)},L=I=>{const ne=e.creditCards[I];w({bankName:ne.bankName,cardType:ne.cardType,cardNumber:ne.cardNumber,expiryDate:ne.expiryDate,creditLimit:ne.creditLimit,currentBalance:ne.currentBalance,monthlyPayment:ne.monthlyPayment,interestRate:ne.interestRate,notes:ne.notes}),f(I),i(!0)},X=()=>{if(h===null||!N.bankName||!N.cardType)return;const I=[...e.creditCards];I[h]={...I[h],...N,updatedAt:new Date},t({...e,creditCards:I}),f(null),i(!1),w({bankName:"",cardType:"credit",cardNumber:"",expiryDate:"",creditLimit:"",currentBalance:"",monthlyPayment:"",interestRate:"",notes:""})},J=I=>{const ne=e.creditCards.filter((_e,Ti)=>Ti!==I);t({...e,creditCards:ne})},ie=e.creditCards.reduce((I,ne)=>{const _e=parseFloat(ne.creditLimit.replace(/[^0-9.,]/g,"").replace(",","."))||0;return I+_e},0),Ge=e.creditCards.reduce((I,ne)=>{const _e=parseFloat(ne.currentBalance.replace(/[^0-9.,]/g,"").replace(",","."))||0;return I+_e},0),qe=e.bankAccounts.reduce((I,ne)=>{const _e=parseFloat(ne.currentBalance.replace(/[^0-9.,]/g,"").replace(",","."))||0;return I+_e},0),Q=e.personalLoans.reduce((I,ne)=>{const _e=parseFloat(ne.currentBalance.replace(/[^0-9.,]/g,"").replace(",","."))||0;return I+_e},0),Er=e.investments.reduce((I,ne)=>{const _e=parseFloat(ne.currentValue.replace(/[^0-9.,]/g,"").replace(",","."))||0;return I+_e},0),B=ie>0?Ge/ie*100:0;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsx(C,{children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(is,{className:"h-5 w-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Limite de cr√©dit"}),r.jsxs("p",{className:"text-lg font-bold",children:[ie.toLocaleString("fr-CA")," $"]})]})]})})}),r.jsx(C,{children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(it,{className:"h-5 w-5 text-red-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Solde cr√©dit"}),r.jsxs("p",{className:"text-lg font-bold",children:[Ge.toLocaleString("fr-CA")," $"]})]})]})})}),r.jsx(C,{children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Mt,{className:"h-5 w-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Comptes bancaires"}),r.jsxs("p",{className:"text-lg font-bold",children:[qe.toLocaleString("fr-CA")," $"]})]})]})})}),r.jsx(C,{children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(et,{className:"h-5 w-5 text-purple-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Investissements"}),r.jsxs("p",{className:"text-lg font-bold",children:[Er.toLocaleString("fr-CA")," $"]})]})]})})}),r.jsx(C,{children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(wt,{className:"h-5 w-5 text-orange-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Utilisation cr√©dit"}),r.jsxs("p",{className:"text-lg font-bold",children:[B.toFixed(1)," %"]})]})]})})})]}),B>80&&r.jsxs(Se,{className:"border-red-200 bg-red-50",children:[r.jsx(wt,{className:"h-4 w-4 text-red-600"}),r.jsxs(Ae,{children:[r.jsx("strong",{children:"Attention :"})," Votre utilisation de cr√©dit est √©lev√©e (",B.toFixed(1)," %). Consid√©rez r√©duire vos d√©penses ou augmenter vos paiements."]})]}),Q>qe&&r.jsxs(Se,{className:"border-orange-200 bg-orange-50",children:[r.jsx(wt,{className:"h-4 w-4 text-orange-600"}),r.jsxs(Ae,{children:[r.jsx("strong",{children:"Attention :"})," Vos dettes (",Q.toLocaleString("fr-CA")," $) d√©passent vos liquidit√©s (",qe.toLocaleString("fr-CA")," $)."]})]}),r.jsxs(Jt,{value:n,onValueChange:s,className:"w-full",children:[r.jsxs(Xt,{className:"grid w-full grid-cols-4",children:[r.jsx(re,{value:"accounts",children:"Comptes bancaires"}),r.jsx(re,{value:"credit",children:"Cartes de cr√©dit"}),r.jsx(re,{value:"loans",children:"Pr√™ts"}),r.jsx(re,{value:"investments",children:"Investissements"})]}),r.jsxs(ee,{value:"accounts",className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Comptes bancaires"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"G√©rez vos comptes bancaires et leurs informations"})]}),r.jsxs(_,{onClick:()=>o(!0),className:"flex items-center space-x-2",children:[r.jsx($t,{className:"h-4 w-4"}),r.jsx("span",{children:"Ajouter un compte"})]})]}),l&&r.jsxs(C,{children:[r.jsxs(M,{children:[r.jsx(R,{children:x!==null?"Modifier le compte":"Ajouter un compte bancaire"}),r.jsx(te,{children:"Renseignez les informations sur votre compte bancaire"})]}),r.jsxs(E,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"bank-name",children:"Nom de la banque *"}),r.jsx(T,{id:"bank-name",value:S.bankName,onChange:I=>O({...S,bankName:I.target.value}),placeholder:"Ex : Banque Royale du Canada"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"account-type",children:"Type de compte *"}),r.jsxs(ye,{value:S.accountType,onValueChange:I=>O({...S,accountType:I}),children:[r.jsx(be,{children:r.jsx(je,{placeholder:"S√©lectionner un type"})}),r.jsx(Ne,{children:G.map(I=>r.jsx(ae,{value:I.value,children:I.label},I.value))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"account-number",children:"Num√©ro de compte"}),r.jsx(T,{id:"account-number",value:S.accountNumber,onChange:I=>O({...S,accountNumber:I.target.value}),placeholder:"Num√©ro de compte"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"routing-number",children:"Num√©ro de transit"}),r.jsx(T,{id:"routing-number",value:S.routingNumber,onChange:I=>O({...S,routingNumber:I.target.value}),placeholder:"Num√©ro de transit"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"current-balance",children:"Solde actuel"}),r.jsx(T,{id:"current-balance",value:S.currentBalance,onChange:I=>O({...S,currentBalance:I.target.value}),placeholder:"1 500,00 $"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"monthly-fee",children:"Frais mensuels"}),r.jsx(T,{id:"monthly-fee",value:S.monthlyFee,onChange:I=>O({...S,monthlyFee:I.target.value}),placeholder:"12,95 $"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"account-notes",children:"Notes"}),r.jsx(De,{id:"account-notes",value:S.notes,onChange:I=>O({...S,notes:I.target.value}),placeholder:"Informations suppl√©mentaires sur le compte",rows:2})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(_,{variant:"outline",onClick:()=>{o(!1),p(null),O({bankName:"",accountType:"checking",accountNumber:"",routingNumber:"",currentBalance:"",monthlyFee:"",notes:""})},children:"Annuler"}),r.jsx(_,{onClick:P,disabled:!S.bankName||!S.accountType,children:"Ajouter"})]})]})]}),r.jsx("div",{className:"space-y-4",children:e.bankAccounts.length===0?r.jsx(C,{children:r.jsxs(E,{className:"p-8 text-center",children:[r.jsx(Mt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:"Aucun compte bancaire enregistr√©"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"Commencez par ajouter vos comptes bancaires"}),r.jsx(_,{onClick:()=>o(!0),children:"Ajouter votre premier compte"})]})}):r.jsx("div",{className:"grid gap-4",children:e.bankAccounts.map((I,ne)=>r.jsx(C,{className:"hover:shadow-md transition-shadow",children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("h4",{className:"font-semibold text-lg",children:I.bankName}),r.jsx(Z,{variant:"outline",children:G.find(_e=>_e.value===I.accountType)?.label})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[I.accountNumber&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ht,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Compte :"})," ",I.accountNumber]})]}),I.currentBalance&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(it,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Solde :"})," ",I.currentBalance]})]}),I.monthlyFee&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(nt,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Frais :"})," ",I.monthlyFee]})]})]}),I.notes&&r.jsx("div",{className:"mt-2 p-2 bg-muted rounded-md",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:I.notes})})]}),r.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[r.jsx(_,{variant:"outline",size:"sm",onClick:()=>L(ne),children:r.jsx(gr,{className:"h-4 w-4"})}),r.jsx(_,{variant:"outline",size:"sm",onClick:()=>J(ne),className:"text-red-600 hover:text-red-700",children:r.jsx(Lt,{className:"h-4 w-4"})})]})]})})},I.id))})})]}),r.jsxs(ee,{value:"credit",className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Cartes de cr√©dit"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"G√©rez vos cartes de cr√©dit et leurs informations"})]}),r.jsxs(_,{onClick:()=>i(!0),className:"flex items-center space-x-2",children:[r.jsx($t,{className:"h-4 w-4"}),r.jsx("span",{children:"Ajouter une carte"})]})]}),a&&r.jsxs(C,{children:[r.jsxs(M,{children:[r.jsx(R,{children:h!==null?"Modifier la carte":"Ajouter une carte de cr√©dit"}),r.jsx(te,{children:"Renseignez les informations sur votre carte de cr√©dit"})]}),r.jsxs(E,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"card-bank",children:"Banque √©mettrice *"}),r.jsx(T,{id:"card-bank",value:N.bankName,onChange:I=>w({...N,bankName:I.target.value}),placeholder:"Ex : Banque Royale du Canada"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"card-type",children:"Type de carte *"}),r.jsxs(ye,{value:N.cardType,onValueChange:I=>w({...N,cardType:I}),children:[r.jsx(be,{children:r.jsx(je,{placeholder:"S√©lectionner un type"})}),r.jsx(Ne,{children:q.map(I=>r.jsx(ae,{value:I.value,children:I.label},I.value))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"card-number",children:"Num√©ro de carte"}),r.jsx(T,{id:"card-number",value:N.cardNumber,onChange:I=>w({...N,cardNumber:I.target.value}),placeholder:"1234 5678 9012 3456"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"card-expiry",children:"Date d'expiration"}),r.jsx(T,{id:"card-expiry",value:N.expiryDate,onChange:I=>w({...N,expiryDate:I.target.value}),placeholder:"MM/AA"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"credit-limit",children:"Limite de cr√©dit"}),r.jsx(T,{id:"credit-limit",value:N.creditLimit,onChange:I=>w({...N,creditLimit:I.target.value}),placeholder:"5 000,00 $"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"current-balance",children:"Solde actuel"}),r.jsx(T,{id:"current-balance",value:N.currentBalance,onChange:I=>w({...N,currentBalance:I.target.value}),placeholder:"1 250,00 $"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"monthly-payment",children:"Paiement mensuel"}),r.jsx(T,{id:"monthly-payment",value:N.monthlyPayment,onChange:I=>w({...N,monthlyPayment:I.target.value}),placeholder:"50,00 $"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"interest-rate",children:"Taux d'int√©r√™t"}),r.jsx(T,{id:"interest-rate",value:N.interestRate,onChange:I=>w({...N,interestRate:I.target.value}),placeholder:"19,99 %"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"card-notes",children:"Notes"}),r.jsx(T,{id:"card-notes",value:N.notes,onChange:I=>w({...N,notes:I.target.value}),placeholder:"Informations suppl√©mentaires"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(_,{variant:"outline",onClick:()=>{i(!1),f(null),w({bankName:"",cardType:"credit",cardNumber:"",expiryDate:"",creditLimit:"",currentBalance:"",monthlyPayment:"",interestRate:"",notes:""})},children:"Annuler"}),r.jsx(_,{onClick:h!==null?X:V,disabled:!N.bankName||!N.cardType,children:h!==null?"Mettre √† jour":"Ajouter"})]})]})]}),r.jsx("div",{className:"space-y-4",children:e.creditCards.length===0?r.jsx(C,{children:r.jsxs(E,{className:"p-8 text-center",children:[r.jsx(is,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:"Aucune carte de cr√©dit enregistr√©e"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"Commencez par ajouter vos cartes de cr√©dit"}),r.jsx(_,{onClick:()=>i(!0),children:"Ajouter votre premi√®re carte"})]})}):r.jsx("div",{className:"grid gap-4",children:e.creditCards.map((I,ne)=>r.jsx(C,{className:"hover:shadow-md transition-shadow",children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("h4",{className:"font-semibold text-lg",children:I.bankName}),r.jsx(Z,{variant:"outline",children:q.find(_e=>_e.value===I.cardType)?.label})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[I.creditLimit&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ue,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Limite :"})," ",I.creditLimit]})]}),I.currentBalance&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(it,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Solde :"})," ",I.currentBalance]})]}),I.monthlyPayment&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(nt,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Paiement :"})," ",I.monthlyPayment]})]})]}),I.notes&&r.jsx("div",{className:"mt-2 p-2 bg-muted rounded-md",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:I.notes})})]}),r.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[r.jsx(_,{variant:"outline",size:"sm",onClick:()=>L(ne),children:r.jsx(gr,{className:"h-4 w-4"})}),r.jsx(_,{variant:"outline",size:"sm",onClick:()=>J(ne),className:"text-red-600 hover:text-red-700",children:r.jsx(Lt,{className:"h-4 w-4"})})]})]})})},I.id))})})]}),r.jsx(ee,{value:"loans",className:"space-y-4",children:r.jsx(C,{children:r.jsxs(E,{className:"p-8 text-center",children:[r.jsx(et,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:"Gestion des pr√™ts"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"Cette fonctionnalit√© sera bient√¥t disponible"})]})})}),r.jsx(ee,{value:"investments",className:"space-y-4",children:r.jsx(C,{children:r.jsxs(E,{className:"p-8 text-center",children:[r.jsx(et,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:"Gestion des investissements"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"Cette fonctionnalit√© sera bient√¥t disponible"})]})})})]})]})},xI=({data:e,onUpdate:t})=>{const[n,s]=v.useState("emails"),[a,i]=v.useState(!1),[l,o]=v.useState(!1),[c,u]=v.useState(!1),[d,m]=v.useState(!1),[h,f]=v.useState(null),[x,p]=v.useState(null),[g,y]=v.useState(null),[b,j]=v.useState(null),[N,w]=v.useState({}),[S,O]=v.useState({emailAddress:"",provider:"",purpose:"personal",recoveryEmail:"",recoveryPhone:"",twoFactorEnabled:!1,notes:""}),[k,F]=v.useState({platformName:"",username:"",email:"",purpose:"personal",isPublic:!1,notes:""}),[H,z]=v.useState({serviceName:"",username:"",email:"",purpose:"personal",hasTwoFactor:!1,notes:""}),[q,G]=v.useState({bankName:"",serviceType:"online-banking",username:"",email:"",hasTwoFactor:!1,notes:""}),V=[{value:"personal",label:"Personnel"},{value:"work",label:"Travail"},{value:"business",label:"Entreprise"},{value:"financial",label:"Financier"},{value:"other",label:"Autre"}],P=[{value:"facebook",label:"Facebook"},{value:"instagram",label:"Instagram"},{value:"twitter",label:"Twitter/X"},{value:"linkedin",label:"LinkedIn"},{value:"youtube",label:"YouTube"},{value:"tiktok",label:"TikTok"},{value:"snapchat",label:"Snapchat"},{value:"other",label:"Autre"}],L=()=>{if(!S.emailAddress||!S.provider)return;const B={id:Date.now().toString(),emailAddress:S.emailAddress,provider:S.provider,purpose:S.purpose,recoveryEmail:S.recoveryEmail||"",recoveryPhone:S.recoveryPhone||"",twoFactorEnabled:S.twoFactorEnabled||!1,notes:S.notes||"",createdAt:new Date,updatedAt:new Date},I=[...e.emailAccounts,B];t({...e,emailAccounts:I}),O({emailAddress:"",provider:"",purpose:"personal",recoveryEmail:"",recoveryPhone:"",twoFactorEnabled:!1,notes:""}),i(!1)},X=()=>{if(!k.platformName||!k.username)return;const B={id:Date.now().toString(),platformName:k.platformName,username:k.username,email:k.email||"",purpose:k.purpose,isPublic:k.isPublic||!1,notes:k.notes||"",createdAt:new Date,updatedAt:new Date},I=[...e.socialNetworks,B];t({...e,socialNetworks:I}),F({platformName:"",username:"",email:"",purpose:"personal",isPublic:!1,notes:""}),o(!1)},J=B=>{const I=e.emailAccounts[B];O({emailAddress:I.emailAddress,provider:I.provider,purpose:I.purpose,recoveryEmail:I.recoveryEmail,recoveryPhone:I.recoveryPhone,twoFactorEnabled:I.twoFactorEnabled,notes:I.notes}),f(B),i(!0)},ie=()=>{if(h===null||!S.emailAddress||!S.provider)return;const B=[...e.emailAccounts];B[h]={...B[h],...S,updatedAt:new Date},t({...e,emailAccounts:B}),f(null),i(!1),O({emailAddress:"",provider:"",purpose:"personal",recoveryEmail:"",recoveryPhone:"",twoFactorEnabled:!1,notes:""})},Ge=B=>{const I=e.emailAccounts.filter((ne,_e)=>_e!==B);t({...e,emailAccounts:I})},qe=e.emailAccounts.length+e.socialNetworks.length+e.onlineAccounts.length+e.onlineBankingServices.length,Q=e.emailAccounts.filter(B=>B.twoFactorEnabled).length+e.onlineAccounts.filter(B=>B.hasTwoFactor).length+e.onlineBankingServices.filter(B=>B.hasTwoFactor).length,Er=e.socialNetworks.filter(B=>B.isPublic).length;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(C,{children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ta,{className:"h-5 w-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total des comptes"}),r.jsx("p",{className:"text-2xl font-bold",children:qe})]})]})})}),r.jsx(C,{children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ue,{className:"h-5 w-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Avec 2FA"}),r.jsx("p",{className:"text-2xl font-bold",children:Q})]})]})})}),r.jsx(C,{children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx($s,{className:"h-5 w-5 text-purple-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Comptes email"}),r.jsx("p",{className:"text-2xl font-bold",children:e.emailAccounts.length})]})]})})}),r.jsx(C,{children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ht,{className:"h-5 w-5 text-orange-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"R√©seaux sociaux"}),r.jsx("p",{className:"text-2xl font-bold",children:e.socialNetworks.length})]})]})})})]}),Q<qe*.5&&qe>0&&r.jsxs(Se,{className:"border-orange-200 bg-orange-50",children:[r.jsx(wt,{className:"h-4 w-4 text-orange-600"}),r.jsxs(Ae,{children:[r.jsx("strong",{children:"Recommandation de s√©curit√© :"})," Moins de 50 % de vos comptes ont l'authentification √† deux facteurs activ√©e. Consid√©rez l'activer pour tous vos comptes importants."]})]}),Er>0&&r.jsxs(Se,{className:"border-blue-200 bg-blue-50",children:[r.jsx(Le,{className:"h-4 w-4 text-blue-600"}),r.jsxs(Ae,{children:[r.jsx("strong",{children:"Information :"})," ",Er," de vos comptes de r√©seaux sociaux sont publics. Assurez-vous que les informations partag√©es sont appropri√©es."]})]}),r.jsxs(Jt,{value:n,onValueChange:s,className:"w-full",children:[r.jsxs(Xt,{className:"grid w-full grid-cols-4",children:[r.jsx(re,{value:"emails",children:"Emails"}),r.jsx(re,{value:"social",children:"R√©seaux sociaux"}),r.jsx(re,{value:"accounts",children:"Comptes en ligne"}),r.jsx(re,{value:"banking",children:"Services bancaires"})]}),r.jsxs(ee,{value:"emails",className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Comptes email"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"G√©rez vos comptes email et leurs informations de r√©cup√©ration"})]}),r.jsxs(_,{onClick:()=>i(!0),className:"flex items-center space-x-2",children:[r.jsx($t,{className:"h-4 w-4"}),r.jsx("span",{children:"Ajouter un email"})]})]}),a&&r.jsxs(C,{children:[r.jsxs(M,{children:[r.jsx(R,{children:h!==null?"Modifier l'email":"Ajouter un compte email"}),r.jsx(te,{children:"Renseignez les informations sur votre compte email"})]}),r.jsxs(E,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"email-address",children:"Adresse email *"}),r.jsx(T,{id:"email-address",type:"email",value:S.emailAddress,onChange:B=>O({...S,emailAddress:B.target.value}),placeholder:"exemple@email.com"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"email-provider",children:"Fournisseur *"}),r.jsx(T,{id:"email-provider",value:S.provider,onChange:B=>O({...S,provider:B.target.value}),placeholder:"Ex : Gmail, Outlook, Yahoo"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"email-purpose",children:"Usage"}),r.jsxs(ye,{value:S.purpose,onValueChange:B=>O({...S,purpose:B}),children:[r.jsx(be,{children:r.jsx(je,{})}),r.jsx(Ne,{children:V.map(B=>r.jsx(ae,{value:B.value,children:B.label},B.value))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"recovery-email",children:"Email de r√©cup√©ration"}),r.jsx(T,{id:"recovery-email",type:"email",value:S.recoveryEmail,onChange:B=>O({...S,recoveryEmail:B.target.value}),placeholder:"email-recup√©ration@email.com"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"recovery-phone",children:"T√©l√©phone de r√©cup√©ration"}),r.jsx(T,{id:"recovery-phone",value:S.recoveryPhone,onChange:B=>O({...S,recoveryPhone:B.target.value}),placeholder:"(514) 555-0123"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"email-notes",children:"Notes"}),r.jsx(T,{id:"email-notes",value:S.notes,onChange:B=>O({...S,notes:B.target.value}),placeholder:"Informations suppl√©mentaires"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ft,{id:"two-factor",checked:S.twoFactorEnabled,onCheckedChange:B=>O({...S,twoFactorEnabled:B})}),r.jsx(A,{htmlFor:"two-factor",children:"Authentification √† deux facteurs activ√©e"})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(_,{variant:"outline",onClick:()=>{i(!1),f(null),O({emailAddress:"",provider:"",purpose:"personal",recoveryEmail:"",recoveryPhone:"",twoFactorEnabled:!1,notes:""})},children:"Annuler"}),r.jsx(_,{onClick:h!==null?ie:L,disabled:!S.emailAddress||!S.provider,children:h!==null?"Mettre √† jour":"Ajouter"})]})]})]}),r.jsx("div",{className:"space-y-4",children:e.emailAccounts.length===0?r.jsx(C,{children:r.jsxs(E,{className:"p-8 text-center",children:[r.jsx($s,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:"Aucun compte email enregistr√©"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"Commencez par ajouter vos comptes email"}),r.jsx(_,{onClick:()=>i(!0),children:"Ajouter votre premier email"})]})}):r.jsx("div",{className:"grid gap-4",children:e.emailAccounts.map((B,I)=>r.jsx(C,{className:"hover:shadow-md transition-shadow",children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("h4",{className:"font-semibold text-lg",children:B.emailAddress}),r.jsx(Z,{variant:"outline",children:V.find(ne=>ne.value===B.purpose)?.label}),B.twoFactorEnabled&&r.jsxs(Z,{className:"bg-green-100 text-green-800",children:[r.jsx(ue,{className:"h-3 w-3 mr-1"}),"2FA"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ta,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Fournisseur :"})," ",B.provider]})]}),B.recoveryEmail&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx($s,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"R√©cup√©ration :"})," ",B.recoveryEmail]})]}),B.recoveryPhone&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(By,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"T√©l√©phone :"})," ",B.recoveryPhone]})]})]}),B.notes&&r.jsx("div",{className:"mt-2 p-2 bg-muted rounded-md",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:B.notes})})]}),r.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[r.jsx(_,{variant:"outline",size:"sm",onClick:()=>J(I),children:r.jsx(gr,{className:"h-4 w-4"})}),r.jsx(_,{variant:"outline",size:"sm",onClick:()=>Ge(I),className:"text-red-600 hover:text-red-700",children:r.jsx(Lt,{className:"h-4 w-4"})})]})]})})},B.id))})})]}),r.jsxs(ee,{value:"social",className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"R√©seaux sociaux"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"G√©rez vos comptes de r√©seaux sociaux"})]}),r.jsxs(_,{onClick:()=>o(!0),className:"flex items-center space-x-2",children:[r.jsx($t,{className:"h-4 w-4"}),r.jsx("span",{children:"Ajouter un r√©seau"})]})]}),l&&r.jsxs(C,{children:[r.jsxs(M,{children:[r.jsx(R,{children:x!==null?"Modifier le r√©seau":"Ajouter un r√©seau social"}),r.jsx(te,{children:"Renseignez les informations sur votre compte de r√©seau social"})]}),r.jsxs(E,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"platform-name",children:"Nom de la plateforme *"}),r.jsxs(ye,{value:k.platformName,onValueChange:B=>F({...k,platformName:B}),children:[r.jsx(be,{children:r.jsx(je,{placeholder:"S√©lectionner une plateforme"})}),r.jsx(Ne,{children:P.map(B=>r.jsx(ae,{value:B.value,children:B.label},B.value))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"social-username",children:"Nom d'utilisateur *"}),r.jsx(T,{id:"social-username",value:k.username,onChange:B=>F({...k,username:B.target.value}),placeholder:"Nom d'utilisateur"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"social-email",children:"Email associ√©"}),r.jsx(T,{id:"social-email",type:"email",value:k.email,onChange:B=>F({...k,email:B.target.value}),placeholder:"email@exemple.com"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"social-purpose",children:"Usage"}),r.jsxs(ye,{value:k.purpose,onValueChange:B=>F({...k,purpose:B}),children:[r.jsx(be,{children:r.jsx(je,{})}),r.jsx(Ne,{children:V.map(B=>r.jsx(ae,{value:B.value,children:B.label},B.value))})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"social-notes",children:"Notes"}),r.jsx(De,{id:"social-notes",value:k.notes,onChange:B=>F({...k,notes:B.target.value}),placeholder:"Informations suppl√©mentaires",rows:2})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ft,{id:"social-public",checked:k.isPublic,onCheckedChange:B=>F({...k,isPublic:B})}),r.jsx(A,{htmlFor:"social-public",children:"Compte public"})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(_,{variant:"outline",onClick:()=>{o(!1),p(null),F({platformName:"",username:"",email:"",purpose:"personal",isPublic:!1,notes:""})},children:"Annuler"}),r.jsx(_,{onClick:X,disabled:!k.platformName||!k.username,children:"Ajouter"})]})]})]}),r.jsx("div",{className:"space-y-4",children:e.socialNetworks.length===0?r.jsx(C,{children:r.jsxs(E,{className:"p-8 text-center",children:[r.jsx(Ht,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:"Aucun r√©seau social enregistr√©"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"Commencez par ajouter vos comptes de r√©seaux sociaux"}),r.jsx(_,{onClick:()=>o(!0),children:"Ajouter votre premier r√©seau"})]})}):r.jsx("div",{className:"grid gap-4",children:e.socialNetworks.map((B,I)=>r.jsx(C,{className:"hover:shadow-md transition-shadow",children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("h4",{className:"font-semibold text-lg",children:B.platformName}),r.jsx(Z,{variant:"outline",children:V.find(ne=>ne.value===B.purpose)?.label}),B.isPublic?r.jsx(Z,{className:"bg-blue-100 text-blue-800",children:"Public"}):r.jsx(Z,{className:"bg-gray-100 text-gray-800",children:"Priv√©"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ht,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Utilisateur :"})," ",B.username]})]}),B.email&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx($s,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Email :"})," ",B.email]})]})]}),B.notes&&r.jsx("div",{className:"mt-2 p-2 bg-muted rounded-md",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:B.notes})})]}),r.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[r.jsx(_,{variant:"outline",size:"sm",onClick:()=>J(I),children:r.jsx(gr,{className:"h-4 w-4"})}),r.jsx(_,{variant:"outline",size:"sm",onClick:()=>Ge(I),className:"text-red-600 hover:text-red-700",children:r.jsx(Lt,{className:"h-4 w-4"})})]})]})})},B.id))})})]}),r.jsx(ee,{value:"accounts",className:"space-y-4",children:r.jsx(C,{children:r.jsxs(E,{className:"p-8 text-center",children:[r.jsx(ta,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:"Gestion des comptes en ligne"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"Cette fonctionnalit√© sera bient√¥t disponible"})]})})}),r.jsx(ee,{value:"banking",className:"space-y-4",children:r.jsx(C,{children:r.jsxs(E,{className:"p-8 text-center",children:[r.jsx(ue,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:"Services bancaires en ligne"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"Cette fonctionnalit√© sera bient√¥t disponible"})]})})})]})]})},gI=({data:e,onUpdate:t})=>{const[n,s]=v.useState(!1),[a,i]=v.useState(null),[l,o]=v.useState({type:"life",provider:"",policyNumber:"",startDate:null,endDate:null,premiumAmount:"",premiumFrequency:"monthly",coverageAmount:"",beneficiaries:"",agentName:"",agentPhone:"",agentEmail:"",notes:"",isActive:!0,autoRenewal:!0}),c=[{value:"life",label:"Vie",icon:Sn},{value:"health",label:"Sant√©",icon:Sn},{value:"auto",label:"Automobile",icon:qy},{value:"home",label:"Habitation",icon:Mt},{value:"disability",label:"Invalidit√©",icon:Ht},{value:"travel",label:"Voyage",icon:Mt},{value:"business",label:"Entreprise",icon:Mt},{value:"other",label:"Autre",icon:ue}],u=[{value:"monthly",label:"Mensuel"},{value:"quarterly",label:"Trimestriel"},{value:"semi-annual",label:"Semestriel"},{value:"annual",label:"Annuel"}],d=()=>{if(!l.type||!l.provider||!l.policyNumber)return;const N={id:Date.now().toString(),type:l.type,provider:l.provider,policyNumber:l.policyNumber,startDate:l.startDate,endDate:l.endDate,premiumAmount:l.premiumAmount||"",premiumFrequency:l.premiumFrequency||"monthly",coverageAmount:l.coverageAmount||"",beneficiaries:l.beneficiaries||"",agentName:l.agentName||"",agentPhone:l.agentPhone||"",agentEmail:l.agentEmail||"",notes:l.notes||"",isActive:l.isActive||!0,autoRenewal:l.autoRenewal||!0,createdAt:new Date,updatedAt:new Date};t([...e,N]),o({type:"life",provider:"",policyNumber:"",startDate:null,endDate:null,premiumAmount:"",premiumFrequency:"monthly",coverageAmount:"",beneficiaries:"",agentName:"",agentPhone:"",agentEmail:"",notes:"",isActive:!0,autoRenewal:!0}),s(!1)},m=N=>{const w=e[N];o({type:w.type,provider:w.provider,policyNumber:w.policyNumber,startDate:w.startDate,endDate:w.endDate,premiumAmount:w.premiumAmount,premiumFrequency:w.premiumFrequency,coverageAmount:w.coverageAmount,beneficiaries:w.beneficiaries,agentName:w.agentName,agentPhone:w.agentPhone,agentEmail:w.agentEmail,notes:w.notes,isActive:w.isActive,autoRenewal:w.autoRenewal}),i(N),s(!0)},h=()=>{if(a===null||!l.type||!l.provider||!l.policyNumber)return;const N=[...e];N[a]={...N[a],...l,updatedAt:new Date},t(N),i(null),s(!1),o({type:"life",provider:"",policyNumber:"",startDate:null,endDate:null,premiumAmount:"",premiumFrequency:"monthly",coverageAmount:"",beneficiaries:"",agentName:"",agentPhone:"",agentEmail:"",notes:"",isActive:!0,autoRenewal:!0})},f=N=>{const w=e.filter((S,O)=>O!==N);t(w)},x=N=>{const w={life:"bg-red-100 text-red-800",health:"bg-green-100 text-green-800",auto:"bg-blue-100 text-blue-800",home:"bg-orange-100 text-orange-800",disability:"bg-purple-100 text-purple-800",travel:"bg-yellow-100 text-yellow-800",business:"bg-indigo-100 text-indigo-800",other:"bg-gray-100 text-gray-800"};return w[N]||w.other},p=N=>{const w=c.find(S=>S.value===N);return w?w.icon:ue},y=(()=>{const N=new Date,w=new Date(N.getTime()+720*60*60*1e3);return e.filter(S=>S.endDate&&new Date(S.endDate)<=w&&new Date(S.endDate)>=N)})(),b=e.reduce((N,w)=>{const S=parseFloat(w.premiumAmount.replace(/[^0-9.,]/g,"").replace(",","."))||0;let O=1;switch(w.premiumFrequency){case"monthly":O=12;break;case"quarterly":O=4;break;case"semi-annual":O=2;break;case"annual":O=1;break}return N+S*O},0),j=e.reduce((N,w)=>{const S=parseFloat(w.coverageAmount.replace(/[^0-9.,]/g,"").replace(",","."))||0;return N+S},0);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(C,{children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ue,{className:"h-5 w-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Total des polices"}),r.jsx("p",{className:"text-2xl font-bold",children:e.length})]})]})})}),r.jsx(C,{children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(it,{className:"h-5 w-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Prime annuelle"}),r.jsxs("p",{className:"text-2xl font-bold",children:[b.toLocaleString("fr-CA")," $"]})]})]})})}),r.jsx(C,{children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ue,{className:"h-5 w-5 text-purple-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Couverture totale"}),r.jsxs("p",{className:"text-2xl font-bold",children:[j.toLocaleString("fr-CA")," $"]})]})]})})}),r.jsx(C,{children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ln,{className:"h-5 w-5 text-orange-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Expirent bient√¥t"}),r.jsx("p",{className:"text-2xl font-bold",children:y.length})]})]})})})]}),y.length>0&&r.jsxs(Se,{className:"border-orange-200 bg-orange-50",children:[r.jsx(wt,{className:"h-4 w-4 text-orange-600"}),r.jsxs(Ae,{children:[r.jsx("strong",{children:y.length})," police(s) d'assurance expire(nt) dans les 30 prochains jours. V√©rifiez vos renouvellements."]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Assurances"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"G√©rez vos polices d'assurance et leurs informations"})]}),r.jsxs(_,{onClick:()=>s(!0),className:"flex items-center space-x-2",children:[r.jsx($t,{className:"h-4 w-4"}),r.jsx("span",{children:"Ajouter une assurance"})]})]}),n&&r.jsxs(C,{children:[r.jsxs(M,{children:[r.jsx(R,{children:a!==null?"Modifier l'assurance":"Ajouter une assurance"}),r.jsx(te,{children:"Renseignez les informations sur votre police d'assurance"})]}),r.jsxs(E,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"insurance-type",children:"Type d'assurance *"}),r.jsxs(ye,{value:l.type,onValueChange:N=>o({...l,type:N}),children:[r.jsx(be,{children:r.jsx(je,{placeholder:"S√©lectionner un type"})}),r.jsx(Ne,{children:c.map(N=>r.jsx(ae,{value:N.value,children:N.label},N.value))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"insurance-provider",children:"Compagnie d'assurance *"}),r.jsx(T,{id:"insurance-provider",value:l.provider,onChange:N=>o({...l,provider:N.target.value}),placeholder:"Ex : Desjardins, Intact, SSQ"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"policy-number",children:"Num√©ro de police *"}),r.jsx(T,{id:"policy-number",value:l.policyNumber,onChange:N=>o({...l,policyNumber:N.target.value}),placeholder:"Num√©ro de police"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"coverage-amount",children:"Montant de couverture"}),r.jsx(T,{id:"coverage-amount",value:l.coverageAmount,onChange:N=>o({...l,coverageAmount:N.target.value}),placeholder:"500 000,00 $"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"start-date",children:"Date de d√©but"}),r.jsxs(aa,{children:[r.jsx(ia,{asChild:!0,children:r.jsxs(_,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[r.jsx(nt,{className:"mr-2 h-4 w-4"}),l.startDate?_r(l.startDate,"PPP",{locale:Fr}):"S√©lectionner une date"]})}),r.jsx(la,{className:"w-auto p-0",children:r.jsx(oa,{mode:"single",selected:l.startDate,onSelect:N=>o({...l,startDate:N}),initialFocus:!0})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"end-date",children:"Date de fin"}),r.jsxs(aa,{children:[r.jsx(ia,{asChild:!0,children:r.jsxs(_,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[r.jsx(nt,{className:"mr-2 h-4 w-4"}),l.endDate?_r(l.endDate,"PPP",{locale:Fr}):"S√©lectionner une date"]})}),r.jsx(la,{className:"w-auto p-0",children:r.jsx(oa,{mode:"single",selected:l.endDate,onSelect:N=>o({...l,endDate:N}),initialFocus:!0})})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"premium-amount",children:"Montant de la prime"}),r.jsx(T,{id:"premium-amount",value:l.premiumAmount,onChange:N=>o({...l,premiumAmount:N.target.value}),placeholder:"150,00 $"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"premium-frequency",children:"Fr√©quence de paiement"}),r.jsxs(ye,{value:l.premiumFrequency,onValueChange:N=>o({...l,premiumFrequency:N}),children:[r.jsx(be,{children:r.jsx(je,{})}),r.jsx(Ne,{children:u.map(N=>r.jsx(ae,{value:N.value,children:N.label},N.value))})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"beneficiaries",children:"B√©n√©ficiaires"}),r.jsx(T,{id:"beneficiaries",value:l.beneficiaries,onChange:N=>o({...l,beneficiaries:N.target.value}),placeholder:"Nom des b√©n√©ficiaires"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"agent-name",children:"Nom de l'agent"}),r.jsx(T,{id:"agent-name",value:l.agentName,onChange:N=>o({...l,agentName:N.target.value}),placeholder:"Nom de l'agent"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"agent-phone",children:"T√©l√©phone de l'agent"}),r.jsx(T,{id:"agent-phone",value:l.agentPhone,onChange:N=>o({...l,agentPhone:N.target.value}),placeholder:"(514) 555-0123"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"agent-email",children:"Email de l'agent"}),r.jsx(T,{id:"agent-email",type:"email",value:l.agentEmail,onChange:N=>o({...l,agentEmail:N.target.value}),placeholder:"agent@assurance.com"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"insurance-notes",children:"Notes"}),r.jsx(De,{id:"insurance-notes",value:l.notes,onChange:N=>o({...l,notes:N.target.value}),placeholder:"Informations suppl√©mentaires, conditions sp√©ciales...",rows:3})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ft,{id:"is-active",checked:l.isActive,onCheckedChange:N=>o({...l,isActive:N})}),r.jsx(A,{htmlFor:"is-active",children:"Police active"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ft,{id:"auto-renewal",checked:l.autoRenewal,onCheckedChange:N=>o({...l,autoRenewal:N})}),r.jsx(A,{htmlFor:"auto-renewal",children:"Renouvellement automatique"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(_,{variant:"outline",onClick:()=>{s(!1),i(null),o({type:"life",provider:"",policyNumber:"",startDate:null,endDate:null,premiumAmount:"",premiumFrequency:"monthly",coverageAmount:"",beneficiaries:"",agentName:"",agentPhone:"",agentEmail:"",notes:"",isActive:!0,autoRenewal:!0})},children:"Annuler"}),r.jsx(_,{onClick:a!==null?h:d,disabled:!l.type||!l.provider||!l.policyNumber,children:a!==null?"Mettre √† jour":"Ajouter"})]})]})]}),r.jsx("div",{className:"space-y-4",children:e.length===0?r.jsx(C,{children:r.jsxs(E,{className:"p-8 text-center",children:[r.jsx(ue,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:"Aucune assurance enregistr√©e"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"Commencez par ajouter vos polices d'assurance"}),r.jsx(_,{onClick:()=>s(!0),children:"Ajouter votre premi√®re assurance"})]})}):r.jsx("div",{className:"grid gap-4",children:e.map((N,w)=>{const S=p(N.type);return r.jsx(C,{className:"hover:shadow-md transition-shadow",children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(S,{className:"h-5 w-5 text-muted-foreground"}),r.jsx("h4",{className:"font-semibold text-lg",children:N.provider}),r.jsx(Z,{className:x(N.type),children:c.find(O=>O.value===N.type)?.label}),!N.isActive&&r.jsx(Z,{variant:"secondary",children:"Inactive"}),N.autoRenewal&&r.jsx(Z,{variant:"outline",className:"text-green-600",children:"Renouvellement auto"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ht,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Police :"})," ",N.policyNumber]})]}),N.coverageAmount&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ue,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Couverture :"})," ",N.coverageAmount]})]}),N.premiumAmount&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(it,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Prime :"})," ",N.premiumAmount,"(",u.find(O=>O.value===N.premiumFrequency)?.label,")"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[N.startDate&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(nt,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"D√©but :"})," ",_r(new Date(N.startDate),"PPP",{locale:Fr})]})]}),N.endDate&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ln,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Fin :"})," ",_r(new Date(N.endDate),"PPP",{locale:Fr})]})]}),N.beneficiaries&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ht,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"B√©n√©ficiaires :"})," ",N.beneficiaries]})]})]}),(N.agentName||N.agentPhone||N.agentEmail)&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[N.agentName&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ht,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Agent :"})," ",N.agentName]})]}),N.agentPhone&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(nt,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"T√©l√©phone :"})," ",N.agentPhone]})]}),N.agentEmail&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ht,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Email :"})," ",N.agentEmail]})]})]}),N.notes&&r.jsx("div",{className:"mt-2 p-2 bg-muted rounded-md",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:N.notes})})]}),r.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[r.jsx(_,{variant:"outline",size:"sm",onClick:()=>m(w),children:r.jsx(gr,{className:"h-4 w-4"})}),r.jsx(_,{variant:"outline",size:"sm",onClick:()=>f(w),className:"text-red-600 hover:text-red-700",children:r.jsx(Lt,{className:"h-4 w-4"})})]})]})})},N.id)})})})]})},jy=({data:e,onUpdate:t})=>{const{language:n}=Ct(),s=n==="en",[a,i]=v.useState("will"),[l,o]=v.useState(!1),[c,u]=v.useState(!1),[d,m]=v.useState(!1),[h,f]=v.useState(!1),[x,p]=v.useState(null),[g,y]=v.useState(null),[b,j]=v.useState({name:"",address:"",city:"",province:"",postalCode:"",phone:"",email:"",contactPerson:"",notes:""}),[N,w]=v.useState({name:"",address:"",city:"",province:"",postalCode:"",phone:"",plotNumber:"",section:"",notes:""}),S=s?["Alberta","British Columbia","Manitoba","New Brunswick","Newfoundland and Labrador","Nova Scotia","Ontario","Prince Edward Island","Quebec","Saskatchewan","Northwest Territories","Nunavut","Yukon"]:["Alberta","Colombie-Britannique","Manitoba","Nouveau-Brunswick","Terre-Neuve-et-Labrador","Nouvelle-√âcosse","Ontario","√éle-du-Prince-√âdouard","Qu√©bec","Saskatchewan","Territoires du Nord-Ouest","Nunavut","Yukon"],O=[{value:"traditional",label:s?"Traditional":"Traditionnel"},{value:"cremation",label:s?"Cremation":"Cr√©mation"},{value:"green",label:s?"Green":"√âcologique"},{value:"memorial",label:s?"Memorial Service":"Service comm√©moratif"},{value:"other",label:s?"Other":"Autre"}],k=[{value:"ground",label:s?"Ground Burial":"En terre"},{value:"mausoleum",label:s?"Mausoleum":"Mausol√©e"},{value:"columbarium",label:"Columbarium"},{value:"scattering",label:s?"Ash Scattering":"Dispersion des cendres"},{value:"other",label:s?"Other":"Autre"}],F=()=>{if(!b.name||!b.city)return;const P={id:Date.now().toString(),name:b.name,address:b.address||"",city:b.city,province:b.province||"",postalCode:b.postalCode||"",phone:b.phone||"",email:b.email||"",contactPerson:b.contactPerson||"",notes:b.notes||"",createdAt:new Date,updatedAt:new Date},L=[...e.funeralPreferences.funeralHomes,P],X={...e.funeralPreferences,funeralHomes:L};t({...e,funeralPreferences:X}),j({name:"",address:"",city:"",province:"",postalCode:"",phone:"",email:"",contactPerson:"",notes:""}),m(!1)},H=()=>{if(!N.name||!N.city)return;const P={id:Date.now().toString(),name:N.name,address:N.address||"",city:N.city,province:N.province||"",postalCode:N.postalCode||"",phone:N.phone||"",plotNumber:N.plotNumber||"",section:N.section||"",notes:N.notes||"",createdAt:new Date,updatedAt:new Date},L=[...e.funeralPreferences.cemeteries,P],X={...e.funeralPreferences,cemeteries:L};t({...e,funeralPreferences:X}),w({name:"",address:"",city:"",province:"",postalCode:"",phone:"",plotNumber:"",section:"",notes:""}),f(!1)},z=P=>{const L=e.funeralPreferences.funeralHomes.filter((J,ie)=>ie!==P),X={...e.funeralPreferences,funeralHomes:L};t({...e,funeralPreferences:X})},q=P=>{const L=e.funeralPreferences.cemeteries.filter((J,ie)=>ie!==P),X={...e.funeralPreferences,cemeteries:L};t({...e,funeralPreferences:X})},G=(P,L)=>{const X={...e.willAndSuccession,[P]:L,updatedAt:new Date};t({...e,willAndSuccession:X})},V=(P,L)=>{const X={...e.funeralPreferences,[P]:L,updatedAt:new Date};t({...e,funeralPreferences:X})};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(C,{children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ht,{className:"h-5 w-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:s?"Will":"Testament"}),r.jsx("p",{className:"text-2xl font-bold",children:e.willAndSuccession.hasWill?s?"Present":"Pr√©sent":"Absent"})]})]})})}),r.jsx(C,{children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Mt,{className:"h-5 w-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:s?"Funeral Homes":"Salons fun√©raires"}),r.jsx("p",{className:"text-2xl font-bold",children:e.funeralPreferences.funeralHomes.length})]})]})})}),r.jsx(C,{children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Zt,{className:"h-5 w-5 text-purple-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:s?"Cemeteries":"Cimeti√®res"}),r.jsx("p",{className:"text-2xl font-bold",children:e.funeralPreferences.cemeteries.length})]})]})})})]}),!e.willAndSuccession.hasWill&&r.jsxs(Se,{className:"border-orange-200 bg-orange-50",children:[r.jsx(wt,{className:"h-4 w-4 text-orange-600"}),r.jsxs(Ae,{children:[r.jsx("strong",{children:s?"Important Recommendation:":"Recommandation importante :"})," ",s?"You do not have a will yet. Consider writing one to protect your loved ones and assets.":"Vous n'avez pas encore de testament. Consid√©rez en r√©diger un pour prot√©ger vos proches et vos biens."]})]}),!e.funeralPreferences.hasFuneralPreferences&&r.jsxs(Se,{className:"border-blue-200 bg-blue-50",children:[r.jsx(Le,{className:"h-4 w-4 text-blue-600"}),r.jsxs(Ae,{children:[r.jsx("strong",{children:s?"Information:":"Information :"})," ",s?"You have not yet expressed your funeral preferences. This can help your loved ones make difficult decisions.":"Vous n'avez pas encore exprim√© vos pr√©f√©rences fun√©raires. Cela peut aider vos proches √† prendre des d√©cisions difficiles."]})]}),r.jsxs(Jt,{value:a,onValueChange:i,className:"w-full",children:[r.jsxs(Xt,{className:"grid w-full grid-cols-2",children:[r.jsx(re,{value:"will",children:s?"Will & Estate":"Testament et succession"}),r.jsx(re,{value:"funeral",children:s?"Funeral Preferences":"Pr√©f√©rences fun√©raires"})]}),r.jsxs(ee,{value:"will",className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:s?"Will & Estate":"Testament et succession"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:s?"Manage your estate and will information":"G√©rez vos informations de succession et testament"})]}),r.jsxs(_,{onClick:()=>o(!0),className:"flex items-center space-x-2",children:[r.jsx(gr,{className:"h-4 w-4"}),r.jsx("span",{children:s?"Edit":"Modifier"})]})]}),l&&r.jsxs(C,{children:[r.jsxs(M,{children:[r.jsx(R,{children:s?"Edit Estate Information":"Modifier les informations de succession"}),r.jsx(te,{children:s?"Update your will and estate information":"Mettez √† jour vos informations de testament et succession"})]}),r.jsxs(E,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ft,{id:"has-will",checked:e.willAndSuccession.hasWill,onCheckedChange:P=>G("hasWill",P)}),r.jsx(A,{htmlFor:"has-will",children:s?"I have a will":"J'ai un testament"})]}),e.willAndSuccession.hasWill&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"will-date",children:s?"Will Date":"Date du testament"}),r.jsxs(aa,{children:[r.jsx(ia,{asChild:!0,children:r.jsxs(_,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[r.jsx(nt,{className:"mr-2 h-4 w-4"}),e.willAndSuccession.willDate?_r(new Date(e.willAndSuccession.willDate),"PPP",{locale:s?Vy:Fr}):s?"Select a date":"S√©lectionner une date"]})}),r.jsx(la,{className:"w-auto p-0",children:r.jsx(oa,{mode:"single",selected:e.willAndSuccession.willDate?new Date(e.willAndSuccession.willDate):void 0,onSelect:P=>G("willDate",P),initialFocus:!0})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"will-location",children:s?"Will Location":"Emplacement du testament"}),r.jsx(T,{id:"will-location",value:e.willAndSuccession.willLocation||"",onChange:P=>G("willLocation",P.target.value),placeholder:s?"Ex: Safe, Law Office":"Ex : Coffre-fort, Cabinet d'avocat"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"executor-name",children:s?"Executor Name":"Nom de l'ex√©cuteur testamentaire"}),r.jsx(T,{id:"executor-name",value:e.willAndSuccession.executorName||"",onChange:P=>G("executorName",P.target.value),placeholder:s?"Full name of executor":"Nom complet de l'ex√©cuteur"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"executor-phone",children:s?"Executor Phone":"T√©l√©phone de l'ex√©cuteur"}),r.jsx(T,{id:"executor-phone",value:e.willAndSuccession.executorPhone||"",onChange:P=>G("executorPhone",P.target.value),placeholder:"(514) 555-0123"})]})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"executor-email",children:s?"Executor Email":"Email de l'ex√©cuteur"}),r.jsx(T,{id:"executor-email",type:"email",value:e.willAndSuccession.executorEmail||"",onChange:P=>G("executorEmail",P.target.value),placeholder:s?"executor@email.com":"executeur@email.com"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"succession-notes",children:s?"Estate Notes":"Notes sur la succession"}),r.jsx(De,{id:"succession-notes",value:e.willAndSuccession.notes||"",onChange:P=>G("notes",P.target.value),placeholder:s?"Important information about your estate, special instructions...":"Informations importantes sur votre succession, instructions sp√©ciales...",rows:3})]})]}),r.jsx("div",{className:"flex justify-end space-x-2",children:r.jsx(_,{variant:"outline",onClick:()=>o(!1),children:"Fermer"})})]})]}),r.jsx(C,{children:r.jsx(E,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ht,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"text-lg font-semibold",children:"√âtat du testament"}),r.jsx(Z,{className:e.willAndSuccession.hasWill?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:e.willAndSuccession.hasWill?"Pr√©sent":"Absent"})]}),e.willAndSuccession.hasWill?r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.willAndSuccession.willDate&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(nt,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Date :"})," ",_r(new Date(e.willAndSuccession.willDate),"PPP",{locale:Fr})]})]}),e.willAndSuccession.willLocation&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Zt,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Emplacement :"})," ",e.willAndSuccession.willLocation]})]}),e.willAndSuccession.executorName&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ht,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Ex√©cuteur :"})," ",e.willAndSuccession.executorName]})]}),e.willAndSuccession.executorPhone&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(nt,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"T√©l√©phone :"})," ",e.willAndSuccession.executorPhone]})]})]}):r.jsx("p",{className:"text-muted-foreground",children:"Aucun testament n'est actuellement enregistr√©. Consid√©rez en r√©diger un pour prot√©ger vos proches."}),e.willAndSuccession.notes&&r.jsx("div",{className:"mt-4 p-3 bg-muted rounded-md",children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.jsx("strong",{children:"Notes :"})," ",e.willAndSuccession.notes]})})]})})})]}),r.jsxs(ee,{value:"funeral",className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Pr√©f√©rences fun√©raires"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Exprimez vos souhaits pour vos fun√©railles"})]}),r.jsxs(_,{onClick:()=>u(!0),className:"flex items-center space-x-2",children:[r.jsx(gr,{className:"h-4 w-4"}),r.jsx("span",{children:"Modifier"})]})]}),c&&r.jsxs(C,{children:[r.jsxs(M,{children:[r.jsx(R,{children:"Modifier les pr√©f√©rences fun√©raires"}),r.jsx(te,{children:"Exprimez vos souhaits pour vos fun√©railles"})]}),r.jsxs(E,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ft,{id:"has-funeral-preferences",checked:e.funeralPreferences.hasFuneralPreferences,onCheckedChange:P=>V("hasFuneralPreferences",P)}),r.jsx(A,{htmlFor:"has-funeral-preferences",children:"J'ai des pr√©f√©rences fun√©raires"})]}),e.funeralPreferences.hasFuneralPreferences&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"funeral-type",children:"Type de fun√©railles"}),r.jsxs(ye,{value:e.funeralPreferences.funeralType||"",onValueChange:P=>V("funeralType",P),children:[r.jsx(be,{children:r.jsx(je,{placeholder:"S√©lectionner un type"})}),r.jsx(Ne,{children:O.map(P=>r.jsx(ae,{value:P.value,children:P.label},P.value))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"burial-type",children:"Type d'inhumation"}),r.jsxs(ye,{value:e.funeralPreferences.burialType||"",onValueChange:P=>V("burialType",P),children:[r.jsx(be,{children:r.jsx(je,{placeholder:"S√©lectionner un type"})}),r.jsx(Ne,{children:k.map(P=>r.jsx(ae,{value:P.value,children:P.label},P.value))})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"funeral-notes",children:"Notes et pr√©f√©rences"}),r.jsx(De,{id:"funeral-notes",value:e.funeralPreferences.notes||"",onChange:P=>V("notes",P.target.value),placeholder:"Vos souhaits sp√©cifiques, musique, lectures, fleurs...",rows:3})]})]}),r.jsx("div",{className:"flex justify-end space-x-2",children:r.jsx(_,{variant:"outline",onClick:()=>u(!1),children:"Fermer"})})]})]}),r.jsx(C,{children:r.jsx(E,{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Sn,{className:"h-5 w-5 text-red-600"}),r.jsx("h4",{className:"text-lg font-semibold",children:"Pr√©f√©rences fun√©raires"}),r.jsx(Z,{className:e.funeralPreferences.hasFuneralPreferences?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:e.funeralPreferences.hasFuneralPreferences?"D√©finies":"Non d√©finies"})]}),e.funeralPreferences.hasFuneralPreferences?r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.funeralPreferences.funeralType&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Sn,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Type :"})," ",O.find(P=>P.value===e.funeralPreferences.funeralType)?.label]})]}),e.funeralPreferences.burialType&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Zt,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Inhumation :"})," ",k.find(P=>P.value===e.funeralPreferences.burialType)?.label]})]})]}):r.jsx("p",{className:"text-muted-foreground",children:"Aucune pr√©f√©rence fun√©raire n'est actuellement d√©finie. Exprimez vos souhaits pour aider vos proches."}),e.funeralPreferences.notes&&r.jsx("div",{className:"mt-4 p-3 bg-muted rounded-md",children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.jsx("strong",{children:"Notes :"})," ",e.funeralPreferences.notes]})})]})})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Salons fun√©raires"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"G√©rez vos contacts de salons fun√©raires"})]}),r.jsxs(_,{onClick:()=>m(!0),className:"flex items-center space-x-2",children:[r.jsx($t,{className:"h-4 w-4"}),r.jsx("span",{children:"Ajouter un salon"})]})]}),d&&r.jsxs(C,{children:[r.jsxs(M,{children:[r.jsx(R,{children:"Ajouter un salon fun√©raire"}),r.jsx(te,{children:"Renseignez les informations sur le salon fun√©raire"})]}),r.jsxs(E,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"funeral-home-name",children:"Nom du salon *"}),r.jsx(T,{id:"funeral-home-name",value:b.name,onChange:P=>j({...b,name:P.target.value}),placeholder:"Nom du salon fun√©raire"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"funeral-home-city",children:"Ville *"}),r.jsx(T,{id:"funeral-home-city",value:b.city,onChange:P=>j({...b,city:P.target.value}),placeholder:"Ville"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"funeral-home-address",children:"Adresse"}),r.jsx(T,{id:"funeral-home-address",value:b.address,onChange:P=>j({...b,address:P.target.value}),placeholder:"Adresse compl√®te"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"funeral-home-province",children:"Province"}),r.jsxs(ye,{value:b.province,onValueChange:P=>j({...b,province:P}),children:[r.jsx(be,{children:r.jsx(je,{placeholder:"S√©lectionner"})}),r.jsx(Ne,{children:S.map(P=>r.jsx(ae,{value:P,children:P},P))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"funeral-home-postal",children:"Code postal"}),r.jsx(T,{id:"funeral-home-postal",value:b.postalCode,onChange:P=>j({...b,postalCode:P.target.value}),placeholder:"Code postal"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"funeral-home-phone",children:"T√©l√©phone"}),r.jsx(T,{id:"funeral-home-phone",value:b.phone,onChange:P=>j({...b,phone:P.target.value}),placeholder:"(514) 555-0123"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"funeral-home-email",children:"Email"}),r.jsx(T,{id:"funeral-home-email",type:"email",value:b.email,onChange:P=>j({...b,email:P.target.value}),placeholder:"contact@salon.com"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"funeral-home-contact",children:"Personne contact"}),r.jsx(T,{id:"funeral-home-contact",value:b.contactPerson,onChange:P=>j({...b,contactPerson:P.target.value}),placeholder:"Nom du contact"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"funeral-home-notes",children:"Notes"}),r.jsx(De,{id:"funeral-home-notes",value:b.notes,onChange:P=>j({...b,notes:P.target.value}),placeholder:"Informations suppl√©mentaires",rows:2})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(_,{variant:"outline",onClick:()=>{m(!1),j({name:"",address:"",city:"",province:"",postalCode:"",phone:"",email:"",contactPerson:"",notes:""})},children:"Annuler"}),r.jsx(_,{onClick:F,disabled:!b.name||!b.city,children:"Ajouter"})]})]})]}),r.jsx("div",{className:"space-y-4",children:e.funeralPreferences.funeralHomes.length===0?r.jsx(C,{children:r.jsxs(E,{className:"p-8 text-center",children:[r.jsx(Mt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:"Aucun salon fun√©raire enregistr√©"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"Commencez par ajouter vos contacts de salons fun√©raires"}),r.jsx(_,{onClick:()=>m(!0),children:"Ajouter votre premier salon"})]})}):r.jsx("div",{className:"grid gap-4",children:e.funeralPreferences.funeralHomes.map((P,L)=>r.jsx(C,{className:"hover:shadow-md transition-shadow",children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("h4",{className:"font-semibold text-lg",children:P.name}),r.jsx(Z,{variant:"outline",children:P.city})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[P.address&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Zt,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{children:P.address})]}),P.phone&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(nt,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{children:P.phone})]}),P.contactPerson&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ht,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Contact :"})," ",P.contactPerson]})]}),P.email&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ht,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{children:P.email})]})]}),P.notes&&r.jsx("div",{className:"mt-2 p-2 bg-muted rounded-md",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:P.notes})})]}),r.jsx("div",{className:"flex items-center space-x-2 ml-4",children:r.jsx(_,{variant:"outline",size:"sm",onClick:()=>z(L),className:"text-red-600 hover:text-red-700",children:r.jsx(Lt,{className:"h-4 w-4"})})})]})})},P.id))})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Cimeti√®res"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"G√©rez vos informations de cimeti√®res"})]}),r.jsxs(_,{onClick:()=>f(!0),className:"flex items-center space-x-2",children:[r.jsx($t,{className:"h-4 w-4"}),r.jsx("span",{children:"Ajouter un cimeti√®re"})]})]}),h&&r.jsxs(C,{children:[r.jsxs(M,{children:[r.jsx(R,{children:"Ajouter un cimeti√®re"}),r.jsx(te,{children:"Renseignez les informations sur le cimeti√®re"})]}),r.jsxs(E,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"cemetery-name",children:"Nom du cimeti√®re *"}),r.jsx(T,{id:"cemetery-name",value:N.name,onChange:P=>w({...N,name:P.target.value}),placeholder:"Nom du cimeti√®re"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"cemetery-city",children:"Ville *"}),r.jsx(T,{id:"cemetery-city",value:N.city,onChange:P=>w({...N,city:P.target.value}),placeholder:"Ville"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"cemetery-address",children:"Adresse"}),r.jsx(T,{id:"cemetery-address",value:N.address,onChange:P=>w({...N,address:P.target.value}),placeholder:"Adresse compl√®te"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"cemetery-province",children:"Province"}),r.jsxs(ye,{value:N.province,onValueChange:P=>w({...N,province:P}),children:[r.jsx(be,{children:r.jsx(je,{placeholder:"S√©lectionner"})}),r.jsx(Ne,{children:S.map(P=>r.jsx(ae,{value:P,children:P},P))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"cemetery-postal",children:"Code postal"}),r.jsx(T,{id:"cemetery-postal",value:N.postalCode,onChange:P=>w({...N,postalCode:P.target.value}),placeholder:"Code postal"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"cemetery-plot",children:"Num√©ro de lot"}),r.jsx(T,{id:"cemetery-plot",value:N.plotNumber,onChange:P=>w({...N,plotNumber:P.target.value}),placeholder:"Num√©ro de lot"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"cemetery-section",children:"Section"}),r.jsx(T,{id:"cemetery-section",value:N.section,onChange:P=>w({...N,section:P.target.value}),placeholder:"Section"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"cemetery-phone",children:"T√©l√©phone"}),r.jsx(T,{id:"cemetery-phone",value:N.phone,onChange:P=>w({...N,phone:P.target.value}),placeholder:"(514) 555-0123"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"cemetery-notes",children:"Notes"}),r.jsx(De,{id:"cemetery-notes",value:N.notes,onChange:P=>w({...N,notes:P.target.value}),placeholder:"Informations suppl√©mentaires",rows:2})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(_,{variant:"outline",onClick:()=>{f(!1),w({name:"",address:"",city:"",province:"",postalCode:"",phone:"",plotNumber:"",section:"",notes:""})},children:"Annuler"}),r.jsx(_,{onClick:H,disabled:!N.name||!N.city,children:"Ajouter"})]})]})]}),r.jsx("div",{className:"space-y-4",children:e.funeralPreferences.cemeteries.length===0?r.jsx(C,{children:r.jsxs(E,{className:"p-8 text-center",children:[r.jsx(Zt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:"Aucun cimeti√®re enregistr√©"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"Commencez par ajouter vos informations de cimeti√®res"}),r.jsx(_,{onClick:()=>f(!0),children:"Ajouter votre premier cimeti√®re"})]})}):r.jsx("div",{className:"grid gap-4",children:e.funeralPreferences.cemeteries.map((P,L)=>r.jsx(C,{className:"hover:shadow-md transition-shadow",children:r.jsx(E,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("h4",{className:"font-semibold text-lg",children:P.name}),r.jsx(Z,{variant:"outline",children:P.city})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[P.address&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Zt,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{children:P.address})]}),P.plotNumber&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Zt,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Lot :"})," ",P.plotNumber]})]}),P.section&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Zt,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:[r.jsx("strong",{children:"Section :"})," ",P.section]})]}),P.phone&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(nt,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{children:P.phone})]})]}),P.notes&&r.jsx("div",{className:"mt-2 p-2 bg-muted rounded-md",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:P.notes})})]}),r.jsx("div",{className:"flex items-center space-x-2 ml-4",children:r.jsx(_,{variant:"outline",size:"sm",onClick:()=>q(L),className:"text-red-600 hover:text-red-700",children:r.jsx(Lt,{className:"h-4 w-4"})})})]})})},P.id))})})]})]})]})]})},vI=()=>{const{language:e}=Ct(),{toast:t}=Ja(),[n,s]=v.useState("urgence"),[a,i]=v.useState(Mr.getData()),[l,o]=v.useState(!1),[c,u]=v.useState(null),m={fr:{title:"Informations en cas d'urgence",subtitle:"Pr√©parez vos proches pour toute situation d'urgence ou d'incapacit√©",description:"Ce module vous permet de centraliser toutes les informations importantes que vos proches pourraient avoir besoin en cas d'urgence, d'accident ou d'incapacit√©.",securityNote:"Toutes vos informations sont sauvegard√©es localement sur votre appareil. Aucune donn√©e n'est transmise √† nos serveurs.",completionProgress:"Progression de votre dossier",lastSaved:"Derni√®re sauvegarde",save:"Sauvegarder",export:"Exporter",import:"Importer",reset:"R√©initialiser",saving:"Sauvegarde...",saved:"Sauvegard√© avec succ√®s",error:"Erreur lors de la sauvegarde",tabs:{urgence:"Urgence",medical:"M√©dical",dependants:"Personnes √† charge",emploi:"Emploi",documents:"Documents",proprietes:"Propri√©t√©s",financier:"Financier",numerique:"Num√©rique",assurances:"Assurances",succession:"Succession"}},en:{title:"Emergency Information",subtitle:"Prepare your loved ones for any emergency or incapacity situation",description:"This module allows you to centralize all the important information your loved ones might need in case of emergency, accident, or incapacity.",securityNote:"All your information is saved locally on your device. No data is transmitted to our servers.",completionProgress:"File completion progress",lastSaved:"Last saved",save:"Save",export:"Export",import:"Import",reset:"Reset",saving:"Saving...",saved:"Successfully saved",error:"Error saving",tabs:{urgence:"Emergency",medical:"Medical",dependants:"Dependents",emploi:"Employment",documents:"Documents",proprietes:"Properties",financier:"Financial",numerique:"Digital",assurances:"Insurance",succession:"Succession"}}}[e],h=async()=>{o(!0);try{if(Mr.saveData(a))u(new Date),t({title:m.saved,description:"Vos informations ont √©t√© sauvegard√©es localement",variant:"default"});else throw new Error("√âchec de la sauvegarde")}catch{t({title:m.error,description:"Impossible de sauvegarder vos informations",variant:"destructive"})}finally{o(!1)}},f=()=>{try{const b=Mr.exportData(),j=new Blob([b],{type:"application/json"}),N=URL.createObjectURL(j),w=document.createElement("a");w.href=N,w.download=`informations-urgence-${new Date().toLocaleDateString("fr-CA")}.json`,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(N),t({title:"Export r√©ussi",description:"Vos informations ont √©t√© export√©es",variant:"default"})}catch{t({title:"Erreur d'export",description:"Impossible d'exporter vos informations",variant:"destructive"})}},x=b=>{const j=b.target.files?.[0];if(!j)return;const N=new FileReader;N.onload=w=>{try{const S=w.target?.result;if(Mr.importData(S))i(Mr.getData()),t({title:"Import r√©ussi",description:"Vos informations ont √©t√© import√©es",variant:"default"});else throw new Error("Format de fichier invalide")}catch{t({title:"Erreur d'import",description:"Le fichier n'est pas dans le bon format",variant:"destructive"})}},N.readAsText(j)},p=()=>{window.confirm("√ätes-vous s√ªr de vouloir r√©initialiser toutes vos informations ? Cette action est irr√©versible.")&&(Mr.resetData(),i(Mr.getData()),u(null),t({title:"R√©initialisation effectu√©e",description:"Toutes vos informations ont √©t√© supprim√©es",variant:"default"}))},g=b=>{i(j=>({...j,...b}))},y=Mr.getUsageStats();return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-indigo-900 text-white",children:[r.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[r.jsx("div",{className:"absolute top-20 left-10 w-2 h-2 bg-yellow-400 rounded-full animate-pulse"}),r.jsx("div",{className:"absolute top-40 right-20 w-3 h-3 bg-blue-400 rounded-full animate-bounce"}),r.jsx("div",{className:"absolute bottom-40 left-20 w-2 h-2 bg-green-400 rounded-full animate-ping"}),r.jsx("div",{className:"absolute top-60 left-1/2 w-1 h-1 bg-red-400 rounded-full animate-pulse"}),r.jsx("div",{className:"absolute top-96 left-1/4 w-2 h-2 bg-purple-400 rounded-full animate-bounce"}),r.jsx("div",{className:"absolute top-32 right-1/4 w-2 h-2 bg-orange-400 rounded-full animate-pulse"}),r.jsx("div",{className:"absolute top-72 left-1/3 w-1 h-1 bg-pink-400 rounded-full animate-bounce"})]}),r.jsxs("div",{className:"space-y-6 relative z-10 p-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-red-500 bg-clip-text text-transparent drop-shadow-2xl mb-4",children:m.title}),r.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto mb-4",children:m.subtitle}),r.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:m.description})]}),r.jsx(C,{className:"bg-gradient-to-br from-red-800/90 to-orange-800/90 border-0 shadow-2xl backdrop-blur-sm",children:r.jsx(M,{className:"text-center",children:r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-red-500 to-orange-500 rounded-full flex items-center justify-center shadow-2xl",children:r.jsx(wt,{className:"w-8 h-8 text-white"})})})})}),r.jsxs(Se,{className:"border-blue-400 bg-blue-900/20 text-blue-200 mb-8",children:[r.jsx(ue,{className:"h-5 w-5 text-blue-400"}),r.jsxs(Ae,{className:"text-blue-200 text-lg",children:[r.jsx("strong",{children:"S√©curit√© :"})," ",m.securityNote]})]}),r.jsxs(C,{className:"bg-gradient-to-br from-green-800/90 to-emerald-800/90 border-0 shadow-2xl backdrop-blur-sm",children:[r.jsx(M,{children:r.jsxs(R,{className:"flex items-center gap-2 text-white",children:[r.jsx(pd,{className:"w-5 h-5 text-green-400"}),m.completionProgress]})}),r.jsxs(E,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(lr,{value:y.pourcentageCompletion,className:"flex-1 bg-green-900"}),r.jsxs(Z,{variant:"secondary",className:"bg-green-400 text-green-900",children:[y.pourcentageCompletion," %"]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-bold text-blue-400",children:y.contactsCompletes}),r.jsx("div",{className:"text-green-200",children:"Contacts"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-bold text-green-400",children:y.sectionsCompletes}),r.jsx("div",{className:"text-green-200",children:"Sections"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-bold text-purple-400",children:y.totalSections}),r.jsx("div",{className:"text-green-200",children:"Total"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-bold text-orange-400",children:c?c.toLocaleDateString("fr-CA"):"Jamais"}),r.jsx("div",{className:"text-green-200",children:m.lastSaved})]})]})]})]}),r.jsx(C,{children:r.jsx(E,{className:"pt-6",children:r.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[r.jsx(_,{onClick:h,disabled:l,className:"bg-green-600 hover:bg-green-700",children:l?r.jsxs(r.Fragment,{children:[r.jsx(cs,{className:"w-4 h-4 mr-2 animate-spin"}),m.saving]}):r.jsxs(r.Fragment,{children:[r.jsx(Qn,{className:"w-4 h-4 mr-2"}),m.save]})}),r.jsxs(_,{variant:"outline",onClick:f,children:[r.jsx(Dp,{className:"w-4 h-4 mr-2"}),m.export]}),r.jsx(_,{variant:"outline",asChild:!0,children:r.jsxs("label",{htmlFor:"import-file",className:"cursor-pointer",children:[r.jsx(Co,{className:"w-4 h-4 mr-2"}),m.import]})}),r.jsx("input",{id:"import-file",type:"file",accept:".json",onChange:x,className:"hidden"}),r.jsxs(_,{variant:"outline",onClick:p,className:"text-red-600 hover:text-red-700",children:[r.jsx(cs,{className:"w-4 h-4 mr-2"}),m.reset]})]})})}),r.jsx(C,{children:r.jsx(E,{className:"pt-6",children:r.jsxs(Jt,{value:n,onValueChange:s,className:"w-full",children:[r.jsxs(Xt,{className:"grid w-full grid-cols-5 lg:grid-cols-10",children:[r.jsxs(re,{value:"urgence",className:"flex items-center gap-2",children:[r.jsx(_p,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden lg:inline",children:m.tabs.urgence})]}),r.jsxs(re,{value:"medical",className:"flex items-center gap-2",children:[r.jsx(Sn,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden lg:inline",children:m.tabs.medical})]}),r.jsxs(re,{value:"dependants",className:"flex items-center gap-2",children:[r.jsx(ls,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden lg:inline",children:m.tabs.dependants})]}),r.jsxs(re,{value:"emploi",className:"flex items-center gap-2",children:[r.jsx(Fp,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden lg:inline",children:m.tabs.emploi})]}),r.jsxs(re,{value:"documents",className:"flex items-center gap-2",children:[r.jsx(ht,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden lg:inline",children:m.tabs.documents})]}),r.jsxs(re,{value:"proprietes",className:"flex items-center gap-2",children:[r.jsx(Lr,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden lg:inline",children:m.tabs.proprietes})]}),r.jsxs(re,{value:"financier",className:"flex items-center gap-2",children:[r.jsx(is,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden lg:inline",children:m.tabs.financier})]}),r.jsxs(re,{value:"numerique",className:"flex items-center gap-2",children:[r.jsx(ta,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden lg:inline",children:m.tabs.numerique})]}),r.jsxs(re,{value:"assurances",className:"flex items-center gap-2",children:[r.jsx(ue,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden lg:inline",children:m.tabs.assurances})]}),r.jsxs(re,{value:"succession",className:"flex items-center gap-2",children:[r.jsx(pd,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden lg:inline",children:m.tabs.succession})]})]}),r.jsx(Tp,{mode:"wait",children:r.jsxs(tn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"mt-6",children:[r.jsx(ee,{value:"urgence",className:"mt-0",children:r.jsx(cI,{data:a.contactsUrgence,onUpdate:b=>g({contactsUrgence:b})})}),r.jsx(ee,{value:"medical",className:"mt-0",children:r.jsx(uI,{data:a.informationsMedicales,onUpdate:b=>g({informationsMedicales:b})})}),r.jsx(ee,{value:"dependants",className:"mt-0",children:r.jsx(dI,{data:a.personnesCharge,onUpdate:b=>g({personnesCharge:b})})}),r.jsx(ee,{value:"emploi",className:"mt-0",children:r.jsx(mI,{data:a.emploiPrestations,onUpdate:b=>g({emploiPrestations:b})})}),r.jsx(ee,{value:"documents",className:"mt-0",children:r.jsx(hI,{data:a.documentsImportants,onUpdate:b=>g({documentsImportants:b})})}),r.jsx(ee,{value:"proprietes",className:"mt-0",children:r.jsx(fI,{data:a.proprietes,biensEntreposes:a.biensEntreposes,onUpdate:(b,j)=>g({proprietes:b,biensEntreposes:j})})}),r.jsx(ee,{value:"financier",className:"mt-0",children:r.jsx(pI,{data:a.informationsFinancieres,investissements:a.investissements,comptesEnLigne:a.comptesEnLigne,onUpdate:(b,j,N)=>g({informationsFinancieres:b,investissements:j,comptesEnLigne:N})})}),r.jsx(ee,{value:"numerique",className:"mt-0",children:r.jsx(xI,{accesNumerique:a.accesNumerique,comptesCourriels:a.comptesCourriels,reseauxSociaux:a.reseauxSociaux,onUpdate:(b,j,N)=>g({accesNumerique:b,comptesCourriels:j,reseauxSociaux:N})})}),r.jsx(ee,{value:"assurances",className:"mt-0",children:r.jsx(gI,{data:a.assurances,onUpdate:b=>g({assurances:b})})}),r.jsx(ee,{value:"succession",className:"mt-0",children:r.jsx(jy,{testamentSuccession:a.testamentSuccession,preferencesFuneraires:a.preferencesFuneraires,salonFuneraire:a.salonFuneraire,cimetiere:a.cimetiere,autresInstructions:a.autresInstructions,onUpdate:b=>g(b)})})]},n)})]})})})]})]})};class yI{static APP_VERSION="1.0.0";static collectAllData(){try{console.log("üîÑ Collecte de toutes les donn√©es pour la sauvegarde...");const t=this.collectFromLocalStorage(),n=this.collectFromComponents(),s={...t,...n,metadata:this.generateMetadata(t,n)};return console.log("‚úÖ Donn√©es collect√©es avec succ√®s:",s),s}catch(t){throw console.error("‚ùå Erreur lors de la collecte des donn√©es:",t),new Error(`Impossible de collecter les donn√©es: ${t instanceof Error?t.message:"Erreur inconnue"}`)}}static collectFromLocalStorage(){const t={};try{const n=localStorage.getItem("retirement-personal-data");n&&(t.personal=JSON.parse(n));const s=localStorage.getItem("retirement-data");s&&(t.retirement=JSON.parse(s));const a=localStorage.getItem("immobilier-data");a&&(t.immobilier=JSON.parse(a));const i=localStorage.getItem("rrq-cpp-data");i&&(t.rrqCpp=JSON.parse(i));const l=localStorage.getItem("rregop-data");l&&(t.rregop=JSON.parse(l));const o=localStorage.getItem("srg-data");o&&(t.srg=JSON.parse(o));const c=localStorage.getItem("depenses-data");c&&(t.depenses=JSON.parse(c));const u=localStorage.getItem("budget-data");u&&(t.budget=JSON.parse(u));const d=localStorage.getItem("optimisation-fiscale-data");d&&(t.optimisationFiscale=JSON.parse(d));const m=localStorage.getItem("monte-carlo-data");m&&(t.monteCarlo=JSON.parse(m));const h=localStorage.getItem("analyse-sensibilite-data");h&&(t.analyseSensibilite=JSON.parse(h));const f=localStorage.getItem("comparaison-scenarios-data");f&&(t.comparaisonScenarios=JSON.parse(f));const x=localStorage.getItem("planification-expert-data");x&&(t.planificationExpert=JSON.parse(x));const p=localStorage.getItem("planification-urgence-data");p&&(t.planificationUrgence=JSON.parse(p));const g=localStorage.getItem("planification-successorale-data");g&&(t.planificationSuccessorale=JSON.parse(g))}catch(n){console.error("‚ùå Erreur lors de la collecte depuis localStorage:",n)}return t}static collectFromComponents(){return{}}static generateMetadata(t,n){const s=this.detectActiveModules(t,n);return{version:this.APP_VERSION,dateCreation:new Date().toISOString(),dateModification:new Date().toISOString(),modulesActifs:s,checksum:this.generateChecksum({allData:t,componentData:n})}}static detectActiveModules(t,n){const s=[];return t.personal&&s.push("profil"),t.retirement&&s.push("retraite"),t.immobilier&&s.push("immobilier"),t.rrqCpp&&s.push("rrq-cpp"),t.rregop&&s.push("rregop"),t.srg&&s.push("srg"),t.depenses&&s.push("depenses"),t.budget&&s.push("budget"),t.optimisationFiscale&&s.push("optimisation-fiscale"),t.monteCarlo&&s.push("monte-carlo"),t.analyseSensibilite&&s.push("analyse-sensibilite"),t.comparaisonScenarios&&s.push("comparaison-scenarios"),t.planificationExpert&&s.push("planification-expert"),t.planificationUrgence&&s.push("planification-urgence"),t.planificationSuccessorale&&s.push("planification-successorale"),s}static generateChecksum(t){try{const n=JSON.stringify(t);let s=0;for(let a=0;a<n.length;a++){const i=n.charCodeAt(a);s=(s<<5)-s+i,s=s&s}return s.toString(16)}catch(n){return console.error("‚ùå Erreur lors de la g√©n√©ration du checksum:",n),"error"}}static saveCollectedData(t){try{t.personal&&localStorage.setItem("retirement-personal-data",JSON.stringify(t.personal)),t.retirement&&localStorage.setItem("retirement-data",JSON.stringify(t.retirement)),t.immobilier&&localStorage.setItem("immobilier-data",JSON.stringify(t.immobilier)),t.rrqCpp&&localStorage.setItem("rrq-cpp-data",JSON.stringify(t.rrqCpp)),t.rregop&&localStorage.setItem("rregop-data",JSON.stringify(t.rregop)),t.srg&&localStorage.setItem("srg-data",JSON.stringify(t.srg)),t.depenses&&localStorage.setItem("depenses-data",JSON.stringify(t.depenses)),t.budget&&localStorage.setItem("budget-data",JSON.stringify(t.budget)),t.optimisationFiscale&&localStorage.setItem("optimisation-fiscale-data",JSON.stringify(t.optimisationFiscale)),t.monteCarlo&&localStorage.setItem("monte-carlo-data",JSON.stringify(t.monteCarlo)),t.analyseSensibilite&&localStorage.setItem("analyse-sensibilite-data",JSON.stringify(t.analyseSensibilite)),t.comparaisonScenarios&&localStorage.setItem("comparaison-scenarios-data",JSON.stringify(t.comparaisonScenarios)),t.planificationExpert&&localStorage.setItem("planification-expert-data",JSON.stringify(t.planificationExpert)),t.planificationUrgence&&localStorage.setItem("planification-urgence-data",JSON.stringify(t.planificationUrgence)),t.planificationSuccessorale&&localStorage.setItem("planification-successorale-data",JSON.stringify(t.planificationSuccessorale)),console.log("‚úÖ Donn√©es sauvegard√©es dans localStorage")}catch(n){throw console.error("‚ùå Erreur lors de la sauvegarde dans localStorage:",n),n}}static restoreCollectedData(){return this.collectFromLocalStorage()}}const bI=1e5,jI=()=>typeof crypto<"u"&&crypto.getRandomValues?Array.from(crypto.getRandomValues(new Uint8Array(16))).map(e=>e.toString(16).padStart(2,"0")).join(""):Array.from({length:16},()=>Math.floor(Math.random()*256).toString(16).padStart(2,"0")).join("");class Op{static APP_VERSION="1.0.0";static generateEncryptionKey(t,n){return kr.PBKDF2(t,n,{keySize:256/32,iterations:bI}).toString()}static generateNewEncryptionKey(t){const n=jI();return{key:this.generateEncryptionKey(t,n),salt:n}}static async createBackupData(t,n,s){try{if(!this.validateDataIntegrity(t))throw new Error("Donn√©es invalides - impossible de sauvegarder");const{key:a,salt:i}=this.generateNewEncryptionKey(n),l=JSON.stringify(t),o=kr.AES.encrypt(l,a).toString(),c={createdAt:Date.now(),updatedAt:Date.now(),version:this.APP_VERSION,deviceId:this.generateDeviceId(),checksum:this.generateHash(t),timestamp:Date.now(),isAutoBackup:!1,description:s||"Sauvegarde manuelle des donn√©es de retraite"};return{metadata:c,encryptedData:o,salt:i,checksum:this.generateHash({metadata:c,encryptedData:o,salt:i})}}catch(a){throw console.error("Erreur lors de la cr√©ation des donn√©es de sauvegarde:",a),a}}static async createCompleteBackup(t,n){try{console.log("üîÑ Cr√©ation d'une sauvegarde compl√®te de tous les modules...");const s=yI.collectAllData(),a=await this.createBackupData(s,t,n);return console.log("‚úÖ Sauvegarde compl√®te cr√©√©e avec succ√®s"),a}catch(s){throw console.error("‚ùå Erreur lors de la cr√©ation de la sauvegarde compl√®te:",s),s}}static async saveToLocalFile(t,n,s,a){try{const i=await this.createBackupData(t,n,a),l=new Blob([JSON.stringify(i,null,2)],{type:"application/json"}),o=URL.createObjectURL(l),c=document.createElement("a");c.href=o,c.download=s||`retraite-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(o)}catch(i){throw console.error("Erreur lors de la sauvegarde:",i),new Error(`Impossible de sauvegarder les donn√©es: ${i instanceof Error?i.message:"Erreur inconnue"}`)}}static async loadFromLocalFile(t,n){return new Promise((s,a)=>{const i=new FileReader;i.onload=l=>{try{const o=l.target?.result;console.log("üìÅ Contenu du fichier lu:",o.substring(0,200)+"...");let c;try{c=JSON.parse(o)}catch(u){console.error("‚ùå Erreur de parsing JSON:",u),a(new Error("Fichier JSON invalide - v√©rifiez le format"));return}return console.log("üîç Analyse du type de fichier..."),c.encryptedData&&c.salt&&c.metadata?(console.log("üîê Fichier de sauvegarde chiffr√© d√©tect√©"),this.loadEncryptedBackup(c,n,s,a)):c.personalData||c.retirement||c.savings||c.cashflow?(console.log("üìÑ Fichier JSON simple d√©tect√© - donn√©es non chiffr√©es"),this.loadSimpleJsonData(c,s,a)):c.data&&c.timestamp?(console.log("üîÑ Ancien format de sauvegarde d√©tect√©"),this.loadLegacyBackup(c,n,s,a)):(console.log("‚ùì Format inconnu - tentative de chargement direct"),this.loadUnknownFormat(c,s,a))}catch(o){console.error("‚ùå Erreur lors du chargement:",o),a(o)}},i.onerror=()=>{a(new Error("Erreur lors de la lecture du fichier"))};try{i.readAsText(t,"utf-8")}catch{console.warn("‚ö†Ô∏è Erreur avec UTF-8, essai avec encodage par d√©faut"),i.readAsText(t)}})}static async loadEncryptedBackup(t,n,s,a){try{const i=this.generateHash({metadata:t.metadata,encryptedData:t.encryptedData,salt:t.salt});t.checksum!==i&&console.warn("‚ö†Ô∏è Checksum invalide - fichier potentiellement corrompu"),console.log("üîê Tentative de d√©chiffrement...");const l=this.generateEncryptionKey(n,t.salt);console.log("üîë Cl√© de chiffrement g√©n√©r√©e avec salt, longueur:",l.length);try{const o=kr.AES.decrypt(t.encryptedData,l);if(console.log("üîì Donn√©es d√©chiffr√©es (bytes):",o),!o||o.sigBytes<=0)throw new Error("Mot de passe incorrect - aucune donn√©e d√©chiffr√©e");const c=o.toString(kr.enc.Utf8);if(console.log("üìù Conversion UTF-8 r√©ussie, longueur:",c.length),!c||c.length===0)throw new Error("Mot de passe incorrect - donn√©es vides apr√®s d√©chiffrement");console.log("‚úÖ Donn√©es d√©chiffr√©es avec succ√®s, longueur:",c.length);const u=JSON.parse(c);if(!this.validateDataIntegrity(u))throw new Error("Donn√©es invalides dans le fichier");t.metadata.checksum&&!this.verifyHash(u,t.metadata.checksum)&&console.warn("‚ö†Ô∏è Checksum des donn√©es invalide - donn√©es potentiellement corrompues"),console.log("‚úÖ Validation des donn√©es termin√©e"),s(u)}catch(o){console.error("‚ùå Erreur lors du d√©chiffrement:",o),o instanceof Error&&o.message.includes("Malformed UTF-8")?a(new Error("Mot de passe incorrect ou fichier corrompu - impossible de d√©chiffrer les donn√©es")):a(o)}}catch(i){console.error("‚ùå Erreur lors du chargement du fichier chiffr√©:",i),a(i)}}static loadSimpleJsonData(t,n,s){try{console.log("üìÑ Chargement de donn√©es JSON simples..."),this.validateDataIntegrity(t)?(console.log("‚úÖ Donn√©es JSON simples valid√©es"),n(t)):s(new Error("Format de donn√©es JSON invalide"))}catch(a){console.error("‚ùå Erreur lors du chargement des donn√©es JSON:",a),s(a)}}static async loadLegacyBackup(t,n,s,a){try{if(console.log("üîÑ Chargement d'un ancien format de sauvegarde..."),t.encrypted){const i=this.generateEncryptionKey(n,"legacy-salt"),o=kr.AES.decrypt(t.encrypted,i).toString(kr.enc.Utf8);if(o){const c=JSON.parse(o);if(this.validateDataIntegrity(c)){console.log("‚úÖ Ancien format charg√© avec succ√®s"),s(c);return}}}if(t.data&&this.validateDataIntegrity(t.data)){console.log("‚úÖ Ancien format non chiffr√© charg√©"),s(t.data);return}a(new Error("Format de sauvegarde ancien non reconnu"))}catch(i){console.error("‚ùå Erreur lors du chargement de l'ancien format:",i),a(i)}}static loadUnknownFormat(t,n,s){try{if(console.log("‚ùì Tentative de chargement d'un format inconnu..."),typeof t=="object"&&t!==null&&(t.personalData||t.retirement||t.savings||t.cashflow||t.expenses||t.taxOptimization)){console.log("‚úÖ Format inconnu mais structure de donn√©es d√©tect√©e"),n(t);return}s(new Error("Format de fichier non reconnu - v√©rifiez qu'il s'agit d'un fichier de sauvegarde MonPlanRetraite"))}catch(a){console.error("‚ùå Erreur lors du chargement du format inconnu:",a),s(a)}}static validateDataIntegrity(t){try{return!t||typeof t!="object"?!1:["personal","retirement","savings","cashflow"].every(s=>t.hasOwnProperty(s))}catch(n){return console.error("Erreur lors de la validation:",n),!1}}static sanitizeForDisplay(t){try{return JSON.parse(JSON.stringify(t))}catch(n){return console.error("Erreur lors de la sanitisation:",n),{}}}static generateHash(t){try{const n=JSON.stringify(t);return kr.SHA256(n).toString()}catch(n){return console.error("Erreur lors de la g√©n√©ration du hash:",n),""}}static verifyHash(t,n){try{return this.generateHash(t)===n}catch(s){return console.error("Erreur lors de la v√©rification du hash:",s),!1}}static cleanFileContent(t){try{console.log("üßπ Nettoyage du contenu du fichier...");let n=t.replace(/^\uFEFF/,"");return n=n.replace(/^\uFFFE/,""),n=n.replace(/^\uFEFF/,""),n=n.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F]/g,""),n=n.replace(/[""]/g,'"'),n=n.replace(/['']/g,"'"),n=n.trim(),console.log("‚úÖ Contenu nettoy√©, nouvelle longueur:",n.length),n}catch(n){return console.error("‚ùå Erreur lors du nettoyage:",n),t}}static generateDeviceId(){const t=document.createElement("canvas");t.getContext("2d")?.fillText("device-fingerprint",10,10);const s=t.toDataURL(),a=[navigator.userAgent,navigator.language,screen.width+"x"+screen.height,new Date().getTimezoneOffset(),s].join("|");return kr.SHA256(a).toString().substring(0,16)}}const NI=({data:e,onDataLoad:t})=>{const{language:n}=Ct(),{toast:s}=Ja(),[a,i]=v.useState(!1),[l,o]=v.useState(""),[c,u]=v.useState(""),[d,m]=v.useState(""),[h,f]=v.useState(""),[x,p]=v.useState("downloads"),[g,y]=v.useState(!1),[b,j]=v.useState(!1),[N,w]=v.useState(""),[S,O]=v.useState(null),[k,F]=v.useState(!1),[H,z]=v.useState(!1),[q,G]=v.useState("basic");v.useRef(null);const V=()=>{const J=new Date,ie=J.toISOString().split("T")[0],Ge=J.toTimeString().split(" ")[0].replace(/:/g,"-");return`retraite-${ie}-${Ge}.json`},P=async()=>{if(l!==c){s({title:"Erreur",description:"Les mots de passe ne correspondent pas",variant:"destructive"});return}if(l.length<8){s({title:"Erreur",description:"Le mot de passe doit contenir au moins 8 caract√®res",variant:"destructive"});return}try{y(!0);const J=d||V(),ie=await Op.createCompleteBackup(l,h),Ge=new Blob([ie],{type:"application/json"}),qe=URL.createObjectURL(Ge),Q=document.createElement("a");Q.href=qe,Q.download=J,Q.click(),URL.revokeObjectURL(qe),s({title:"Succ√®s",description:"Donn√©es sauvegard√©es avec succ√®s",variant:"default"}),i(!1),o(""),u(""),m(""),f("")}catch(J){console.error("Erreur lors de la sauvegarde:",J),s({title:"Erreur",description:"Erreur lors de la sauvegarde",variant:"destructive"})}finally{y(!1)}},L=async()=>{if(!S){s({title:"Erreur",description:"Veuillez s√©lectionner un fichier",variant:"destructive"});return}try{F(!0);const J=await Op.loadFromLocalFile(S,N);t(J),s({title:"Succ√®s",description:"Donn√©es charg√©es avec succ√®s",variant:"default"}),j(!1),w(""),O(null)}catch(J){console.error("Erreur lors du chargement:",J),s({title:"Erreur",description:"Erreur lors du chargement. V√©rifiez le mot de passe et le format du fichier.",variant:"destructive"})}finally{F(!1)}},X=()=>{switch(q){case"basic":return["Utilisez des mots de passe forts (min. 8 caract√®res)","Ne partagez jamais vos mots de passe","Sauvegardez r√©guli√®rement vos donn√©es","Utilisez des appareils s√©curis√©s"];case"advanced":return["Utilisez un gestionnaire de mots de passe","Activez l'authentification √† deux facteurs","Chiffrez vos sauvegardes avec des cl√©s fortes","V√©rifiez r√©guli√®rement l'int√©grit√© des donn√©es","Utilisez des connexions s√©curis√©es (HTTPS)"];case"expert":return["Impl√©mentez une strat√©gie de rotation des cl√©s","Utilisez des certificats num√©riques","Surveillez les tentatives d'acc√®s non autoris√©es","Maintenez des sauvegardes hors site","Testez r√©guli√®rement vos proc√©dures de r√©cup√©ration","Documentez vos proc√©dures de s√©curit√©"];default:return[]}};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-indigo-900 text-white",children:[r.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[r.jsx("div",{className:"absolute top-20 left-10 w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),r.jsx("div",{className:"absolute top-40 right-20 w-3 h-3 bg-purple-400 rounded-full animate-bounce"}),r.jsx("div",{className:"absolute bottom-40 left-20 w-2 h-2 bg-green-400 rounded-full animate-ping"}),r.jsx("div",{className:"absolute top-60 left-1/2 w-1 h-1 bg-yellow-400 rounded-full animate-pulse"})]}),r.jsxs("div",{className:"relative z-10 p-6 space-y-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-red-500 bg-clip-text text-transparent drop-shadow-2xl mb-4",children:"Sauvegarde & S√©curit√©"}),r.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Prot√©gez et s√©curisez vos donn√©es de retraite avec nos outils avanc√©s"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs(C,{className:"bg-gradient-to-br from-slate-800/90 to-slate-700/90 border-0 shadow-2xl backdrop-blur-sm",children:[r.jsxs(M,{children:[r.jsxs(R,{className:"flex items-center gap-3 text-white",children:[r.jsx(Qn,{className:"w-6 h-6 text-blue-400"}),"Gestion des Sauvegardes"]}),r.jsx(te,{className:"text-gray-300",children:"Sauvegardez et chargez vos donn√©es en toute s√©curit√©"})]}),r.jsxs(E,{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(xd,{open:a,onOpenChange:i,children:[r.jsx(gd,{asChild:!0,children:r.jsxs(_,{className:"flex-1 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white border-0 shadow-lg",children:[r.jsx(Qn,{className:"w-4 h-4 mr-2"}),"Sauvegarder"]})}),r.jsxs(vd,{className:"bg-slate-800 border-slate-600",children:[r.jsx(yd,{children:r.jsx(bd,{className:"text-white",children:"Sauvegarder les Donn√©es"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(A,{htmlFor:"filename",className:"text-gray-300",children:"Nom du fichier"}),r.jsx(T,{id:"filename",value:d,onChange:J=>m(J.target.value),placeholder:V(),className:"bg-slate-700 border-slate-600 text-white"})]}),r.jsxs("div",{children:[r.jsx(A,{htmlFor:"description",className:"text-gray-300",children:"Description (optionnel)"}),r.jsx(De,{id:"description",value:h,onChange:J=>f(J.target.value),placeholder:"Description de la sauvegarde",className:"bg-slate-700 border-slate-600 text-white"})]}),r.jsxs("div",{children:[r.jsx(A,{htmlFor:"password",className:"text-gray-300",children:"Mot de passe"}),r.jsx(T,{id:"password",type:"password",value:l,onChange:J=>o(J.target.value),placeholder:"Mot de passe fort (min. 8 caract√®res)",className:"bg-slate-700 border-slate-600 text-white"})]}),r.jsxs("div",{children:[r.jsx(A,{htmlFor:"confirmPassword",className:"text-gray-300",children:"Confirmer le mot de passe"}),r.jsx(T,{id:"confirmPassword",type:"password",value:c,onChange:J=>u(J.target.value),placeholder:"Confirmez votre mot de passe",className:"bg-slate-700 border-slate-600 text-white"})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsxs(_,{onClick:P,disabled:g,className:"flex-1 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800",children:[g?r.jsx(cs,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(Qn,{className:"w-4 h-4 mr-2"}),g?"Sauvegarde...":"Sauvegarder"]}),r.jsx(_,{variant:"outline",onClick:()=>i(!1),className:"flex-1 border-slate-600 text-gray-300 hover:bg-slate-700",children:"Annuler"})]})]})]})]}),r.jsxs(xd,{open:b,onOpenChange:j,children:[r.jsx(gd,{asChild:!0,children:r.jsxs(_,{className:"flex-1 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white border-0 shadow-lg",children:[r.jsx(Co,{className:"w-4 h-4 mr-2"}),"Charger"]})}),r.jsxs(vd,{className:"bg-slate-800 border-slate-600",children:[r.jsx(yd,{children:r.jsx(bd,{className:"text-white",children:"Charger les Donn√©es"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(A,{htmlFor:"file",className:"text-gray-300",children:"S√©lectionner un fichier"}),r.jsx(T,{id:"file",type:"file",accept:".json",onChange:J=>O(J.target.files?.[0]||null),className:"bg-slate-700 border-slate-600 text-white"})]}),r.jsxs("div",{children:[r.jsx(A,{htmlFor:"loadPassword",className:"text-gray-300",children:"Mot de passe"}),r.jsx(T,{id:"loadPassword",type:"password",value:N,onChange:J=>w(J.target.value),placeholder:"Mot de passe de la sauvegarde",className:"bg-slate-700 border-slate-600 text-white"})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsxs(_,{onClick:L,disabled:k||!S,className:"flex-1 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800",children:[k?r.jsx(cs,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(Co,{className:"w-4 h-4 mr-2"}),k?"Chargement...":"Charger"]}),r.jsx(_,{variant:"outline",onClick:()=>j(!1),className:"flex-1 border-slate-600 text-gray-300 hover:bg-slate-700",children:"Annuler"})]})]})]})]})]}),r.jsxs(Se,{className:"bg-blue-900/20 border-blue-400 text-blue-200",children:[r.jsx(Le,{className:"h-4 w-4"}),r.jsx(Ao,{children:"Information de s√©curit√©"}),r.jsx(Ae,{children:"Vos donn√©es sont chiffr√©es avec votre mot de passe. Utilisez un mot de passe fort et gardez-le en s√©curit√©."})]})]})]}),r.jsxs(C,{className:"bg-gradient-to-br from-slate-800/90 to-slate-700/90 border-0 shadow-2xl backdrop-blur-sm",children:[r.jsxs(M,{children:[r.jsxs(R,{className:"flex items-center gap-3 text-white",children:[r.jsx(ue,{className:"w-6 h-6 text-green-400"}),"Conseils de S√©curit√©"]}),r.jsx(te,{className:"text-gray-300",children:"Am√©liorez la s√©curit√© de vos donn√©es"})]}),r.jsxs(E,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(A,{htmlFor:"securityLevel",className:"text-gray-300",children:"Niveau de s√©curit√©"}),r.jsxs(ye,{value:q,onValueChange:J=>G(J),children:[r.jsx(be,{className:"bg-slate-700 border-slate-600 text-white",children:r.jsx(je,{})}),r.jsxs(Ne,{className:"bg-slate-700 border-slate-600",children:[r.jsx(ae,{value:"basic",className:"text-white hover:bg-slate-600",children:"Basique"}),r.jsx(ae,{value:"advanced",className:"text-white hover:bg-slate-600",children:"Avanc√©"}),r.jsx(ae,{value:"expert",className:"text-white hover:bg-slate-600",children:"Expert"})]})]})]}),r.jsx("div",{className:"space-y-3",children:X().map((J,ie)=>r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-700/50 rounded-lg",children:[r.jsx(ir,{className:"w-5 h-5 text-green-400 mt-0.5 flex-shrink-0"}),r.jsx("span",{className:"text-gray-200 text-sm",children:J})]},ie))}),r.jsxs(Se,{className:"bg-green-900/20 border-green-400 text-green-200",children:[r.jsx(ue,{className:"h-4 w-4"}),r.jsx(Ao,{children:"Niveau de s√©curit√© actuel"}),r.jsxs(Ae,{children:["Votre niveau de s√©curit√© est configur√© sur ",r.jsx("strong",{children:q}),". Suivez les conseils ci-dessus pour am√©liorer votre protection."]})]})]})]})]}),r.jsxs(C,{className:"bg-gradient-to-br from-slate-800/90 to-slate-700/90 border-0 shadow-2xl backdrop-blur-sm",children:[r.jsx(M,{children:r.jsxs(R,{className:"flex items-center gap-3 text-white",children:[r.jsx(Le,{className:"w-6 h-6 text-yellow-400"}),"Informations Importantes"]})}),r.jsx(E,{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-slate-700/50 rounded-lg",children:[r.jsx(Uy,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),r.jsx("h3",{className:"font-semibold text-white mb-1",children:"Sauvegarde Automatique"}),r.jsx("p",{className:"text-sm text-gray-300",children:"Vos donn√©es sont sauvegard√©es automatiquement en session"})]}),r.jsxs("div",{className:"text-center p-4 bg-slate-700/50 rounded-lg",children:[r.jsx(os,{className:"w-8 h-8 text-green-400 mx-auto mb-2"}),r.jsx("h3",{className:"font-semibold text-white mb-1",children:"Chiffrement AES-256"}),r.jsx("p",{className:"text-sm text-gray-300",children:"Vos sauvegardes sont prot√©g√©es par un chiffrement militaire"})]}),r.jsxs("div",{className:"text-center p-4 bg-slate-700/50 rounded-lg",children:[r.jsx(Wy,{className:"w-8 h-8 text-purple-400 mx-auto mb-2"}),r.jsx("h3",{className:"font-semibold text-white mb-1",children:"Stockage Local"}),r.jsx("p",{className:"text-sm text-gray-300",children:"Vos donn√©es restent sur votre appareil, pas sur nos serveurs"})]})]})})]})]})]})},wI=({data:e,onUpdate:t})=>{const[n,s]=v.useState(!1),a=window.location.pathname.includes("/fr/")||!window.location.pathname.includes("/en/"),i=(g,y)=>{t("savings",{[g]:y})},l=e.savings?.residenceValeur||0,o=e.savings?.residenceHypotheque||0,c=Math.max(0,l-o),u=l>0?c/l*100:0,d=[e.savings?.locative1Valeur||0,e.savings?.locative2Valeur||0,e.savings?.locative3Valeur||0],m=[e.savings?.locative1Hypotheque||0,e.savings?.locative2Hypotheque||0,e.savings?.locative3Hypotheque||0],h=d.reduce((g,y)=>g+y,0),f=m.reduce((g,y)=>g+y,0),x=Math.max(0,h-f),p=c+x;return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-900 via-teal-900 to-blue-900 text-white",children:r.jsxs("div",{className:"container mx-auto px-6 py-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[r.jsx(Lr,{className:"w-12 h-12 text-emerald-400"}),r.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-emerald-400 to-teal-400 bg-clip-text text-transparent",children:a?"Patrimoine immobilier":"Real Estate Portfolio"})]}),r.jsx("p",{className:"text-xl text-emerald-200 max-w-3xl mx-auto",children:a?"G√©rez vos propri√©t√©s et optimisez votre patrimoine immobilier pour la retraite":"Manage your properties and optimize your real estate portfolio for retirement"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsxs(C,{className:"bg-white/10 backdrop-blur-sm border-emerald-300/30",children:[r.jsx(M,{className:"pb-3",children:r.jsxs(R,{className:"text-emerald-400 flex items-center gap-2",children:[r.jsx(Lr,{className:"w-5 h-5"}),a?"R√©sidence principale":"Primary residence"]})}),r.jsxs(E,{children:[r.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:a?st(c):`$${c.toLocaleString()}`}),r.jsx("div",{className:"text-emerald-200 text-sm",children:a?"√âquit√© nette":"Net equity"}),r.jsxs("div",{className:"mt-2",children:[r.jsx(lr,{value:u,className:"h-2"}),r.jsxs("div",{className:"text-xs text-emerald-300 mt-1",children:[u.toFixed(1),"% ",a?"√©quit√©":"equity"]})]})]})]}),r.jsxs(C,{className:"bg-white/10 backdrop-blur-sm border-teal-300/30",children:[r.jsx(M,{className:"pb-3",children:r.jsxs(R,{className:"text-teal-400 flex items-center gap-2",children:[r.jsx(Ii,{className:"w-5 h-5"}),a?"Propri√©t√©s locatives":"Rental properties"]})}),r.jsxs(E,{children:[r.jsx("div",{className:"text-2xl font-bold text-teal-400",children:a?st(x):`$${x.toLocaleString()}`}),r.jsx("div",{className:"text-teal-200 text-sm",children:a?"√âquit√© totale":"Total equity"}),r.jsxs("div",{className:"text-xs text-teal-300 mt-1",children:[d.filter(g=>g>0).length," ",a?"propri√©t√©s":"properties"]})]})]}),r.jsxs(C,{className:"bg-white/10 backdrop-blur-sm border-blue-300/30",children:[r.jsx(M,{className:"pb-3",children:r.jsxs(R,{className:"text-blue-400 flex items-center gap-2",children:[r.jsx(et,{className:"w-5 h-5"}),a?"Patrimoine total":"Total wealth"]})}),r.jsxs(E,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-400",children:a?st(p):`$${p.toLocaleString()}`}),r.jsx("div",{className:"text-blue-200 text-sm",children:a?"Valeur nette immobili√®re":"Net real estate value"})]})]})]}),r.jsx("div",{className:"space-y-6 mb-8",children:r.jsxs(C,{className:"bg-white/10 backdrop-blur-sm border-emerald-300/30",children:[r.jsxs(M,{children:[r.jsxs(R,{className:"text-emerald-400 flex items-center gap-2",children:[r.jsx(Lr,{className:"w-5 h-5"}),a?"Ma r√©sidence principale":"My primary residence"]}),r.jsx(te,{className:"text-emerald-200",children:a?"Informations sur votre propri√©t√© principale":"Information about your main property"})]}),r.jsxs(E,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(A,{className:"text-emerald-300 flex items-center gap-2",children:[r.jsx(it,{className:"w-4 h-4"}),a?"Valeur estim√©e":"Estimated value",r.jsx(jd,{content:a?"Valeur marchande actuelle de votre r√©sidence":"Current market value of your residence"})]}),r.jsx(T,{type:"number",value:e.savings?.residenceValeur||"",onChange:g=>i("residenceValeur",parseFloat(g.target.value)||0),placeholder:"Ex: 500000",className:"bg-white/20 border-emerald-300/30 text-white placeholder-emerald-200"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(A,{className:"text-emerald-300 flex items-center gap-2",children:[r.jsx(mt,{className:"w-4 h-4"}),a?"Hypoth√®que restante":"Remaining mortgage",r.jsx(jd,{content:a?"Montant encore d√ª sur votre hypoth√®que":"Amount still owed on your mortgage"})]}),r.jsx(T,{type:"number",value:e.savings?.residenceHypotheque||"",onChange:g=>i("residenceHypotheque",parseFloat(g.target.value)||0),placeholder:"Ex: 200000",className:"bg-white/20 border-emerald-300/30 text-white placeholder-emerald-200"})]})]}),l>0&&r.jsxs(Se,{className:"bg-emerald-900/50 border-emerald-400/30",children:[r.jsx(et,{className:"h-4 w-4"}),r.jsxs(Ae,{className:"text-emerald-200",children:[a?"√âquit√© nette: ":"Net equity: ",r.jsx("span",{className:"font-semibold text-emerald-400",children:a?st(c):`$${c.toLocaleString()}`})," ","(",u.toFixed(1),"% ",a?"de la valeur":"of value",")"]})]})]})]})}),r.jsx("div",{className:"space-y-6 mb-8",children:r.jsxs(C,{className:"bg-white/10 backdrop-blur-sm border-teal-300/30",children:[r.jsxs(M,{children:[r.jsxs(R,{className:"text-teal-400 flex items-center gap-2",children:[r.jsx(Ii,{className:"w-5 h-5"}),a?"Mes propri√©t√©s locatives":"My rental properties"]}),r.jsx(te,{className:"text-teal-200",children:a?"G√©rez vos propri√©t√©s locatives pour g√©n√©rer des revenus passifs":"Manage your rental properties to generate passive income"})]}),r.jsx(E,{className:"space-y-6",children:[1,2,3].map(g=>r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx(Ii,{className:"w-5 h-5 text-teal-400"}),r.jsx("h4",{className:"text-lg font-semibold text-teal-300",children:a?`Propri√©t√© locative ${g}`:`Rental property ${g}`})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{className:"text-teal-300",children:a?"Valeur estim√©e":"Estimated value"}),r.jsx(T,{type:"number",value:e.savings?.[`locative${g}Valeur`]||"",onChange:y=>i(`locative${g}Valeur`,parseFloat(y.target.value)||0),placeholder:"Ex: 300000",className:"bg-white/20 border-teal-300/30 text-white placeholder-teal-200"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{className:"text-teal-300",children:a?"Hypoth√®que restante":"Remaining mortgage"}),r.jsx(T,{type:"number",value:e.savings?.[`locative${g}Hypotheque`]||"",onChange:y=>i(`locative${g}Hypotheque`,parseFloat(y.target.value)||0),placeholder:"Ex: 150000",className:"bg-white/20 border-teal-300/30 text-white placeholder-teal-200"})]})]}),d[g-1]>0&&r.jsxs(Se,{className:"bg-teal-900/50 border-teal-400/30",children:[r.jsx(et,{className:"h-4 w-4"}),r.jsxs(Ae,{className:"text-teal-200",children:[a?"√âquit√© nette: ":"Net equity: ",r.jsx("span",{className:"font-semibold text-teal-400",children:a?st(Math.max(0,d[g-1]-m[g-1])):`$${Math.max(0,d[g-1]-m[g-1]).toLocaleString()}`})]})]}),g<3&&r.jsx("hr",{className:"border-teal-300/20"})]},g))})]})}),r.jsx("div",{className:"flex justify-center gap-4 mt-8",children:r.jsx(_,{onClick:()=>s(!n),variant:"outline",className:"bg-white/10 border-emerald-300/30 text-emerald-300 hover:bg-emerald-600 hover:text-white",children:a?"Aide et conseils":"Help & tips"})}),n&&r.jsxs(C,{className:"mt-6 bg-white/10 backdrop-blur-sm border-emerald-300/30",children:[r.jsx(M,{children:r.jsx(R,{className:"text-emerald-400",children:a?"Conseils pour optimiser votre patrimoine immobilier":"Tips to optimize your real estate portfolio"})}),r.jsxs(E,{className:"space-y-3 text-emerald-200",children:[r.jsx("p",{children:a?"‚Ä¢ Consid√©rez refinancer si les taux d'int√©r√™t ont baiss√© depuis votre derni√®re hypoth√®que":"‚Ä¢ Consider refinancing if interest rates have dropped since your last mortgage"}),r.jsx("p",{children:a?"‚Ä¢ L'immobilier peut √™tre une excellente source de revenus passifs √† la retraite":"‚Ä¢ Real estate can be an excellent source of passive income in retirement"}),r.jsx("p",{children:a?"‚Ä¢ Pensez √† rembourser vos hypoth√®ques avant la retraite pour r√©duire vos d√©penses mensuelles":"‚Ä¢ Consider paying off your mortgages before retirement to reduce your monthly expenses"})]})]})]})})},PI=({data:e,onUpdate:t})=>{const{language:n}=Ct(),s=n==="fr",[a,i]=v.useState({iterations:1e3,timeHorizon:30,confidenceLevel:.95}),[l,o]=v.useState(!1),[c,u]=v.useState(null),d={title:s?"Mod√©lisation Monte Carlo Avanc√©e":"Advanced Monte Carlo Modeling",description:s?"Simulez des milliers de sc√©narios pour √©valuer les risques et optimiser votre plan de retraite":"Simulate thousands of scenarios to assess risks and optimize your retirement plan",parameters:s?"Param√®tres de simulation":"Simulation Parameters",iterations:s?"Nombre d'it√©rations":"Number of Iterations",timeHorizon:s?"Horizon temporel (ann√©es)":"Time Horizon (years)",confidenceLevel:s?"Niveau de confiance":"Confidence Level",runSimulation:s?"Lancer la simulation":"Run Simulation",stopSimulation:s?"Arr√™ter la simulation":"Stop Simulation",resetParameters:s?"R√©initialiser les param√®tres":"Reset Parameters",results:s?"R√©sultats de la simulation":"Simulation Results",summary:s?"R√©sum√©":"Summary",successRate:s?"Taux de succ√®s":"Success Rate",averageIncome:s?"Revenu moyen":"Average Income",medianIncome:s?"Revenu m√©dian":"Median Income",volatility:s?"Volatilit√©":"Volatility",riskMetrics:s?"M√©triques de risque":"Risk Metrics",sharpeRatio:s?"Ratio de Sharpe":"Sharpe Ratio",maxDrawdown:s?"Perte maximale":"Maximum Drawdown",scenarios:s?"Sc√©narios":"Scenarios",year:s?"Ann√©e":"Year"},m=async()=>{if(l){o(!1);return}o(!0);try{await new Promise(x=>setTimeout(x,3e3));const f={summary:{successRate:87.5,averageIncome:45e3,medianIncome:47e3,volatility:.23},riskMetrics:{valueAtRisk:{p90:38e3,p95:35e3,p99:3e4},sharpeRatio:1.45,maxDrawdown:.18},scenarios:Array.from({length:30},(x,p)=>({year:p+1,income:45e3+Math.random()*2e4,probability:.95-p*.01}))};u(f)}catch(f){console.error("Erreur Monte Carlo:",f)}finally{o(!1)}},h=()=>{i({iterations:1e3,timeHorizon:30,confidenceLevel:.95}),u(null)};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-indigo-900 text-white",children:r.jsxs("div",{className:"container mx-auto px-6 py-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[r.jsx(ct,{className:"w-12 h-12 text-purple-400"}),r.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:d.title})]}),r.jsx("p",{className:"text-xl text-purple-200 max-w-3xl mx-auto",children:d.description})]}),r.jsxs(C,{className:"bg-white/10 backdrop-blur-sm border-purple-300/30 mb-8",children:[r.jsx(M,{children:r.jsxs(R,{className:"text-purple-400 flex items-center gap-2",children:[r.jsx(Rt,{className:"w-5 h-5"}),d.parameters]})}),r.jsxs(E,{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"iterations",className:"text-purple-200",children:d.iterations}),r.jsx(T,{id:"iterations",type:"number",value:a.iterations,onChange:f=>i(x=>({...x,iterations:parseInt(f.target.value)||1e3})),min:"100",max:"10000",step:"100",className:"bg-white/20 border-purple-300/30 text-white"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"timeHorizon",className:"text-purple-200",children:d.timeHorizon}),r.jsx(T,{id:"timeHorizon",type:"number",value:a.timeHorizon,onChange:f=>i(x=>({...x,timeHorizon:parseInt(f.target.value)||30})),min:"10",max:"50",className:"bg-white/20 border-purple-300/30 text-white"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(A,{htmlFor:"confidenceLevel",className:"text-purple-200",children:d.confidenceLevel}),r.jsxs(ye,{value:a.confidenceLevel.toString(),onValueChange:f=>i(x=>({...x,confidenceLevel:parseFloat(f)})),children:[r.jsx(be,{className:"bg-white/20 border-purple-300/30 text-white",children:r.jsx(je,{})}),r.jsxs(Ne,{className:"bg-slate-700 border-slate-600",children:[r.jsx(ae,{value:"0.90",children:"90%"}),r.jsx(ae,{value:"0.95",children:"95%"}),r.jsx(ae,{value:"0.99",children:"99%"})]})]})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(_,{onClick:m,disabled:l,className:"flex items-center gap-2 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:l?r.jsxs(r.Fragment,{children:[r.jsx(Mp,{className:"w-4 h-4"}),d.stopSimulation]}):r.jsxs(r.Fragment,{children:[r.jsx(Ip,{className:"w-4 h-4"}),d.runSimulation]})}),r.jsxs(_,{variant:"outline",onClick:h,disabled:l,className:"flex items-center gap-2 border-purple-300/30 text-purple-200 hover:bg-purple-500/20",children:[r.jsx(Rp,{className:"w-4 h-4"}),d.resetParameters]})]})]})]}),c&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-2xl font-semibold text-purple-300 text-center",children:d.results}),r.jsxs(C,{className:"bg-white/10 backdrop-blur-sm border-purple-300/30",children:[r.jsx(M,{children:r.jsx(R,{className:"text-purple-400",children:d.summary})}),r.jsx(E,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:[c.summary.successRate.toFixed(1),"%"]}),r.jsx("div",{className:"text-sm text-blue-200",children:d.successRate})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-green-400",children:["$",c.summary.averageIncome.toLocaleString()]}),r.jsx("div",{className:"text-sm text-green-200",children:d.averageIncome})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-orange-400",children:["$",c.summary.medianIncome.toLocaleString()]}),r.jsx("div",{className:"text-sm text-orange-200",children:d.medianIncome})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-red-400",children:c.summary.volatility.toFixed(2)}),r.jsx("div",{className:"text-sm text-red-200",children:d.volatility})]})]})})]}),r.jsxs(C,{className:"bg-white/10 backdrop-blur-sm border-purple-300/30",children:[r.jsx(M,{children:r.jsx(R,{className:"text-purple-400",children:d.riskMetrics})}),r.jsx(E,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-purple-200",children:"VaR 95%"}),r.jsxs("div",{className:"text-lg font-semibold text-purple-300",children:["$",c.riskMetrics.valueAtRisk.p95.toLocaleString()]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-purple-200",children:d.sharpeRatio}),r.jsx("div",{className:"text-lg font-semibold text-purple-300",children:c.riskMetrics.sharpeRatio.toFixed(2)})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-purple-200",children:d.maxDrawdown}),r.jsxs("div",{className:"text-lg font-semibold text-purple-300",children:[(c.riskMetrics.maxDrawdown*100).toFixed(1),"%"]})]})]})})]}),r.jsxs(C,{className:"bg-white/10 backdrop-blur-sm border-purple-300/30",children:[r.jsx(M,{children:r.jsx(R,{className:"text-purple-400",children:d.scenarios})}),r.jsx(E,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-96 overflow-y-auto",children:c.scenarios.slice(0,15).map((f,x)=>r.jsx("div",{className:"p-3 bg-purple-500/20 rounded-lg border border-purple-400/30",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-lg font-semibold text-purple-200",children:[d.year," ",f.year]}),r.jsxs("div",{className:"text-2xl font-bold text-purple-300",children:["$",f.income.toLocaleString()]}),r.jsxs("div",{className:"text-sm text-purple-400",children:[(f.probability*100).toFixed(1),"%"]})]})},x))})})]})]}),!c&&!l&&r.jsx(C,{className:"bg-white/10 backdrop-blur-sm border-blue-300/30",children:r.jsxs(E,{className:"p-8 text-center",children:[r.jsx(Le,{className:"w-16 h-16 text-blue-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-blue-300 mb-2",children:s?"Pr√™t pour la simulation":"Ready for Simulation"}),r.jsx("p",{className:"text-blue-200",children:s?"Configurez vos param√®tres et lancez une simulation Monte Carlo pour analyser les risques de votre plan de retraite.":"Configure your parameters and run a Monte Carlo simulation to analyze the risks of your retirement plan."})]})})]})})},SI=({data:e,onUpdate:t})=>{const{userData:n}=Sc(),{language:s}=Ct(),a=s==="en",i=e||n,l={willAndSuccession:{hasWill:!1,willLocation:"",executorName:"",executorContact:"",beneficiaries:[],specialInstructions:"",lastUpdated:new Date},funeralPreferences:{funeralType:"traditional",burialType:"ground",funeralHomes:[],cemeteries:[],specialRequests:"",organDonation:!1,lastUpdated:new Date}},o=i?.emergency?.succession||l,c=u=>{t&&t("emergency",{...i?.emergency,succession:u})};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-indigo-900 text-white",children:r.jsxs("div",{className:"container mx-auto px-6 py-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:a?"üèõÔ∏è Estate Planning & Succession":"üèõÔ∏è Planification successorale"}),r.jsx("p",{className:"text-xl text-purple-200 max-w-3xl mx-auto",children:a?"Plan your legacy and ensure your wishes are respected":"Planifiez votre h√©ritage et assurez-vous que vos souhaits soient respect√©s"})]}),r.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg border border-purple-300/30 p-6",children:r.jsx(jy,{data:o,onUpdate:c})})]})})},AI=({activeSection:e,onSectionChange:t,onDataLoad:n})=>{const[s,a]=v.useState("dashboard"),{userData:i,updateUserData:l,calculations:o,isLoading:c,error:u}=Sc(),d=e||s;if(c)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"text-lg",children:"Chargement..."})});if(u)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-red-600",children:["Erreur: ",u]})});const m=()=>{switch(console.log("üîç RetirementApp - Section active:",d),console.log("üîç RetirementApp - Type de section:",typeof d),d){case"personal":return console.log("üîç Rendu: PersonalDataSection"),r.jsx(ob,{data:i,onUpdate:l});case"retirement":return console.log("üîç Rendu: RetirementSection"),r.jsx(YM,{data:i,onUpdate:l});case"savings":return console.log("üîç Rendu: SavingsSection"),r.jsx(GM,{data:i,onUpdate:l});case"real-estate":return console.log("üîç Rendu: RealEstateSection"),r.jsx(wI,{data:i,onUpdate:l});case"emergency-info":return console.log("üîç Rendu: EmergencyInfoSection"),r.jsx(vI,{});case"cashflow":return console.log("üîç Rendu: CashflowSection"),r.jsx(Yy,{data:i,onUpdate:l});case"cpp":return console.log("üîç Rendu: CPPSection"),r.jsx(nI,{});case"rrq":return console.log("üîç Rendu: RRQSection"),r.jsx(Hy,{data:i,onUpdate:l});case"cpp-rrq":return console.log("üîç Rendu: CombinedPensionSection (cpp-rrq)"),r.jsx(Ap,{});case"combined-pension":return console.log("üîç Rendu: CombinedPensionSection"),r.jsx(Ap,{});case"monte-carlo":return console.log("üîç Rendu: MonteCarloSection"),r.jsx(PI,{data:i,onUpdate:l});case"optimization":return console.log("üîç Rendu: TaxOptimizationSection (optimization)"),r.jsx(Pp,{data:i,calculations:o});case"succession":return console.log("üîç Rendu: SuccessionSection"),r.jsx(SI,{data:i,onUpdate:l});case"premium-features":return console.log("üîç Rendu: PremiumFeaturesSection"),r.jsx(oI,{});case"advanced-expenses":return console.log("üîç Rendu: AdvancedExpensesSection"),r.jsx(QM,{data:i,onUpdate:l});case"tax":return console.log("üîç Rendu: TaxOptimizationSection"),r.jsx(Pp,{data:i,calculations:o});case"simulator":return console.log("üîç Rendu: SimulatorSection"),r.jsx(ZM,{data:i,calculations:o});case"reports":return console.log("üîç Rendu: ReportsSection"),r.jsx(rI,{data:i,calculations:o});case"session":return console.log("üîç Rendu: BackupSecuritySection"),r.jsx(NI,{data:i,onDataLoad:n});case"dashboard":default:return console.log("üîç Rendu: DashboardSection (par d√©faut)"),r.jsx(KM,{data:i,calculations:o})}};return r.jsx(Ky,{children:r.jsx("div",{className:"min-h-screen",children:r.jsx("div",{className:"mt-8",children:m()})})})},CI=()=>{const[e,t]=v.useState(()=>{const s=window.location.pathname;return s.includes("/en/")||s.startsWith("/en")?"en":"fr"});return v.useEffect(()=>{const s=()=>{const a=window.location.pathname,i=a.includes("/en/")||a.startsWith("/en")?"en":"fr";i!==e&&t(i)};return window.addEventListener("popstate",s),()=>{window.removeEventListener("popstate",s)}},[e]),{language:e,setLanguage:s=>{t(s);const a=window.location.pathname;let i=a;s==="en"&&!a.includes("/en")?i=`/en${a}`:s==="fr"&&a.includes("/en")&&(i=a.replace("/en","")),i!==a&&window.history.pushState({},"",i)},isEnglish:e==="en",isFrench:e==="fr"}},JI=()=>{const[e]=Gy(),[t,n]=v.useState("dashboard"),{user:s}=Pc(),{language:a}=CI(),i=a==="fr";v.useEffect(()=>{},[]),v.useEffect(()=>{const u=e.get("section"),m=new URLSearchParams(window.location.search).get("section");new URL(window.location.href).searchParams.get("section"),u?n(u):m&&n(m)},[e]);const l=u=>{n(u);const d=new URL(window.location.href);d.searchParams.set("section",u),window.history.replaceState({},"",d.toString())},c={fr:{title:"Module de Retraite",welcome:"Bienvenue dans votre tableau de bord de planification de retraite",navigation:"Navigation",activeSection:"Section Active",currentStatus:"Statut Actuel",currentStatusText:"Vous consultez actuellement la section",userInfo:"Informations Utilisateur",loggedInAs:"Connect√© en tant que",notLoggedIn:"Non connect√©",debugInfo:"Informations de D√©bogage",debugText:"Composant charg√© avec succ√®s. V√©rifiez la console pour les journaux d√©taill√©s.",footer:"Module de Retraite Version Test - Mode D√©bogage",sections:{dashboard:"Tableau de bord",savings:"√âpargne",cashflow:"Flux de tr√©sorerie",cpp:"RRQ/RPC",tax:"Fiscalit√©",simulator:"Simulateur"}},en:{title:"Retirement Module",welcome:"Welcome to your retirement planning dashboard",navigation:"Navigation",activeSection:"Active Section",currentStatus:"Current Status",currentStatusText:"You are currently viewing the",userInfo:"User Information",loggedInAs:"Logged in as",notLoggedIn:"Not logged in",debugInfo:"Debug Information",debugText:"Component loaded successfully. Check console for detailed logs.",footer:"Retirement Module Test Version - Debug Mode",sections:{dashboard:"Dashboard",savings:"Savings",cashflow:"Cashflow",cpp:"CPP",tax:"Tax",simulator:"Simulator"}}}[i?"fr":"en"];return i?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-indigo-900",children:r.jsx("div",{className:"container mx-auto px-6 py-8",children:r.jsx(AI,{activeSection:t||new URLSearchParams(window.location.search).get("section")||"dashboard",onSectionChange:l,onDataLoad:u=>{}})})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-8",children:r.jsxs("div",{className:"container mx-auto max-w-6xl",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:[c.title," - English Version"]}),r.jsx("p",{className:"text-xl text-gray-600",children:c.welcome})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:c.navigation}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:["dashboard","savings","cashflow","cpp","tax","simulator"].map(u=>r.jsx("button",{onClick:()=>l(u),className:`p-3 rounded-lg transition-colors ${t===u?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:c.sections[u]||u.charAt(0).toUpperCase()+u.slice(1)},u))})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[r.jsxs("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:[c.activeSection,": ",c.sections[t]||t.charAt(0).toUpperCase()+t.slice(1)]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[r.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:c.currentStatus}),r.jsxs("p",{className:"text-gray-600",children:[c.currentStatusText," ",r.jsx("strong",{children:c.sections[t]||t})," section."]})]}),r.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[r.jsx("h3",{className:"font-semibold text-blue-700 mb-2",children:c.userInfo}),r.jsx("p",{className:"text-blue-600",children:s?`${c.loggedInAs}: ${s.email||"User"}`:c.notLoggedIn})]}),r.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[r.jsx("h3",{className:"font-semibold text-green-700 mb-2",children:c.debugInfo}),r.jsx("p",{className:"text-green-600 text-sm",children:c.debugText})]})]})]}),r.jsx("div",{className:"text-center mt-12 text-gray-500",children:r.jsx("p",{children:c.footer})})]})})};export{JI as U};
//# sourceMappingURL=UnifiedRetirementModule-CR0EOEgv.js.map
