/* ===== MPR UNIFIED STYLES — SOURCE DE VÉRITÉ UNIQUE ===== */
/* Système design officiel MonPlanRetraite.ca                */
/* Optimisé pour clientèle 50-90 ans, WCAG AAA obligatoire  */
/* Palette ancrée dans le logo (fleur de lis + or financier) */

@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@700;800&family=Inter:wght@400;500;600;700&display=swap');

:root {
  /* ===================================================== */
  /* === PALETTE OFFICIELLE MONPLANRETRAITE.CA           === */
  /* ===================================================== */

  /* BLEU MARINE — Couleur maîtresse (fleur de lis + typographie logo) */
  --mpr-navy:           #1B3868;   /* Logo pur — titres H1, header */
  --mpr-navy-dark:      #142B52;   /* Hover du marine */
  --mpr-navy-mid:       #243F80;   /* H2, éléments forts */

  /* BLEU INTERACTIF — Dérivé du marine, boutons / liens / focus */
  --mpr-primary:        #2B5BA8;   /* Boutons primaires, liens */
  --mpr-primary-hover:  #1F4A8F;   /* Hover boutons */
  --mpr-primary-light:  #EBF0FA;   /* Fonds actifs / hover discrets */

  /* OR MPR — Flèche/éclair financier du logo, CTA, accents */
  --mpr-gold:           #C8922A;   /* Or logo — CTA, badges, accents */
  --mpr-gold-hover:     #A87620;   /* Or hover */
  --mpr-gold-light:     #F5D89B;   /* Or clair — fonds dorés */
  --mpr-gold-faint:     #FDF6E3;   /* Or très clair — fonds alertes positives */

  /* TEXTE */
  --mpr-text:           #1a2744;   /* Corps de texte (dérivé marine, AAA) */
  --mpr-text-muted:     #4A5568;   /* Aide, métadonnées, sous-titres */

  /* FONDS */
  --mpr-bg:             #ffffff;
  --mpr-bg-section:     #f8fafc;   /* Sections alternées */
  --mpr-bg-accent:      #EBF0FA;   /* Fond accent bleu très clair */

  /* BORDURES */
  --mpr-border:         #e2e8f0;
  --mpr-border-strong:  #CBD5E0;
  --mpr-border-focus:   #2B5BA8;   /* Focus rings — bleu interactif */

  /* STATUTS */
  --mpr-success:        #16a34a;
  --mpr-warning:        #C8922A;   /* Or MPR réutilisé — cohérence visuelle */
  --mpr-error:          #dc2626;
  --mpr-info:           #2B5BA8;   /* Bleu interactif réutilisé */

  /* ===================================================== */
  /* === COULEURS TITRES (HIÉRARCHIE MARINE → INTERACTIF)=== */
  /* ===================================================== */
  --mpr-h1:             #1B3868;   /* Marine logo — ancre visuelle forte */
  --mpr-h2:             #243F80;   /* Marine mid — autorité */
  --mpr-h3:             #2B5BA8;   /* Interactif — intégration UX */
  --mpr-h4:             #1f2937;   /* Gris foncé — neutre */

  /* ===================================================== */
  /* === POLICES                                         === */
  /* ===================================================== */
  --mpr-font-display:   'Poppins', 'Inter', system-ui, sans-serif;
  --mpr-font-body:      'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;

  /* ===================================================== */
  /* === TAILLES POLICES SENIORS (minimum 16px absolu)  === */
  /* ===================================================== */
  --mpr-text-sm:        16px;   /* Minimum absolu — jamais en dessous */
  --mpr-text-base:      18px;   /* Corps, inputs */
  --mpr-text-lg:        20px;   /* Labels formulaires */
  --mpr-text-xl:        24px;   /* Titres sections */
  --mpr-text-2xl:       28px;   /* Titres pages */
  --mpr-text-3xl:       32px;   /* H1 standards */
  --mpr-text-hero:      40px;   /* Accroches héros (Poppins) */

  /* ===================================================== */
  /* === ESPACEMENTS                                     === */
  /* ===================================================== */
  --mpr-gap-sm:         8px;
  --mpr-gap-md:         16px;
  --mpr-gap-lg:         24px;
  --mpr-gap-xl:         32px;

  /* ===================================================== */
  /* === OMBRES (teintées marine, pas noires pures)     === */
  /* ===================================================== */
  --mpr-shadow-sm:   0 1px 3px rgba(27, 56, 104, 0.08);
  --mpr-shadow-md:   0 4px 12px rgba(27, 56, 104, 0.10);
  --mpr-shadow-lg:   0 8px 24px rgba(27, 56, 104, 0.14);
  --mpr-shadow-xl:   0 16px 40px rgba(27, 56, 104, 0.18);

  /* ===================================================== */
  /* === BORDURES & RAYONS                              === */
  /* ===================================================== */
  --mpr-radius:         8px;
  --mpr-radius-lg:      12px;
  --mpr-radius-xl:      16px;
}

/* ===================================================== */
/* === TYPOGRAPHIE HIÉRARCHIQUE                       === */
/* ===================================================== */

h1, .h1 {
  font-family: var(--mpr-font-display);
  color: var(--mpr-h1);
  font-size: var(--mpr-text-3xl);
  line-height: 1.25;
  letter-spacing: -0.01em;
  font-weight: 800;
  margin-bottom: var(--mpr-gap-lg);
}

h2, .h2 {
  font-family: var(--mpr-font-display);
  color: var(--mpr-h2);
  font-size: var(--mpr-text-2xl);
  line-height: 1.3;
  letter-spacing: -0.005em;
  font-weight: 700;
  margin-bottom: var(--mpr-gap-md);
}

h3, .h3 {
  color: var(--mpr-h3);
  font-size: var(--mpr-text-xl);
  line-height: 1.4;
  font-weight: 600;
  margin-bottom: var(--mpr-gap-sm);
}

h4, .h4 {
  color: var(--mpr-h4);
  font-size: var(--mpr-text-lg);
  line-height: 1.45;
  font-weight: 600;
  margin-bottom: var(--mpr-gap-sm);
}

/* Headings inside dark gradient backgrounds stay white — !important to beat .seniors-mode h2 specificity */
.seniors-mode [class*="from-mpr-navy"] h1,
.seniors-mode [class*="from-mpr-navy"] h2,
.seniors-mode [class*="from-mpr-navy"] h3,
.seniors-mode [class*="from-mpr-navy"] h4 {
  color: white !important;
}

/* ===================================================== */
/* === SYSTÈME DE GRILLE FORMULAIRES                  === */
/* ===================================================== */

.mpr-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: var(--mpr-gap-lg);
  background: var(--mpr-bg);
}

.mpr-form {
  display: grid;
  gap: var(--mpr-gap-md);
  width: 100%;
}

.mpr-form-row {
  display: grid;
  gap: var(--mpr-gap-md);
  padding: var(--mpr-gap-sm);
  background: var(--mpr-bg);
  border: 1px solid var(--mpr-border);
  border-radius: var(--mpr-radius);
  box-shadow: var(--mpr-shadow-sm);
}

.mpr-form-row.cols-4 { grid-template-columns: repeat(4, 1fr); }
.mpr-form-row.cols-3 { grid-template-columns: repeat(3, 1fr); }
.mpr-form-row.cols-2 { grid-template-columns: repeat(2, 1fr); }
.mpr-form-row.cols-1 { grid-template-columns: 1fr; }

/* ===================================================== */
/* === CHAMPS FORMULAIRE (CŒUR DU SYSTÈME)            === */
/* ===================================================== */

.mpr-field {
  display: grid;
  grid-template-columns: minmax(160px, 200px) 1fr;
  align-items: center;
  gap: var(--mpr-gap-sm);
  min-height: 48px;
}

.mpr-field label {
  color: var(--mpr-text);
  font-weight: 600;
  font-size: var(--mpr-text-sm);
  line-height: 1.4;
  /* RÈGLE CRITIQUE : Jamais de wrap sur 2 lignes */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.mpr-field input,
.mpr-field select,
.mpr-field textarea {
  min-height: 48px;
  padding: 10px 12px;
  font-size: var(--mpr-text-base);
  border: 2px solid var(--mpr-border);
  border-radius: var(--mpr-radius);
  color: var(--mpr-text);
  background: var(--mpr-bg);
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.mpr-field input:focus,
.mpr-field select:focus,
.mpr-field textarea:focus {
  outline: none;
  border-color: var(--mpr-border-focus);
  box-shadow: 0 0 0 3px rgba(43, 91, 168, 0.15);
}

.mpr-field input:disabled,
.mpr-field select:disabled {
  background-color: #f3f4f6;
  color: var(--mpr-text-muted);
  cursor: not-allowed;
}

.mpr-field.span-2 { grid-column: span 2; }
.mpr-field.span-3 { grid-column: span 3; }

/* ===================================================== */
/* === BOUTONS SENIORS-FRIENDLY                       === */
/* ===================================================== */

.mpr-btn {
  min-height: 52px;
  min-width: 120px;
  padding: 12px 24px;
  font-size: var(--mpr-text-base);
  font-weight: 600;
  border-radius: var(--mpr-radius);
  border: none;
  cursor: pointer;
  transition: background 0.2s ease, transform 0.15s ease, box-shadow 0.2s ease;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--mpr-gap-sm);
}

.mpr-btn-primary {
  background: var(--mpr-primary);
  color: white;
  box-shadow: var(--mpr-shadow-sm);
}

.mpr-btn-primary:hover {
  background: var(--mpr-primary-hover);
  transform: translateY(-1px);
  box-shadow: var(--mpr-shadow-md);
}

.mpr-btn-primary:active {
  transform: translateY(0);
  box-shadow: var(--mpr-shadow-sm);
}

.mpr-btn-gold {
  background: var(--mpr-gold);
  color: white;
  box-shadow: var(--mpr-shadow-sm);
}

.mpr-btn-gold:hover {
  background: var(--mpr-gold-hover);
  transform: translateY(-1px);
  box-shadow: var(--mpr-shadow-md);
}

.mpr-btn-secondary {
  background: var(--mpr-bg);
  color: var(--mpr-primary);
  border: 2px solid var(--mpr-primary);
}

.mpr-btn-secondary:hover {
  background: var(--mpr-primary);
  color: white;
}

/* ===================================================== */
/* === CARTES RÉSULTATS                               === */
/* ===================================================== */

.mpr-result-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--mpr-gap-sm);
  margin-top: var(--mpr-gap-lg);
}

.mpr-result-card {
  background: var(--mpr-bg-accent);
  border: 1px solid var(--mpr-primary);
  border-radius: var(--mpr-radius);
  padding: var(--mpr-gap-sm);
  text-align: center;
}

.mpr-result-amount {
  font-size: var(--mpr-text-xl);
  font-weight: 700;
  color: var(--mpr-navy);
  margin-bottom: 4px;
}

.mpr-result-label {
  font-size: 14px;
  color: var(--mpr-text-muted);
}

/* ===================================================== */
/* === SECTIONS                                       === */
/* ===================================================== */

.mpr-section {
  background: var(--mpr-bg-section);
  border-radius: var(--mpr-radius-lg);
  padding: var(--mpr-gap-lg);
  margin-bottom: var(--mpr-gap-xl);
  border: 1px solid var(--mpr-border);
}

.mpr-section-title {
  color: var(--mpr-h2);
  font-family: var(--mpr-font-display);
  font-size: var(--mpr-text-2xl);
  font-weight: 700;
  margin-bottom: var(--mpr-gap-lg);
  padding-bottom: var(--mpr-gap-sm);
  border-bottom: 2px solid var(--mpr-border);
}

/* ===================================================== */
/* === TOOLTIPS                                       === */
/* ===================================================== */

.mpr-tooltip {
  position: relative;
  cursor: help;
}

.mpr-tooltip::after {
  content: '?';
  display: inline-block;
  width: 16px;
  height: 16px;
  background: var(--mpr-primary);
  color: white;
  border-radius: 50%;
  font-size: 12px;
  text-align: center;
  line-height: 16px;
  margin-left: 4px;
}

/* ===================================================== */
/* === ÉTATS ET VALIDATIONS                           === */
/* ===================================================== */

.mpr-field.error input,
.mpr-field.error select {
  border-color: var(--mpr-error);
}

.mpr-field.success input,
.mpr-field.success select {
  border-color: var(--mpr-success);
}

.mpr-error-message {
  color: var(--mpr-error);
  font-size: 14px;
  margin-top: 4px;
}

/* Alertes */
.mpr-alert-info {
  background: var(--mpr-bg-accent);
  border: 1px solid var(--mpr-primary);
  border-radius: var(--mpr-radius);
  padding: var(--mpr-gap-md);
  margin-bottom: var(--mpr-gap-md);
}

.mpr-alert-warning {
  background: var(--mpr-gold-faint);
  border: 1px solid var(--mpr-gold);
  border-radius: var(--mpr-radius);
  padding: var(--mpr-gap-md);
  margin-bottom: var(--mpr-gap-md);
}

.mpr-alert-success {
  background: rgba(22, 163, 74, 0.08);
  border: 1px solid var(--mpr-success);
  border-radius: var(--mpr-radius);
  padding: var(--mpr-gap-md);
  margin-bottom: var(--mpr-gap-md);
}

/* ===================================================== */
/* === RESPONSIVE SENIORS (MOBILE-FIRST)             === */
/* ===================================================== */

@media (max-width: 1279px) {
  .mpr-form-row.cols-4 { grid-template-columns: repeat(2, 1fr); }
  .mpr-form-row.cols-3 { grid-template-columns: repeat(2, 1fr); }
}

@media (max-width: 767px) {
  .mpr-container { padding: var(--mpr-gap-md); }

  .mpr-form-row.cols-4,
  .mpr-form-row.cols-3,
  .mpr-form-row.cols-2 {
    grid-template-columns: 1fr;
  }

  /* RÈGLE CRITIQUE : Conserver label à gauche même en mobile */
  .mpr-field {
    grid-template-columns: minmax(120px, 45%) 1fr;
    align-items: center;
  }

  .mpr-result-grid { grid-template-columns: 1fr; }

  h1, .h1 { font-size: var(--mpr-text-2xl); }
  h2, .h2 { font-size: var(--mpr-text-xl); }
}
